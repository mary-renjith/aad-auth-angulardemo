"use strict";(self.webpackChunkAAD_Auth_AngularDemo=self.webpackChunkAAD_Auth_AngularDemo||[]).push([[179],{2011:(ht,Ie,F)=>{F.d(Ie,{Dh:()=>fe,GT:()=>pe,cc:()=>ke,hO:()=>He,on:()=>z,pX:()=>ce,xv:()=>me});var o=F(4650),re=F(127),N=F(5813);ht=F.hmd(ht);const ue=["ngOnDestroy"],ce=(ge,nt,dt,Re={})=>new Proxy(ge,{get:(_e,De)=>dt.runOutsideAngular(()=>{var je;if(ge[De])return!(null===(je=Re?.spy)||void 0===je)&&je.get&&Re.spy.get(De,ge[De]),ge[De];if(ue.indexOf(De)>-1)return()=>{};const Ye=nt.toPromise().then(q=>{const be=q&&q[De];return"function"==typeof be?be.bind(q):be&&be.then?be.then(X=>dt.run(()=>X)):dt.run(()=>be)});return new Proxy(()=>{},{get:(q,be)=>Ye[be],apply:(q,be,X)=>Ye.then(le=>{var se;const ve=le&&le(...X);return!(null===(se=Re?.spy)||void 0===se)&&se.apply&&Re.spy.apply(De,X,ve),ve})})})}),pe=(ge,nt)=>{nt.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(Re=>{Object.defineProperty(ge.prototype,Re,Object.getOwnPropertyDescriptor(dt.prototype||dt,Re))})})};class ie{constructor(nt){return nt}}const fe=new o.OlP("angularfire2.app.options"),me=new o.OlP("angularfire2.app.name");function z(ge,nt,dt){const _e="object"==typeof dt&&dt||{};_e.name=_e.name||"string"==typeof dt&&dt||"[DEFAULT]";const je=re.Z.apps.filter(Ye=>Ye&&Ye.name===_e.name)[0]||nt.runOutsideAngular(()=>re.Z.initializeApp(ge,_e));try{JSON.stringify(ge)!==JSON.stringify(je.options)&&Y("error",`${je.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(je)}const Y=(ge,...nt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ge](...nt)},ee={provide:ie,useFactory:z,deps:[fe,o.R0b,[new o.FiY,me]]};let He=(()=>{class ge{constructor(dt){re.Z.registerVersion("angularfire",N.q4.full,"core"),re.Z.registerVersion("angularfire",N.q4.full,"app-compat"),re.Z.registerVersion("angular",o.q4F.full,dt.toString())}static initializeApp(dt,Re){return{ngModule:ge,providers:[{provide:fe,useValue:dt},{provide:me,useValue:Re}]}}}return ge.\u0275fac=function(dt){return new(dt||ge)(o.LFG(o.Lbi))},ge.\u0275mod=o.oAB({type:ge}),ge.\u0275inj=o.cJS({providers:[ee]}),ge})();function ke(ge,nt,dt,Re,_e){const[,De,je]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===ge)||[];if(De)return function Ce(ge,nt){try{return ge.toString()===nt.toString()}catch{return ge===nt}}(_e,je)||(ye("error",`${nt} was already initialized on the ${dt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:_e,was:je})),De;{const Ye=Re();return globalThis.\u0275AngularfireInstanceCache.push([ge,Ye,_e]),Ye}}const at=!!ht.hot,ye=(ge,...nt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ge](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,Ie,F)=>{F.d(Ie,{q4:()=>Gd,iC:()=>Bt,fc:()=>hr,HU:()=>La,vb:()=>Fa,JM:()=>xn});var o=F(4650),re=F(5867),N=F(5861),ue=F(9681),ce=F(2090),pe=F(4859),ie=F(1877),fe=F(8766);const me="@firebase/installations",z="0.5.12",ee=`w:${z}`,He="FIS_v2",nt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(T){return T instanceof ce.ZR&&T.code.includes("request-failed")}function Re({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function _e(T){return{token:T.token,requestStatus:2,expiresIn:le(T.expiresIn),creationTime:Date.now()}}function De(T,I){return je.apply(this,arguments)}function je(){return(je=(0,N.Z)(function*(T,I){const H=(yield I.json()).error;return nt.create("request-failed",{requestName:T,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Ye({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function q(T,{refreshToken:I}){const R=Ye(T);return R.append("Authorization",function se(T){return`${He} ${T}`}(I)),R}function be(T){return X.apply(this,arguments)}function X(){return(X=(0,N.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function le(T){return Number(T.replace("s","000"))}function ve(T,I){return he.apply(this,arguments)}function he(){return(he=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:R}){const H=Re(T),J=Ye(T),te=I.getImmediate({optional:!0});if(te){const Et=yield te.getHeartbeatsHeader();Et&&J.append("x-firebase-client",Et)}const Ze={method:"POST",headers:J,body:JSON.stringify({fid:R,authVersion:He,appId:T.appId,sdkVersion:ee})},ut=yield be(()=>fetch(H,Ze));if(ut.ok){const Et=yield ut.json();return{fid:Et.fid||R,registrationStatus:2,refreshToken:Et.refreshToken,authToken:_e(Et.authToken)}}throw yield De("Create Installation",ut)})).apply(this,arguments)}function Pe(T){return new Promise(I=>{setTimeout(I,T)})}const en=/^[cdef][\w-]{21}$/;function et(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const R=function yn(T){return function yt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return en.test(R)?R:""}catch{return""}}function si(T){return`${T.appName}!${T.appId}`}const En=new Map;function hn(T,I){const R=si(T);Zt(R,I),function po(T,I){const R=function Xi(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=T=>{Zt(T.data.key,T.data.fid)}),Mr}();R&&R.postMessage({key:T,fid:I}),function _r(){0===En.size&&Mr&&(Mr.close(),Mr=null)}()}(R,I)}function Zt(T,I){const R=En.get(T);if(R)for(const H of R)H(I)}let Mr=null;const vr="firebase-installations-store";let Zr=null;function wt(){return Zr||(Zr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(vr)}})),Zr}function yr(T,I){return ai.apply(this,arguments)}function ai(){return(ai=(0,N.Z)(function*(T,I){const R=si(T),J=(yield wt()).transaction(vr,"readwrite"),te=J.objectStore(vr),Se=yield te.get(R);return yield te.put(I,R),yield J.done,(!Se||Se.fid!==I.fid)&&hn(T,I.fid),I})).apply(this,arguments)}function Yn(T){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(T){const I=si(T),H=(yield wt()).transaction(vr,"readwrite");yield H.objectStore(vr).delete(I),yield H.done})).apply(this,arguments)}function _o(T,I){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,N.Z)(function*(T,I){const R=si(T),J=(yield wt()).transaction(vr,"readwrite"),te=J.objectStore(vr),Se=yield te.get(R),Ze=I(Se);return void 0===Ze?yield te.delete(R):yield te.put(Ze,R),yield J.done,Ze&&(!Se||Se.fid!==Ze.fid)&&hn(T,Ze.fid),Ze})).apply(this,arguments)}function _i(T){return kr.apply(this,arguments)}function kr(){return(kr=(0,N.Z)(function*(T){let I;const R=yield _o(T.appConfig,H=>{const J=As(H),te=tn(T,J);return I=te.registrationPromise,te.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function As(T){return Rr(T||{fid:et(),registrationStatus:0})}function tn(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(nt.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},H=function qe(T,I){return Rt.apply(this,arguments)}(T,R);return{installationEntry:R,registrationPromise:H}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:rr(T)}:{installationEntry:I}}function Rt(){return(Rt=(0,N.Z)(function*(T,I){try{const R=yield ve(T,I);return yr(T.appConfig,R)}catch(R){throw dt(R)&&409===R.customData.serverCode?yield Yn(T.appConfig):yield yr(T.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function rr(T){return Di.apply(this,arguments)}function Di(){return(Di=(0,N.Z)(function*(T){let I=yield xt(T.appConfig);for(;1===I.registrationStatus;)yield Pe(100),I=yield xt(T.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:H}=yield _i(T);return H||R}return I})).apply(this,arguments)}function xt(T){return _o(T,I=>{if(!I)throw nt.create("installation-not-found");return Rr(I)})}function Rr(T){return function Ti(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Qr(T,I){return gn.apply(this,arguments)}function gn(){return(gn=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:I},R){const H=br(T,R),J=q(T,R),te=I.getImmediate({optional:!0});if(te){const Et=yield te.getHeartbeatsHeader();Et&&J.append("x-firebase-client",Et)}const Ze={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee,appId:T.appId}})},ut=yield be(()=>fetch(H,Ze));if(ut.ok)return _e(yield ut.json());throw yield De("Generate Auth Token",ut)})).apply(this,arguments)}function br(T,{fid:I}){return`${Re(T)}/${I}/authTokens:generate`}function G(T){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(T,I=!1){let R;const H=yield _o(T.appConfig,te=>{if(!ft(te))throw nt.create("not-registered");const Se=te.authToken;if(!I&&Sn(Se))return te;if(1===Se.requestStatus)return R=V(T,I),te;{if(!navigator.onLine)throw nt.create("app-offline");const Ze=Fi(te);return R=Me(T,Ze),Ze}});return R?yield R:H.authToken})).apply(this,arguments)}function V(T,I){return K.apply(this,arguments)}function K(){return(K=(0,N.Z)(function*(T,I){let R=yield $(T.appConfig);for(;1===R.authToken.requestStatus;)yield Pe(100),R=yield $(T.appConfig);const H=R.authToken;return 0===H.requestStatus?G(T,I):H})).apply(this,arguments)}function $(T){return _o(T,I=>{if(!ft(I))throw nt.create("not-registered");return function Yt(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Me(T,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,N.Z)(function*(T,I){try{const R=yield Qr(T,I),H=Object.assign(Object.assign({},I),{authToken:R});return yield yr(T.appConfig,H),R}catch(R){if(!dt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const H=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield yr(T.appConfig,H)}else yield Yn(T.appConfig);throw R}})).apply(this,arguments)}function ft(T){return void 0!==T&&2===T.registrationStatus}function Sn(T){return 2===T.requestStatus&&!function ln(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function Fi(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function Ln(){return(Ln=(0,N.Z)(function*(T){const I=T,{installationEntry:R,registrationPromise:H}=yield _i(I);return H?H.catch(console.error):G(I).catch(console.error),R.fid})).apply(this,arguments)}function qi(){return(qi=(0,N.Z)(function*(T,I=!1){const R=T;return yield or(R),(yield G(R,I)).token})).apply(this,arguments)}function or(T){return $e.apply(this,arguments)}function $e(){return($e=(0,N.Z)(function*(T){const{registrationPromise:I}=yield _i(T);I&&(yield I)})).apply(this,arguments)}function Jr(T){return nt.create("missing-app-config-values",{valueName:T})}const Ut="installations",Un=T=>{const I=T.getProvider("app").getImmediate(),R=function cl(T){if(!T||!T.options)throw Jr("App Configuration");if(!T.name)throw Jr("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!T.options[R])throw Jr(R);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},pa=T=>{const I=T.getProvider("app").getImmediate(),R=(0,ue._getProvider)(I,Ut).getImmediate();return{getId:()=>function Vt(T){return Ln.apply(this,arguments)}(R),getToken:J=>function vi(T){return qi.apply(this,arguments)}(R,J)}};(function Ms(){(0,ue._registerComponent)(new pe.wA(Ut,Un,"PUBLIC")),(0,ue._registerComponent)(new pe.wA("installations-internal",pa,"PRIVATE"))})(),(0,ue.registerVersion)(me,z),(0,ue.registerVersion)(me,z,"esm2017");const yi="@firebase/remote-config",$i=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lf{constructor(I,R,H,J){this.client=I,this.storage=R,this.storageCache=H,this.logger=J}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-R,J=H<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var R=this;return(0,N.Z)(function*(){const[H,J]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(J&&R.isCachedDataFresh(I.cacheMaxAgeMillis,H))return J;I.eTag=J&&J.eTag;const te=yield R.client.fetch(I),Se=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Se.push(R.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Se),te})()}}function gu(T=navigator){return T.languages&&T.languages[0]||T.language}class rc{constructor(I,R,H,J,te,Se){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=H,this.projectId=J,this.apiKey=te,this.appId=Se}fetch(I){var R=this;return(0,N.Z)(function*(){var H,J,te;const[Se,Ze]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},lt={sdk_version:R.sdkVersion,app_instance_id:Se,app_instance_id_token:Ze,app_id:R.appId,language_code:gu()},wn={method:"POST",headers:Dt,body:JSON.stringify(lt)},Ui=fetch(Et,wn),Ri=new Promise((pr,cn)=>{I.signal.addEventListener(()=>{const Qe=new Error("The operation was aborted.");Qe.name="AbortError",cn(Qe)})});let So;try{yield Promise.race([Ui,Ri]),So=yield Ui}catch(pr){let cn="fetch-client-network";throw"AbortError"===(null===(H=pr)||void 0===H?void 0:H.name)&&(cn="fetch-timeout"),$i.create(cn,{originalErrorMessage:null===(J=pr)||void 0===J?void 0:J.message})}let ei=So.status;const ti=So.headers.get("ETag")||void 0;let fr,qt;if(200===So.status){let pr;try{pr=yield So.json()}catch(cn){throw $i.create("fetch-client-parse",{originalErrorMessage:null===(te=cn)||void 0===te?void 0:te.message})}fr=pr.entries,qt=pr.state}if("INSTANCE_STATE_UNSPECIFIED"===qt?ei=500:"NO_CHANGE"===qt?ei=304:("NO_TEMPLATE"===qt||"EMPTY_CONFIG"===qt)&&(fr={}),304!==ei&&200!==ei)throw $i.create("fetch-status",{httpStatus:ei});return{status:ei,eTag:ti,config:fr}})()}}class rm{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,N.Z)(function*(){const H=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,H)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:H}){var J=this;return(0,N.Z)(function*(){yield function Rs(T,I){return new Promise((R,H)=>{const J=Math.max(I-Date.now(),0),te=setTimeout(R,J);T.addEventListener(()=>{clearTimeout(te),H($i.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const te=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),te}catch(te){if(!function Or(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(te))throw te;const Se={throttleEndTimeMillis:Date.now()+(0,ce.$s)(H),backoffCount:H+1};return yield J.storage.setThrottleMetadata(Se),J.attemptFetch(I,Se)}})()}}class Td{constructor(I,R,H,J,te){this.app=I,this._client=R,this._storageCache=H,this._storage=J,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _u(T,I){var R;const H=T.target.error||void 0;return $i.create(I,{originalErrorMessage:H&&(null===(R=H)||void 0===R?void 0:R.message)})}const rs="app_namespace_store";class lm{constructor(I,R,H,J=function am(){return new Promise((T,I)=>{var R;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=J=>{I(_u(J,"storage-open"))},H.onsuccess=J=>{T(J.target.result)},H.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(rs,{keyPath:"compositeKey"})}}catch(H){I($i.create("storage-open",{originalErrorMessage:null===(R=H)||void 0===R?void 0:R.message}))}})}()){this.appId=I,this.appName=R,this.namespace=H,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((J,te)=>{var Se;const ut=H.transaction([rs],"readonly").objectStore(rs),Et=R.createCompositeKey(I);try{const Dt=ut.get(Et);Dt.onerror=lt=>{te(_u(lt,"storage-get"))},Dt.onsuccess=lt=>{const wn=lt.target.result;J(wn?wn.value:void 0)}}catch(Dt){te($i.create("storage-get",{originalErrorMessage:null===(Se=Dt)||void 0===Se?void 0:Se.message}))}})})()}set(I,R){var H=this;return(0,N.Z)(function*(){const J=yield H.openDbPromise;return new Promise((te,Se)=>{var Ze;const Et=J.transaction([rs],"readwrite").objectStore(rs),Dt=H.createCompositeKey(I);try{const lt=Et.put({compositeKey:Dt,value:R});lt.onerror=wn=>{Se(_u(wn,"storage-set"))},lt.onsuccess=()=>{te()}}catch(lt){Se($i.create("storage-set",{originalErrorMessage:null===(Ze=lt)||void 0===Ze?void 0:Ze.message}))}})})()}delete(I){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((J,te)=>{var Se;const ut=H.transaction([rs],"readwrite").objectStore(rs),Et=R.createCompositeKey(I);try{const Dt=ut.delete(Et);Dt.onerror=lt=>{te(_u(lt,"storage-delete"))},Dt.onsuccess=()=>{J()}}catch(Dt){te($i.create("storage-delete",{originalErrorMessage:null===(Se=Dt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class pl{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const R=I.storage.getLastFetchStatus(),H=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),te=yield R;te&&(I.lastFetchStatus=te);const Se=yield H;Se&&(I.lastSuccessfulFetchTimestampMillis=Se);const Ze=yield J;Ze&&(I.activeConfig=Ze)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function oc(){return os.apply(this,arguments)}function os(){return(os=(0,N.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Po(){(0,ue._registerComponent)(new pe.wA("remote-config",function T(I,{instanceIdentifier:R}){const H=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $i.create("registration-window");if(!(0,ce.hl)())throw $i.create("indexed-db-unavailable");const{projectId:te,apiKey:Se,appId:Ze}=H.options;if(!te)throw $i.create("registration-project-id");if(!Se)throw $i.create("registration-api-key");if(!Ze)throw $i.create("registration-app-id");const ut=new lm(Ze,H.name,R=R||"firebase"),Et=new pl(ut),Dt=new ie.Yd(yi);Dt.logLevel=ie.in.ERROR;const lt=new rc(J,ue.SDK_VERSION,R,te,Se,Ze),wn=new rm(lt,ut),Ui=new lf(wn,ut,Et,Dt),Ri=new Td(H,Ui,Et,ut,Dt);return function af(T){const I=(0,ce.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ri),Ri},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(yi,"0.3.11"),(0,ue.registerVersion)(yi,"0.3.11","esm2017")}();const vu="/firebase-messaging-sw.js",Pr="/firebase-cloud-messaging-push-scope",ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yu="google.c.a.c_id",ml="google.c.a.c_l",gl="google.c.a.ts",cf="google.c.a.e";var ci=(()=>{return(T=ci||(ci={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ci;var T})();function Pn(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sc(T){const R=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(R),J=new Uint8Array(H.length);for(let te=0;te<H.length;++te)J[te]=H.charCodeAt(te);return J}const ac="fcm_token_details_db",Er="fcm_token_object_Store";function uf(T){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,N.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(ac))return null;let I=null;return(yield(0,fe.X3)(ac,5,{upgrade:(H=(0,N.Z)(function*(J,te,Se,Ze){var ut;if(te<2||!J.objectStoreNames.contains(Er))return;const Et=Ze.objectStore(Er),Dt=yield Et.index("fcmSenderId").get(T);if(yield Et.clear(),Dt)if(2===te){const lt=Dt;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;I={token:lt.fcmToken,createTime:null!==(ut=lt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Pn(lt.vapidKey)}}}else if(3===te){const lt=Dt;I={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Pn(lt.auth),p256dh:Pn(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Pn(lt.vapidKey)}}}else if(4===te){const lt=Dt;I={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Pn(lt.auth),p256dh:Pn(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Pn(lt.vapidKey)}}}}),function(te,Se,Ze,ut){return H.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ac),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Md(I)?I:null;var H}),Xn.apply(this,arguments)}function Md(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const bi="firebase-messaging-store";let lc=null;function xs(){return lc||(lc=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(bi)}})),lc}function as(T){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,N.Z)(function*(T){const I=ls(T),H=yield(yield xs()).transaction(bi).objectStore(bi).get(I);if(H)return H;{const J=yield uf(T.appConfig.senderId);if(J)return yield Os(T,J),J}})).apply(this,arguments)}function Os(T,I){return No.apply(this,arguments)}function No(){return(No=(0,N.Z)(function*(T,I){const R=ls(T),J=(yield xs()).transaction(bi,"readwrite");return yield J.objectStore(bi).put(I,R),yield J.done,I})).apply(this,arguments)}function ba(T){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,N.Z)(function*(T){const I=ls(T),H=(yield xs()).transaction(bi,"readwrite");yield H.objectStore(bi).delete(I),yield H.done})).apply(this,arguments)}function ls({appConfig:T}){return T.appId}const rt=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cc(T,I){return bu.apply(this,arguments)}function bu(){return(bu=(0,N.Z)(function*(T,I){var R;const H=yield dc(T),J=Gt(I),te={method:"POST",headers:H,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(Ca(T.appConfig),te)).json()}catch(Ze){throw rt.create("token-subscribe-failed",{errorInfo:null===(R=Ze)||void 0===R?void 0:R.toString()})}if(Se.error)throw rt.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw rt.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function Cu(T,I){return uc.apply(this,arguments)}function uc(){return(uc=(0,N.Z)(function*(T,I){var R;const H=yield dc(T),J=Gt(I.subscriptionOptions),te={method:"PATCH",headers:H,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(`${Ca(T.appConfig)}/${I.token}`,te)).json()}catch(Ze){throw rt.create("token-update-failed",{errorInfo:null===(R=Ze)||void 0===R?void 0:R.toString()})}if(Se.error)throw rt.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw rt.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Ps(T,I){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,N.Z)(function*(T,I){var R;const J={method:"DELETE",headers:yield dc(T)};try{const Se=yield(yield fetch(`${Ca(T.appConfig)}/${I}`,J)).json();if(Se.error)throw rt.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(te){throw rt.create("token-unsubscribe-failed",{errorInfo:null===(R=te)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Ca({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function dc(T){return Te.apply(this,arguments)}function Te(){return(Te=(0,N.Z)(function*({appConfig:T,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Gt({p256dh:T,auth:I,endpoint:R,vapidKey:H}){const J={web:{endpoint:R,auth:I,p256dh:T}};return H!==ss&&(J.web.applicationPubKey=H),J}const wa=6048e5;function Fs(T){return $n.apply(this,arguments)}function $n(){return($n=(0,N.Z)(function*(T){const I=yield hc(T.swRegistration,T.vapidKey),R={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:Pn(I.getKey("auth")),p256dh:Pn(I.getKey("p256dh"))},H=yield as(T.firebaseDependencies);if(H){if(Fo(H.subscriptionOptions,R))return Date.now()>=H.createTime+wa?Fr(T,{token:H.token,createTime:Date.now(),subscriptionOptions:R}):H.token;try{yield Ps(T.firebaseDependencies,H.token)}catch(J){console.warn(J)}return Sa(T.firebaseDependencies,R)}return Sa(T.firebaseDependencies,R)})).apply(this,arguments)}function Ea(T){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,N.Z)(function*(T){const I=yield as(T.firebaseDependencies);I&&(yield Ps(T.firebaseDependencies,I.token),yield ba(T.firebaseDependencies));const R=yield T.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Fr(T,I){return bl.apply(this,arguments)}function bl(){return(bl=(0,N.Z)(function*(T,I){try{const R=yield Cu(T.firebaseDependencies,I),H=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Os(T.firebaseDependencies,H),R}catch(R){throw yield Ea(T),R}})).apply(this,arguments)}function Sa(T,I){return Da.apply(this,arguments)}function Da(){return(Da=(0,N.Z)(function*(T,I){const H={token:yield cc(T,I),createTime:Date.now(),subscriptionOptions:I};return yield Os(T,H),H.token})).apply(this,arguments)}function hc(T,I){return df.apply(this,arguments)}function df(){return(df=(0,N.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sc(I)})})).apply(this,arguments)}function Fo(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function Ai(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Xr(T,I){if(!I.notification)return;T.notification={};const R=I.notification.title;R&&(T.notification.title=R);const H=I.notification.body;H&&(T.notification.body=H);const J=I.notification.image;J&&(T.notification.image=J)}(I,T),function wu(T,I){!I.data||(T.data=I.data)}(I,T),function Bs(T,I){var R,H,J,te,Se;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;T.fcmOptions={};const Ze=null!==(J=null===(H=I.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==J?J:null===(te=I.notification)||void 0===te?void 0:te.click_action;Ze&&(T.fcmOptions.link=Ze);const ut=null===(Se=I.fcmOptions)||void 0===Se?void 0:Se.analytics_label;ut&&(T.fcmOptions.analyticsLabel=ut)}(I,T),I}function eo(T){return"object"==typeof T&&!!T&&yu in T}function Rd(T,I){const R=[];for(let H=0;H<T.length;H++)R.push(T.charAt(H)),H<I.length&&R.push(I.charAt(H));return R.join("")}function Ta(T){return rt.create("missing-app-config-values",{valueName:T})}Rd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hf{constructor(I,R,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function xd(T){if(!T||!T.options)throw Ta("App Configuration Object");if(!T.name)throw Ta("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=T;for(const H of I)if(!R[H])throw Ta(H);return{appName:T.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:R,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Ia(T){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(T){var I;try{T.swRegistration=yield navigator.serviceWorker.register(vu,{scope:Pr}),T.swRegistration.update().catch(()=>{})}catch(R){throw rt.create("failed-service-worker-registration",{browserErrorMessage:null===(I=R)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function fc(T,I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,N.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield Ia(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function Eu(T,I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=ss)})).apply(this,arguments)}function Su(){return(Su=(0,N.Z)(function*(T,I){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield Eu(T,I?.vapidKey),yield fc(T,I?.serviceWorkerRegistration),Fs(T)})).apply(this,arguments)}function pc(T,I,R){return mc.apply(this,arguments)}function mc(){return(mc=(0,N.Z)(function*(T,I,R){const H=gc(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:R[yu],message_name:R[ml],message_time:R[gl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gc(T){switch(T){case ci.NOTIFICATION_CLICKED:return"notification_open";case ci.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Du(){return(Du=(0,N.Z)(function*(T,I){const R=I.data;if(!R.isFirebaseMessaging)return;T.onMessageHandler&&R.messageType===ci.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Ai(R)):T.onMessageHandler.next(Ai(R)));const H=R.data;eo(H)&&"1"===H[cf]&&(yield pc(T,R.messageType,H))})).apply(this,arguments)}const vc="@firebase/messaging",Lo=T=>{const I=new hf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function _c(T,I){return Du.apply(this,arguments)}(I,R)),I},bn=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:H=>function wl(T,I){return Su.apply(this,arguments)}(I,H)}};function Pd(){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,N.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Od(){(0,ue._registerComponent)(new pe.wA("messaging",Lo,"PUBLIC")),(0,ue._registerComponent)(new pe.wA("messaging-internal",bn,"PRIVATE")),(0,ue.registerVersion)(vc,"0.9.16"),(0,ue.registerVersion)(vc,"0.9.16","esm2017")}();const Iu="analytics",Hs="firebase_id",Ra="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vs="https://www.googletagmanager.com/gtag/js",Mi=new ie.Yd("@firebase/analytics");function Ld(T){return Promise.all(T.map(I=>I.catch(R=>R)))}function cm(T,I){const R=document.createElement("script");R.src=`${Vs}?l=${T}&id=${I}`,R.async=!0,document.head.appendChild(R)}function gf(T,I,R,H,J,te){return js.apply(this,arguments)}function js(){return(js=(0,N.Z)(function*(T,I,R,H,J,te){const Se=H[J];try{if(Se)yield I[Se];else{const ut=(yield Ld(R)).find(Et=>Et.measurementId===J);ut&&(yield I[ut.appId])}}catch(Ze){Mi.error(Ze)}T("config",J,te)})).apply(this,arguments)}function _f(T,I,R,H,J){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,N.Z)(function*(T,I,R,H,J){try{let te=[];if(J&&J.send_to){let Se=J.send_to;Array.isArray(Se)||(Se=[Se]);const Ze=yield Ld(R);for(const ut of Se){const Et=Ze.find(lt=>lt.measurementId===ut),Dt=Et&&I[Et.appId];if(!Dt){te=[];break}te.push(Dt)}}0===te.length&&(te=Object.values(I)),yield Promise.all(te),T("event",H,J||{})}catch(te){Mi.error(te)}})).apply(this,arguments)}function yf(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(Vs))return I;return null}const to=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bd=new class no{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function bf(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Lr(T){return zt.apply(this,arguments)}function zt(){return(zt=(0,N.Z)(function*(T){var I;const{appId:R,apiKey:H}=T,J={method:"GET",headers:bf(H)},te=Ra.replace("{app-id}",R),Se=yield fetch(te,J);if(200!==Se.status&&304!==Se.status){let Ze="";try{const ut=yield Se.json();null!==(I=ut.error)&&void 0!==I&&I.message&&(Ze=ut.error.message)}catch{}throw to.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ze})}return Se.json()})).apply(this,arguments)}function Ae(T){return ui.apply(this,arguments)}function ui(){return(ui=(0,N.Z)(function*(T,I=Bd,R){const{appId:H,apiKey:J,measurementId:te}=T.options;if(!H)throw to.create("no-app-id");if(!J){if(te)return{measurementId:te,appId:H};throw to.create("no-api-key")}const Se=I.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Rn;return setTimeout((0,N.Z)(function*(){Ze.abort()}),void 0!==R?R:6e4),Hn({appId:H,apiKey:J,measurementId:te},Se,Ze,I)})).apply(this,arguments)}function Hn(T,I,R){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,N.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:R},H,J=Bd){var te,Se;const{appId:Ze,measurementId:ut}=T;try{yield ar(H,I)}catch(Et){if(ut)return Mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(te=Et)||void 0===te?void 0:te.message}]`),{appId:Ze,measurementId:ut};throw Et}try{const Et=yield Lr(T);return J.deleteThrottleMetadata(Ze),Et}catch(Et){const Dt=Et;if(!Wn(Dt)){if(J.deleteThrottleMetadata(Ze),ut)return Mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${Dt?.message}]`),{appId:Ze,measurementId:ut};throw Et}const lt=503===Number(null===(Se=Dt?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,ce.$s)(R,J.intervalMillis,30):(0,ce.$s)(R,J.intervalMillis),wn={throttleEndTimeMillis:Date.now()+lt,backoffCount:R+1};return J.setThrottleMetadata(Ze,wn),Mi.debug(`Calling attemptFetch again in ${lt} millis`),Hn(T,wn,H,J)}})).apply(this,arguments)}function ar(T,I){return new Promise((R,H)=>{const J=Math.max(I-Date.now(),0),te=setTimeout(R,J);T.addEventListener(()=>{clearTimeout(te),H(to.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Wn(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Rn{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let fn,Sr;function us(){return(us=(0,N.Z)(function*(T,I,R,H,J){if(J&&J.global)T("event",R,H);else{const te=yield I;T("event",R,Object.assign(Object.assign({},H),{send_to:te}))}})).apply(this,arguments)}function yo(T){Sr=T}function Ud(T){fn=T}function Mu(){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,N.Z)(function*(){var T;if(!(0,ce.hl)())return Mi.warn(to.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(I){return Mi.warn(to.create("indexeddb-unavailable",{errorInfo:null===(T=I)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function Oa(){return(Oa=(0,N.Z)(function*(T,I,R,H,J,te,Se){var Ze;const ut=Ae(T);ut.then(Ui=>{R[Ui.measurementId]=Ui.appId,T.options.measurementId&&Ui.measurementId!==T.options.measurementId&&Mi.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Ui.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ui=>Mi.error(Ui)),I.push(ut);const Et=Mu().then(Ui=>{if(Ui)return H.getId()}),[Dt,lt]=yield Promise.all([ut,Et]);yf()||cm(te,Dt.measurementId),Sr&&(J("consent","default",Sr),yo(void 0)),J("js",new Date);const wn=null!==(Ze=Se?.config)&&void 0!==Ze?Ze:{};return wn.origin="firebase",wn.update=!0,null!=lt&&(wn[Hs]=lt),J("config",Dt.measurementId,wn),fn&&(J("set",fn),Ud(void 0)),Dt.measurementId})).apply(this,arguments)}class Ys{constructor(I){this.app=I}_delete(){return delete lr[this.app.options.appId],Promise.resolve()}}let lr={},Dr=[];const Kn={};let Tc,Co,Bo="dataLayer",Jt=!1;function Vd(T,I,R){!function Cf(){const T=[];if((0,ce.ru)()&&T.push("This is a browser extension environment."),(0,ce.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((H,J)=>`(${J+1}) ${H}`).join(" "),R=to.create("invalid-analytics-context",{errorInfo:I});Mi.warn(R.message)}}();const H=T.options.appId;if(!H)throw to.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw to.create("no-api-key");Mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lr[H])throw to.create("already-exists",{id:H});if(!Jt){!function um(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(Bo);const{wrappedGtag:te,gtagCore:Se}=function vf(T,I,R,H,J){let te=function(...Se){window[H].push(arguments)};return window[J]&&"function"==typeof window[J]&&(te=window[J]),window[J]=function wc(T,I,R,H){function te(){return(te=(0,N.Z)(function*(Se,Ze,ut){try{"event"===Se?yield _f(T,I,R,Ze,ut):"config"===Se?yield gf(T,I,R,H,Ze,ut):"consent"===Se?T("consent","update",ut):T("set",Ze)}catch(Et){Mi.error(Et)}})).apply(this,arguments)}return function J(Se,Ze,ut){return te.apply(this,arguments)}}(te,T,I,R),{gtagCore:te,wrappedGtag:window[J]}}(lr,Dr,Kn,Bo,"gtag");Co=te,Tc=Se,Jt=!0}return lr[H]=function ds(T,I,R,H,J,te,Se){return Oa.apply(this,arguments)}(T,Dr,Kn,I,Tc,Bo,R),new Ys(T)}function __(){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,N.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const jd="@firebase/analytics";!function io(){(0,ue._registerComponent)(new pe.wA(Iu,(I,{options:R})=>Vd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new pe.wA("analytics-internal",function T(I){try{const R=I.getProvider(Iu).getImmediate();return{logEvent:(H,J,te)=>function Ac(T,I,R,H){T=(0,ce.m9)(T),function ot(T,I,R,H,J){return us.apply(this,arguments)}(Co,lr[T.app.options.appId],I,R,H).catch(J=>Mi.error(J))}(R,H,J,te)}}catch(R){throw to.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(jd,"0.8.0"),(0,ue.registerVersion)(jd,"0.8.0","esm2017")}();var Pa=F(4408),qs=F(7565);const Ru=new class $s extends qs.v{}(class Tl extends Pa.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(I,R,H):I.flush(this)}});var Tf=F(4986),Mc=F(8505),Uo=F(5363),cr=F(9468);const Gd=new o.GfV("7.4.1"),wo="__angularfire_symbol__analyticsIsSupportedValue",er="__angularfire_symbol__analyticsIsSupported",Tn="__angularfire_symbol__remoteConfigIsSupportedValue",Tt="__angularfire_symbol__remoteConfigIsSupported",It="__angularfire_symbol__messagingIsSupportedValue",Na="__angularfire_symbol__messagingIsSupported";function xn(T,I,R){if(I){if(1===I.length)return I[0];const te=I.filter(Se=>Se.app===R);if(1===te.length)return te[0]}return R.container.getProvider(T).getImmediate({optional:!0})}globalThis[er]||(globalThis[er]=__().then(T=>globalThis[wo]=T).catch(()=>globalThis[wo]=!1)),globalThis[Na]||(globalThis[Na]=Pd().then(T=>globalThis[It]=T).catch(()=>globalThis[It]=!1)),globalThis[Tt]||(globalThis[Tt]=oc().then(T=>globalThis[Tn]=T).catch(()=>globalThis[Tn]=!1));const Fa=(T,I)=>{const R=I?[I]:(0,re.C6)(),H=[];return R.forEach(J=>{J.container.getProvider(T).instances.forEach(Se=>{H.includes(Se)||H.push(Se)})}),H};function bt(){}class ur{constructor(I,R=Ru){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,H){const J=this.zone;return this.delegate.schedule(function(Se){J.runGuarded(()=>{I.apply(this,[Se])})},R,H)}}class wi{constructor(I){this.zone=I,this.task=null}call(I,R){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bt,{},bt,bt)),R.pipe((0,Mc.b)({next:H,complete:H,error:H})).subscribe(I).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let La=(()=>{class T{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ur(Zone.current)),this.insideAngular=R.run(()=>new ur(Zone.current,Tf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(R){return new(R||T)(o.LFG(o.R0b))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Eo(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function hr(T){return T.pipe((0,Uo.Q)(Eo().outsideAngular))}function Bt(T){return Eo(),function Cn(T){return function(R){return(R=R.lift(new wi(T.ngZone))).pipe((0,cr.R)(T.outsideAngular),(0,Uo.Q)(T.insideAngular))}}(Eo())(T)}},2090:(ht,Ie,F)=>{F.d(Ie,{$s:()=>Ti,BH:()=>He,DV:()=>an,Dv:()=>_o,GJ:()=>hn,L:()=>fe,LL:()=>he,Pz:()=>Kt,Sg:()=>ke,UG:()=>ye,UI:()=>po,US:()=>pe,Wj:()=>kr,Yr:()=>je,ZB:()=>Y,ZR:()=>ve,b$:()=>dt,cI:()=>en,dS:()=>tn,eu:()=>be,g5:()=>N,gK:()=>Qn,gQ:()=>Zr,h$:()=>ie,hl:()=>q,hu:()=>re,jU:()=>ge,lb:()=>As,m9:()=>br,ne:()=>wt,p$:()=>z,pd:()=>vr,r3:()=>ir,ru:()=>nt,tV:()=>me,uI:()=>at,ug:()=>qe,vZ:()=>Mr,w1:()=>_e,w9:()=>En,xO:()=>mo,xb:()=>Zt,z$:()=>Ce,zI:()=>X,zd:()=>ts});const re=function(G,W){if(!G)throw N(W)},N=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ue=function(G){const W=[];let V=0;for(let K=0;K<G.length;K++){let $=G.charCodeAt(K);$<128?W[V++]=$:$<2048?(W[V++]=$>>6|192,W[V++]=63&$|128):55296==(64512&$)&&K+1<G.length&&56320==(64512&G.charCodeAt(K+1))?($=65536+((1023&$)<<10)+(1023&G.charCodeAt(++K)),W[V++]=$>>18|240,W[V++]=$>>12&63|128,W[V++]=$>>6&63|128,W[V++]=63&$|128):(W[V++]=$>>12|224,W[V++]=$>>6&63|128,W[V++]=63&$|128)}return W},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,W){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let $=0;$<G.length;$+=3){const Me=G[$],Ge=$+1<G.length,ft=Ge?G[$+1]:0,Sn=$+2<G.length,ln=Sn?G[$+2]:0;let Vt=(15&ft)<<2|ln>>6,Ln=63&ln;Sn||(Ln=64,Ge||(Vt=64)),K.push(V[Me>>2],V[(3&Me)<<4|ft>>4],V[Vt],V[Ln])}return K.join("")},encodeString(G,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(G):this.encodeByteArray(ue(G),W)},decodeString(G,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(G):function(G){const W=[];let V=0,K=0;for(;V<G.length;){const $=G[V++];if($<128)W[K++]=String.fromCharCode($);else if($>191&&$<224){const Me=G[V++];W[K++]=String.fromCharCode((31&$)<<6|63&Me)}else if($>239&&$<365){const Sn=((7&$)<<18|(63&G[V++])<<12|(63&G[V++])<<6|63&G[V++])-65536;W[K++]=String.fromCharCode(55296+(Sn>>10)),W[K++]=String.fromCharCode(56320+(1023&Sn))}else{const Me=G[V++],Ge=G[V++];W[K++]=String.fromCharCode((15&$)<<12|(63&Me)<<6|63&Ge)}}return W.join("")}(this.decodeStringToByteArray(G,W))},decodeStringToByteArray(G,W){this.init_();const V=W?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let $=0;$<G.length;){const Me=V[G.charAt($++)],ft=$<G.length?V[G.charAt($)]:0;++$;const ln=$<G.length?V[G.charAt($)]:64;++$;const Yt=$<G.length?V[G.charAt($)]:64;if(++$,null==Me||null==ft||null==ln||null==Yt)throw Error();K.push(Me<<2|ft>>4),64!==ln&&(K.push(ft<<4&240|ln>>2),64!==Yt&&K.push(ln<<6&192|Yt))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ie=function(G){const W=ue(G);return pe.encodeByteArray(W,!0)},fe=function(G){return ie(G).replace(/\./g,"")},me=function(G){try{return pe.decodeString(G,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function z(G){return Y(void 0,G)}function Y(G,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return W}for(const V in W)!W.hasOwnProperty(V)||!ee(V)||(G[V]=Y(G[V],W[V]));return G}function ee(G){return"__proto__"!==G}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,V)=>{this.resolve=W,this.reject=V})}wrapCallback(W){return(V,K)=>{V?this.reject(V):this.resolve(K),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(V):W(V,K))}}}function ke(G,W){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=W||"demo-project",$=G.iat||0,Me=G.sub||G.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:$,exp:$+3600,auth_time:$,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},G);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ge)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function nt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){const G=Ce();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function je(){return!1}function q(){return"object"==typeof indexedDB}function be(){return new Promise((G,W)=>{try{let V=!0;const K="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(K);$.onsuccess=()=>{$.result.close(),V||self.indexedDB.deleteDatabase(K),G(!0)},$.onupgradeneeded=()=>{V=!1},$.onerror=()=>{var Me;W((null===(Me=$.error)||void 0===Me?void 0:Me.message)||"")}}catch(V){W(V)}})}function X(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(W,V,K){super(V),this.code=W,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(W,V,K){this.service=W,this.serviceName=V,this.errors=K}create(W,...V){const K=V[0]||{},$=`${this.service}/${W}`,Me=this.errors[W],Ge=Me?function Pe(G,W){return G.replace(yt,(V,K)=>{const $=W[K];return null!=$?String($):`<${K}?>`})}(Me,K):"Error";return new ve($,`${this.serviceName}: ${Ge} (${$}).`,K)}}const yt=/\{\$([^}]+)}/g;function en(G){return JSON.parse(G)}function Kt(G){return JSON.stringify(G)}const et=function(G){let W={},V={},K={},$="";try{const Me=G.split(".");W=en(me(Me[0])||""),V=en(me(Me[1])||""),$=Me[2],K=V.d||{},delete V.d}catch{}return{header:W,claims:V,data:K,signature:$}},En=function(G){const V=et(G).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},hn=function(G){const W=et(G).claims;return"object"==typeof W&&!0===W.admin};function ir(G,W){return Object.prototype.hasOwnProperty.call(G,W)}function an(G,W){if(Object.prototype.hasOwnProperty.call(G,W))return G[W]}function Zt(G){for(const W in G)if(Object.prototype.hasOwnProperty.call(G,W))return!1;return!0}function po(G,W,V){const K={};for(const $ in G)Object.prototype.hasOwnProperty.call(G,$)&&(K[$]=W.call(V,G[$],$,G));return K}function Mr(G,W){if(G===W)return!0;const V=Object.keys(G),K=Object.keys(W);for(const $ of V){if(!K.includes($))return!1;const Me=G[$],Ge=W[$];if(Xi(Me)&&Xi(Ge)){if(!Mr(Me,Ge))return!1}else if(Me!==Ge)return!1}for(const $ of K)if(!V.includes($))return!1;return!0}function Xi(G){return null!==G&&"object"==typeof G}function mo(G){const W=[];for(const[V,K]of Object.entries(G))Array.isArray(K)?K.forEach($=>{W.push(encodeURIComponent(V)+"="+encodeURIComponent($))}):W.push(encodeURIComponent(V)+"="+encodeURIComponent(K));return W.length?"&"+W.join("&"):""}function ts(G){const W={};return G.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[$,Me]=K.split("=");W[decodeURIComponent($)]=decodeURIComponent(Me)}}),W}function vr(G){const W=G.indexOf("?");if(!W)return"";const V=G.indexOf("#",W);return G.substring(W,V>0?V:void 0)}class Zr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,V){V||(V=0);const K=this.W_;if("string"==typeof W)for(let Yt=0;Yt<16;Yt++)K[Yt]=W.charCodeAt(V)<<24|W.charCodeAt(V+1)<<16|W.charCodeAt(V+2)<<8|W.charCodeAt(V+3),V+=4;else for(let Yt=0;Yt<16;Yt++)K[Yt]=W[V]<<24|W[V+1]<<16|W[V+2]<<8|W[V+3],V+=4;for(let Yt=16;Yt<80;Yt++){const Vt=K[Yt-3]^K[Yt-8]^K[Yt-14]^K[Yt-16];K[Yt]=4294967295&(Vt<<1|Vt>>>31)}let ln,Fi,$=this.chain_[0],Me=this.chain_[1],Ge=this.chain_[2],ft=this.chain_[3],Sn=this.chain_[4];for(let Yt=0;Yt<80;Yt++){Yt<40?Yt<20?(ln=ft^Me&(Ge^ft),Fi=1518500249):(ln=Me^Ge^ft,Fi=1859775393):Yt<60?(ln=Me&Ge|ft&(Me|Ge),Fi=2400959708):(ln=Me^Ge^ft,Fi=3395469782);const Vt=($<<5|$>>>27)+ln+Sn+Fi+K[Yt]&4294967295;Sn=ft,ft=Ge,Ge=4294967295&(Me<<30|Me>>>2),Me=$,$=Vt}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+Me&4294967295,this.chain_[2]=this.chain_[2]+Ge&4294967295,this.chain_[3]=this.chain_[3]+ft&4294967295,this.chain_[4]=this.chain_[4]+Sn&4294967295}update(W,V){if(null==W)return;void 0===V&&(V=W.length);const K=V-this.blockSize;let $=0;const Me=this.buf_;let Ge=this.inbuf_;for(;$<V;){if(0===Ge)for(;$<=K;)this.compress_(W,$),$+=this.blockSize;if("string"==typeof W){for(;$<V;)if(Me[Ge]=W.charCodeAt($),++Ge,++$,Ge===this.blockSize){this.compress_(Me),Ge=0;break}}else for(;$<V;)if(Me[Ge]=W[$],++Ge,++$,Ge===this.blockSize){this.compress_(Me),Ge=0;break}}this.inbuf_=Ge,this.total_+=V}digest(){const W=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&V,V/=256;this.compress_(this.buf_);let K=0;for(let $=0;$<5;$++)for(let Me=24;Me>=0;Me-=8)W[K]=this.chain_[$]>>Me&255,++K;return W}}function wt(G,W){const V=new yr(G,W);return V.subscribe.bind(V)}class yr{constructor(W,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{W(this)}).catch(K=>{this.error(K)})}next(W){this.forEachObserver(V=>{V.next(W)})}error(W){this.forEachObserver(V=>{V.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,V,K){let $;if(void 0===W&&void 0===V&&void 0===K)throw new Error("Missing Observer.");$=function Yn(G,W){if("object"!=typeof G||null===G)return!1;for(const V of W)if(V in G&&"function"==typeof G[V])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:V,complete:K},void 0===$.next&&($.next=go),void 0===$.error&&($.error=go),void 0===$.complete&&($.complete=go);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Me}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,W)}sendOne(W,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{V(this.observers[W])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function go(){}const _o=function(G,W,V,K){let $;if(K<W?$="at least "+W:K>V&&($=0===V?"none":"no more than "+V),$)throw new Error(G+" failed: Was called with "+K+(1===K?" argument.":" arguments.")+" Expects "+$+".")};function Qn(G,W){return`${G} failed: ${W} argument `}function kr(G,W,V,K){if((!K||V)&&"function"!=typeof V)throw new Error(Qn(G,W)+"must be a valid function.")}function As(G,W,V,K){if((!K||V)&&("object"!=typeof V||null===V))throw new Error(Qn(G,W)+"must be a valid context object.")}const tn=function(G){const W=[];let V=0;for(let K=0;K<G.length;K++){let $=G.charCodeAt(K);if($>=55296&&$<=56319){const Me=$-55296;K++,re(K<G.length,"Surrogate pair missing trail surrogate."),$=65536+(Me<<10)+(G.charCodeAt(K)-56320)}$<128?W[V++]=$:$<2048?(W[V++]=$>>6|192,W[V++]=63&$|128):$<65536?(W[V++]=$>>12|224,W[V++]=$>>6&63|128,W[V++]=63&$|128):(W[V++]=$>>18|240,W[V++]=$>>12&63|128,W[V++]=$>>6&63|128,W[V++]=63&$|128)}return W},qe=function(G){let W=0;for(let V=0;V<G.length;V++){const K=G.charCodeAt(V);K<128?W++:K<2048?W+=2:K>=55296&&K<=56319?(W+=4,V++):W+=3}return W};function Ti(G,W=1e3,V=2){const K=W*Math.pow(V,G),$=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+$)}function br(G){return G&&G._delegate?G._delegate:G}},4430:(ht,Ie,F)=>{var o=F(4650);let re=null;function N(){return re}const ie=new o.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function me(){return(0,o.LFG)(Y)}()},providedIn:"platform"}),n})();const z=new o.OlP("Location Initialized");let Y=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function He(){return new Y((0,o.LFG)(ie))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ge(){const n=(0,o.LFG)(ie).location;return new dt((0,o.LFG)(fe),n&&n.origin||"")}()},providedIn:"root"}),n})();const nt=new o.OlP("appBaseHref");let dt=(()=>{class n extends ye{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+at(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+at(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+at(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fe),o.LFG(nt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+at(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+at(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fe),o.LFG(nt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ye(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+at(i))}normalize(e){return n.stripTrailingSlash(function je(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=at,n.joinWithSlash=ke,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(o.LFG(ye))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function De(){return new _e((0,o.LFG)(ye))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),ve=(()=>((ve=ve||{})[ve.Short=0]="Short",ve[ve.Medium=1]="Medium",ve[ve.Long=2]="Long",ve[ve.Full=3]="Full",ve))(),he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Group=1]="Group",he[he.List=2]="List",he[he.PercentSign=3]="PercentSign",he[he.PlusSign=4]="PlusSign",he[he.MinusSign=5]="MinusSign",he[he.Exponential=6]="Exponential",he[he.SuperscriptingExponent=7]="SuperscriptingExponent",he[he.PerMille=8]="PerMille",he[he.Infinity=9]="Infinity",he[he.NaN=10]="NaN",he[he.TimeSeparator=11]="TimeSeparator",he[he.CurrencyDecimal=12]="CurrencyDecimal",he[he.CurrencyGroup=13]="CurrencyGroup",he))();function hn(n,t){return ai((0,o.cg1)(n)[o.wAp.DateFormat],t)}function ir(n,t){return ai((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function an(n,t){return ai((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Zt(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===he.CurrencyDecimal)return e[o.wAp.NumberSymbols][he.Decimal];if(t===he.CurrencyGroup)return e[o.wAp.NumberSymbols][he.Group]}return i}function vr(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ai(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Yn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const _i=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kr={},As=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.ShortGMT=1]="ShortGMT",tn[tn.Long=2]="Long",tn[tn.Extended=3]="Extended",tn))(),qe=(()=>((qe=qe||{})[qe.FullYear=0]="FullYear",qe[qe.Month=1]="Month",qe[qe.Date=2]="Date",qe[qe.Hours=3]="Hours",qe[qe.Minutes=4]="Minutes",qe[qe.Seconds=5]="Seconds",qe[qe.FractionalSeconds=6]="FractionalSeconds",qe[qe.Day=7]="Day",qe))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function rr(n,t,e,i){let r=function vi(n){if(or(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(h=>+h);return Di(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(_i))return function qi(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,p=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,h,p,v),t}(i)}const t=new Date(n);if(!or(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=xt(e,t)||t;let h,u=[];for(;t;){if(h=As.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const w=u.pop();if(!w)break;t=w}}let p=r.getTimezoneOffset();i&&(p=Yt(i,p),r=function Ln(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Vt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Yt(t,r)-r))}(r,i,!0));let v="";return u.forEach(w=>{const D=function Fi(n){if(ln[n])return ln[n];let t;switch(n){case"G":case"GG":case"GGG":t=G(Rt.Eras,se.Abbreviated);break;case"GGGG":t=G(Rt.Eras,se.Wide);break;case"GGGGG":t=G(Rt.Eras,se.Narrow);break;case"y":t=gn(qe.FullYear,1,0,!1,!0);break;case"yy":t=gn(qe.FullYear,2,0,!0,!0);break;case"yyy":t=gn(qe.FullYear,3,0,!1,!0);break;case"yyyy":t=gn(qe.FullYear,4,0,!1,!0);break;case"Y":t=Sn(1);break;case"YY":t=Sn(2,!0);break;case"YYY":t=Sn(3);break;case"YYYY":t=Sn(4);break;case"M":case"L":t=gn(qe.Month,1,1);break;case"MM":case"LL":t=gn(qe.Month,2,1);break;case"MMM":t=G(Rt.Months,se.Abbreviated);break;case"MMMM":t=G(Rt.Months,se.Wide);break;case"MMMMM":t=G(Rt.Months,se.Narrow);break;case"LLL":t=G(Rt.Months,se.Abbreviated,le.Standalone);break;case"LLLL":t=G(Rt.Months,se.Wide,le.Standalone);break;case"LLLLL":t=G(Rt.Months,se.Narrow,le.Standalone);break;case"w":t=ft(1);break;case"ww":t=ft(2);break;case"W":t=ft(1,!0);break;case"d":t=gn(qe.Date,1);break;case"dd":t=gn(qe.Date,2);break;case"c":case"cc":t=gn(qe.Day,1);break;case"ccc":t=G(Rt.Days,se.Abbreviated,le.Standalone);break;case"cccc":t=G(Rt.Days,se.Wide,le.Standalone);break;case"ccccc":t=G(Rt.Days,se.Narrow,le.Standalone);break;case"cccccc":t=G(Rt.Days,se.Short,le.Standalone);break;case"E":case"EE":case"EEE":t=G(Rt.Days,se.Abbreviated);break;case"EEEE":t=G(Rt.Days,se.Wide);break;case"EEEEE":t=G(Rt.Days,se.Narrow);break;case"EEEEEE":t=G(Rt.Days,se.Short);break;case"a":case"aa":case"aaa":t=G(Rt.DayPeriods,se.Abbreviated);break;case"aaaa":t=G(Rt.DayPeriods,se.Wide);break;case"aaaaa":t=G(Rt.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":t=G(Rt.DayPeriods,se.Abbreviated,le.Standalone,!0);break;case"bbbb":t=G(Rt.DayPeriods,se.Wide,le.Standalone,!0);break;case"bbbbb":t=G(Rt.DayPeriods,se.Narrow,le.Standalone,!0);break;case"B":case"BB":case"BBB":t=G(Rt.DayPeriods,se.Abbreviated,le.Format,!0);break;case"BBBB":t=G(Rt.DayPeriods,se.Wide,le.Format,!0);break;case"BBBBB":t=G(Rt.DayPeriods,se.Narrow,le.Format,!0);break;case"h":t=gn(qe.Hours,1,-12);break;case"hh":t=gn(qe.Hours,2,-12);break;case"H":t=gn(qe.Hours,1);break;case"HH":t=gn(qe.Hours,2);break;case"m":t=gn(qe.Minutes,1);break;case"mm":t=gn(qe.Minutes,2);break;case"s":t=gn(qe.Seconds,1);break;case"ss":t=gn(qe.Seconds,2);break;case"S":t=gn(qe.FractionalSeconds,1);break;case"SS":t=gn(qe.FractionalSeconds,2);break;case"SSS":t=gn(qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=V(tn.Short);break;case"ZZZZZ":t=V(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=V(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=V(tn.Long);break;default:return null}return ln[n]=t,t}(w);v+=D?D(r,e,p):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Di(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function xt(n,t){const e=function yt(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(kr[e]=kr[e]||{},kr[e][t])return kr[e][t];let i="";switch(t){case"shortDate":i=hn(n,ve.Short);break;case"mediumDate":i=hn(n,ve.Medium);break;case"longDate":i=hn(n,ve.Long);break;case"fullDate":i=hn(n,ve.Full);break;case"shortTime":i=ir(n,ve.Short);break;case"mediumTime":i=ir(n,ve.Medium);break;case"longTime":i=ir(n,ve.Long);break;case"fullTime":i=ir(n,ve.Full);break;case"short":const r=xt(n,"shortTime"),s=xt(n,"shortDate");i=Rr(an(n,ve.Short),[r,s]);break;case"medium":const u=xt(n,"mediumTime"),h=xt(n,"mediumDate");i=Rr(an(n,ve.Medium),[u,h]);break;case"long":const p=xt(n,"longTime"),v=xt(n,"longDate");i=Rr(an(n,ve.Long),[p,v]);break;case"full":const w=xt(n,"fullTime"),D=xt(n,"fullDate");i=Rr(an(n,ve.Full),[w,D])}return i&&(kr[e][t]=i),i}function Rr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ti(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),s+u}function gn(n,t,e=0,i=!1,r=!1){return function(s,u){let h=function br(n,t){switch(n){case qe.FullYear:return t.getFullYear();case qe.Month:return t.getMonth();case qe.Date:return t.getDate();case qe.Hours:return t.getHours();case qe.Minutes:return t.getMinutes();case qe.Seconds:return t.getSeconds();case qe.FractionalSeconds:return t.getMilliseconds();case qe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===qe.Hours)0===h&&-12===e&&(h=12);else if(n===qe.FractionalSeconds)return function Qr(n,t){return Ti(n,3).substring(0,t)}(h,t);const p=Zt(u,he.MinusSign);return Ti(h,t,p,i,r)}}function G(n,t,e=le.Format,i=!1){return function(r,s){return function W(n,t,e,i,r,s){switch(e){case Rt.Months:return function et(n,t,e){const i=(0,o.cg1)(n),s=ai([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return ai(s,e)}(t,r,i)[n.getMonth()];case Rt.Days:return function Kt(n,t,e){const i=(0,o.cg1)(n),s=ai([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return ai(s,e)}(t,r,i)[n.getDay()];case Rt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const v=function Zr(n){const t=(0,o.cg1)(n);return vr(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Yn(i):[Yn(i[0]),Yn(i[1])])}(t),w=function wt(n,t,e){const i=(0,o.cg1)(n);vr(i);const s=ai([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return ai(s,e)||[]}(t,r,i),D=v.findIndex(k=>{if(Array.isArray(k)){const[P,U]=k,j=u>=P.hours&&h>=P.minutes,ae=u<U.hours||u===U.hours&&h<U.minutes;if(P.hours<U.hours){if(j&&ae)return!0}else if(j||ae)return!0}else if(k.hours===u&&k.minutes===h)return!0;return!1});if(-1!==D)return w[D]}return function en(n,t,e){const i=(0,o.cg1)(n),s=ai([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return ai(s,e)}(t,r,i)[u<12?0:1];case Rt.Eras:return function yn(n,t){return ai((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function V(n){return function(t,e,i){const r=-1*i,s=Zt(e,he.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case tn.Short:return(r>=0?"+":"")+Ti(u,2,s)+Ti(Math.abs(r%60),2,s);case tn.ShortGMT:return"GMT"+(r>=0?"+":"")+Ti(u,1,s);case tn.Long:return"GMT"+(r>=0?"+":"")+Ti(u,2,s)+":"+Ti(Math.abs(r%60),2,s);case tn.Extended:return 0===i?"Z":(r>=0?"+":"")+Ti(u,2,s)+":"+Ti(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ge(n){return Di(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ft(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=Ge(e),u=function Me(n){const t=Di(n,0,1).getDay();return Di(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),h=s.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Ti(r,n,Zt(i,he.MinusSign))}}function Sn(n,t=!1){return function(e,i){return Ti(Ge(e).getFullYear(),n,Zt(i,he.MinusSign),t)}}const ln={};function Yt(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function or(n){return n instanceof Date&&!isNaN(n.valueOf())}function mu(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let ga=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class dl{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new dl(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Jn(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Jn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Jn(n,t){n.context.$implicit=t.item}let Mn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Cr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){hl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){hl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Cr{constructor(){this.$implicit=null,this.ngIf=null}}function hl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class fl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let vo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),wr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new fl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(vo,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ks=(()=>{class n{constructor(e,i,r){r._addDefault(new fl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(vo,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),gu=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),u=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();const lm=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let pl=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){if(null==e||""===e||e!=e)return null;try{return rr(e,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw function Or(n,t){return new o.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(lm,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),ci=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Pn="browser";let vl=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new bi((0,o.LFG)(ie),window)}),n})();class bi{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=lc(this.window.history)||lc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function lc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ii{}class No extends class Os extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){re||(re=n)}(new No)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Nr(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}();return null==e?null:function yl(n){ls=ls||document.createElement("a"),ls.setAttribute("href",n);const t=ls.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return mu(document.cookie,t)}}let ls,ba=null;const rt=new o.OlP("TRANSITION_ID"),bu=[{provide:o.ip1,useFactory:function cc(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[rt,ie,o.zs3],multi:!0}];let uc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=new o.OlP("EventManagerPlugins");let Ns=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ps),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ca{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let dc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends dc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Gt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gt))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Gt(n){N().remove(n)}const wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fs=/%COMP%/g;function Da(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Da(n,r,e):(r=r.replace(Fs,n),e.push(r))}return e}function hc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ai(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new eo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Rd(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Da(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ns),o.LFG(Te),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ai{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Bs(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Bs(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=wa[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wa[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,hc(i)):this.eventManager.addEventListener(t,e,hc(i))}}function Bs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eo extends Ai{constructor(t,e,i,r){super(t),this.component=i;const s=Da(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function bl(n){return"_ngcontent-%COMP%".replace(Fs,n)}(r+"-"+i.id),this.hostAttr=function Sa(n){return"_nghost-%COMP%".replace(Fs,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Rd extends Ai{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Da(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xd=(()=>{class n extends Ca{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ta=["alt","control","meta","shift"],Ia={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Aa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cl=(()=>{class n extends Ca{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(Ta.forEach(p=>{const v=i.indexOf(p);v>-1&&(i.splice(v,1),u+=p+".")}),u+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Eu(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Aa.hasOwnProperty(t)&&(t=Aa[t]))}return Ia[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ta.forEach(s=>{s!=r&&(0,fc[s])(e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Du=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Pn},{provide:o.g9A,useValue:function pc(){No.makeCurrent()},multi:!0},{provide:ie,useFactory:function gc(){return(0,o.RDi)(document),document},deps:[]}]),vc=new o.OlP(""),Ci=[{provide:o.rWj,useClass:class Cu{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(p){u=u||p,s--,0==s&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Lo=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function mc(){return new o.qLn},deps:[]},{provide:Ps,useClass:xd,multi:!0,deps:[ie,o.R0b,o.Lbi]},{provide:Ps,useClass:Cl,multi:!0,deps:[ie]},{provide:Fo,useClass:Fo,deps:[Ns,Te,o.AFp]},{provide:o.FYo,useExisting:Fo},{provide:dc,useExisting:Te},{provide:Te,useClass:Te,deps:[ie]},{provide:Ns,useClass:Ns,deps:[Ps,o.R0b]},{provide:Ii,useClass:uc,deps:[]},[]];let bn=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:rt,useExisting:o.AFp},bu]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(vc,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Lo,...Ci],imports:[ci,o.hGG]}),n})(),yc=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ff(){return new yc((0,o.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Sl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Bd),i},providedIn:"root"}),n})(),Bd=(()=>{class n extends Sl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function no(n){return new Bd(n.get(ie))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var Lr=F(3269),zt=F(8996);function Ae(...n){const t=(0,Lr.yG)(n);return(0,zt.D)(n,t)}var ui=F(9751),Hn=F(5577),Ki=F(576);function ar(n,t){return(0,Ki.m)(t)?(0,Hn.z)(n,t,1):(0,Hn.z)(n,1)}var Wn=F(4482),Rn=F(5403);function fn(n,t){return(0,Wn.e)((e,i)=>{let r=0;e.subscribe((0,Rn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var ot=F(4004);class us{}class Ec{}class ki{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ki?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ki;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ki?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class xa{encodeKey(t){return Dl(t)}encodeValue(t){return Dl(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Sc=/%(\d[a-f0-9])/gi,Dc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dl(n){return encodeURIComponent(n).replace(Sc,(t,e)=>Dc[e]??t)}function Sr(n){return`${n}`}class yo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xa,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zs(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(u)||[];p.push(h),e.set(u,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Sr):[Sr(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new yo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sr(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Sr(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Mu{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ds(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Oa(n){return typeof Blob<"u"&&n instanceof Blob}function Ys(n){return typeof FormData<"u"&&n instanceof FormData}class Dr{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Hd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ki),this.context||(this.context=new Mu),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new yo,this.urlWithParams=e}serializeBody(){return null===this.body?null:ds(this.body)||Oa(this.body)||Ys(this.body)||function lr(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ys(this.body)?null:Oa(this.body)?this.body.type||null:ds(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,v=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((D,k)=>D.set(k,t.setHeaders[k]),p)),t.setParams&&(v=Object.keys(t.setParams).reduce((D,k)=>D.set(k,t.setParams[k]),v)),new Dr(e,i,s,{params:v,headers:p,context:w,reportProgress:h,responseType:r,withCredentials:u})}}var Kn=(()=>((Kn=Kn||{})[Kn.Sent=0]="Sent",Kn[Kn.UploadProgress=1]="UploadProgress",Kn[Kn.ResponseHeader=2]="ResponseHeader",Kn[Kn.DownloadProgress=3]="DownloadProgress",Kn[Kn.Response=4]="Response",Kn[Kn.User=5]="User",Kn))();class Bo{constructor(t,e=200,i="OK"){this.headers=t.headers||new ki,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bo extends Bo{constructor(t={}){super(t),this.type=Kn.ResponseHeader}clone(t={}){return new bo({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tc extends Bo{constructor(t={}){super(t),this.type=Kn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Tc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Co extends Bo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Jt(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ic=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Dr)s=e;else{let p,v;p=r.headers instanceof ki?r.headers:new ki(r.headers),r.params&&(v=r.params instanceof yo?r.params:new yo({fromObject:r.params})),s=new Dr(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Ae(s).pipe(ar(p=>this.handler.handle(p)));if(e instanceof Dr||"events"===r.observe)return u;const h=u.pipe(fn(p=>p instanceof Tc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ot.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,ot.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,ot.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,ot.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new yo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Jt(r,i))}post(e,i,r={}){return this.request("POST",e,Jt(r,i))}put(e,i,r={}){return this.request("PUT",e,Jt(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(us))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Cf{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Vd=new o.OlP("HTTP_INTERCEPTORS");let wf=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Df=/^\)\]\}',?\n/;let Bi=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ui.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,U)=>r.setRequestHeader(P,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const s=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const P=r.statusText||"OK",U=new ki(r.getAllResponseHeaders()),j=function jd(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new bo({headers:U,status:r.status,statusText:P,url:j}),u},p=()=>{let{headers:P,status:U,statusText:j,url:ae}=h(),Ee=null;204!==U&&(Ee=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=Ee?200:0);let Ve=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof Ee){const Ke=Ee;Ee=Ee.replace(Df,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch(tt){Ee=Ke,Ve&&(Ve=!1,Ee={error:tt,text:Ee})}}Ve?(i.next(new Tc({body:Ee,headers:P,status:U,statusText:j,url:ae||void 0})),i.complete()):i.error(new Co({error:Ee,headers:P,status:U,statusText:j,url:ae||void 0}))},v=P=>{const{url:U}=h(),j=new Co({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(j)};let w=!1;const D=P=>{w||(i.next(h()),w=!0);let U={type:Kn.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(U.total=P.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},k=P=>{let U={type:Kn.UploadProgress,loaded:P.loaded};P.lengthComputable&&(U.total=P.total),i.next(U)};return r.addEventListener("load",p),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),e.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",k)),r.send(s),i.next({type:Kn.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",p),r.removeEventListener("timeout",v),e.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",k)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ii))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const io=new o.OlP("XSRF_COOKIE_NAME"),Pa=new o.OlP("XSRF_HEADER_NAME");class Tl{}let qs=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=mu(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(o.Lbi),o.LFG(io))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),$s=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Tl),o.LFG(Pa))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ru=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Vd,[]);this.chain=i.reduceRight((r,s)=>new Cf(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ec),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Mc=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:$s,useClass:wf}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:io,useValue:e.cookieName}:[],e.headerName?{provide:Pa,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$s,{provide:Vd,useExisting:$s,multi:!0},{provide:Tl,useClass:qs},{provide:io,useValue:"XSRF-TOKEN"},{provide:Pa,useValue:"X-XSRF-TOKEN"}]}),n})(),Uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ic,{provide:us,useClass:Ru},Bi,{provide:Ec,useExisting:Bi}],imports:[Mc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var wo=function(n,t){return(wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])})(n,t)};function er(n,t){function e(){this.constructor=n}wo(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Tn=function(){return Tn=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Tn.apply(this,arguments)};function Tt(n,t,e,i){return new(e||(e=Promise))(function(s,u){function h(w){try{v(i.next(w))}catch(D){u(D)}}function p(w){try{v(i.throw(w))}catch(D){u(D)}}function v(w){w.done?s(w.value):function r(s){return s instanceof e?s:new e(function(u){u(s)})}(w.value).then(h,p)}v((i=i.apply(n,t||[])).next())})}function It(n,t){var i,r,s,u,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(v){return function(w){return function p(v){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&v[0]?r.return:v[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,v[1])).done)return s;switch(r=0,s&&(v=[2&v[0],s.value]),v[0]){case 0:case 1:s=v;break;case 4:return e.label++,{value:v[1],done:!1};case 5:e.label++,r=v[1],v=[0];continue;case 7:v=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===v[0]||2===v[0])){e=0;continue}if(3===v[0]&&(!s||v[1]>s[0]&&v[1]<s[3])){e.label=v[1];break}if(6===v[0]&&e.label<s[1]){e.label=s[1],s=v;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(v);break}s[2]&&e.ops.pop(),e.trys.pop();continue}v=t.call(n,e)}catch(w){v=[6,w],r=0}finally{i=s=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,w])}}}function Na(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var i=Array(n),r=0;for(t=0;t<e;t++)for(var s=arguments[t],u=0,h=s.length;u<h;u++,r++)i[r]=s[u];return i}var ne={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240},kc=[ne.OPENID_SCOPE,ne.PROFILE_SCOPE,ne.OFFLINE_ACCESS_SCOPE],xu=Na(kc,[ne.EMAIL_SCOPE]),ro=(()=>{return(n=ro||(ro={})).CONTENT_TYPE="Content-Type",n.RETRY_AFTER="Retry-After",n.CCS_HEADER="X-AnchorMailbox",n.WWWAuthenticate="WWW-Authenticate",n.AuthenticationInfo="Authentication-Info",ro;var n})(),xn=(()=>{return(n=xn||(xn={})).ID_TOKEN="idtoken",n.CLIENT_INFO="client.info",n.ADAL_ID_TOKEN="adal.idtoken",n.ERROR="error",n.ERROR_DESC="error.description",n.ACTIVE_ACCOUNT="active-account",n.ACTIVE_ACCOUNT_FILTERS="active-account-filters",xn;var n})(),Fa=(()=>{return(n=Fa||(Fa={})).COMMON="common",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",Fa;var n})(),bt=(()=>{return(n=bt||(bt={})).CLIENT_ID="client_id",n.REDIRECT_URI="redirect_uri",n.RESPONSE_TYPE="response_type",n.RESPONSE_MODE="response_mode",n.GRANT_TYPE="grant_type",n.CLAIMS="claims",n.SCOPE="scope",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ACCESS_TOKEN="access_token",n.ID_TOKEN="id_token",n.REFRESH_TOKEN="refresh_token",n.EXPIRES_IN="expires_in",n.STATE="state",n.NONCE="nonce",n.PROMPT="prompt",n.SESSION_STATE="session_state",n.CLIENT_INFO="client_info",n.CODE="code",n.CODE_CHALLENGE="code_challenge",n.CODE_CHALLENGE_METHOD="code_challenge_method",n.CODE_VERIFIER="code_verifier",n.CLIENT_REQUEST_ID="client-request-id",n.X_CLIENT_SKU="x-client-SKU",n.X_CLIENT_VER="x-client-VER",n.X_CLIENT_OS="x-client-OS",n.X_CLIENT_CPU="x-client-CPU",n.X_CLIENT_CURR_TELEM="x-client-current-telemetry",n.X_CLIENT_LAST_TELEM="x-client-last-telemetry",n.X_MS_LIB_CAPABILITY="x-ms-lib-capability",n.X_APP_NAME="x-app-name",n.X_APP_VER="x-app-ver",n.POST_LOGOUT_URI="post_logout_redirect_uri",n.ID_TOKEN_HINT="id_token_hint",n.DEVICE_CODE="device_code",n.CLIENT_SECRET="client_secret",n.CLIENT_ASSERTION="client_assertion",n.CLIENT_ASSERTION_TYPE="client_assertion_type",n.TOKEN_TYPE="token_type",n.REQ_CNF="req_cnf",n.OBO_ASSERTION="assertion",n.REQUESTED_TOKEN_USE="requested_token_use",n.ON_BEHALF_OF="on_behalf_of",n.FOCI="foci",n.CCS_HEADER="X-AnchorMailbox",n.RETURN_SPA_CODE="return_spa_code",n.NATIVE_BROKER="nativebroker",n.LOGOUT_HINT="logout_hint",bt;var n})(),ur=(()=>{return(n=ur||(ur={})).ACCESS_TOKEN="access_token",n.XMS_CC="xms_cc",ur;var n})(),wi={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"},La=(()=>{return(n=La||(La={})).ACCOUNT="account",n.SID="sid",n.LOGIN_HINT="login_hint",n.ID_TOKEN="id_token",n.DOMAIN_HINT="domain_hint",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",n.ACCOUNT_ID="accountIdentifier",n.HOMEACCOUNT_ID="homeAccountIdentifier",La;var n})(),Eo={PLAIN:"plain",S256:"S256"},Ws=(()=>{return(n=Ws||(Ws={})).QUERY="query",n.FRAGMENT="fragment",n.FORM_POST="form_post",Ws;var n})(),dr=(()=>{return(n=dr||(dr={})).IMPLICIT_GRANT="implicit",n.AUTHORIZATION_CODE_GRANT="authorization_code",n.CLIENT_CREDENTIALS_GRANT="client_credentials",n.RESOURCE_OWNER_PASSWORD_GRANT="password",n.REFRESH_TOKEN_GRANT="refresh_token",n.DEVICE_CODE_GRANT="device_code",n.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",dr;var n})(),hr=(()=>{return(n=hr||(hr={})).MSSTS_ACCOUNT_TYPE="MSSTS",n.ADFS_ACCOUNT_TYPE="ADFS",n.MSAV1_ACCOUNT_TYPE="MSA",n.GENERIC_ACCOUNT_TYPE="Generic",hr;var n})(),di=(()=>{return(n=di||(di={})).CACHE_KEY_SEPARATOR="-",n.CLIENT_INFO_SEPARATOR=".",di;var n})(),Bt=(()=>{return(n=Bt||(Bt={})).ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",n.REFRESH_TOKEN="RefreshToken",Bt;var n})(),Cn=(()=>{return(n=Cn||(Cn={})).ACCOUNT="Account",n.CREDENTIAL="Credential",n.ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.REFRESH_TOKEN="RefreshToken",n.APP_METADATA="AppMetadata",n.TEMPORARY="TempCache",n.TELEMETRY="Telemetry",n.UNDEFINED="Undefined",n.THROTTLING="Throttling",Cn;var n})(),oo=(()=>{return(n=oo||(oo={}))[n.ADFS=1001]="ADFS",n[n.MSA=1002]="MSA",n[n.MSSTS=1003]="MSSTS",n[n.GENERIC=1004]="GENERIC",n[n.ACCESS_TOKEN=2001]="ACCESS_TOKEN",n[n.REFRESH_TOKEN=2002]="REFRESH_TOKEN",n[n.ID_TOKEN=2003]="ID_TOKEN",n[n.APP_METADATA=3001]="APP_METADATA",n[n.UNDEFINED=9999]="UNDEFINED",oo;var n})(),Ou="appmetadata",I="1",H=(()=>{return(n=H||(H={})).CONFIG="config",n.CACHE="cache",n.NETWORK="network",n.HARDCODED_VALUES="hardcoded_values",H;var n})(),J={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},te=(()=>{return(n=te||(te={})).BEARER="Bearer",n.POP="pop",n.SSH="ssh-cert",te;var n})(),ut=(()=>{return(n=ut||(ut={})).username="username",n.password="password",ut;var n})(),Et=(()=>{return(n=Et||(Et={}))[n.httpSuccess=200]="httpSuccess",n[n.httpBadRequest=400]="httpBadRequest",Et;var n})(),Dt=(()=>{return(n=Dt||(Dt={})).FAILED_AUTO_DETECTION="1",n.INTERNAL_CACHE="2",n.ENVIRONMENT_VARIABLE="3",n.IMDS="4",Dt;var n})(),lt=(()=>{return(n=lt||(lt={})).CONFIGURED_MATCHES_DETECTED="1",n.CONFIGURED_NO_AUTO_DETECTION="2",n.CONFIGURED_NOT_DETECTED="3",n.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",n.AUTO_DETECTION_REQUESTED_FAILED="5",lt;var n})(),wn=(()=>{return(n=wn||(wn={})).NO_CACHE_HIT="0",n.FORCE_REFRESH="1",n.NO_CACHED_ACCESS_TOKEN="2",n.CACHED_ACCESS_TOKEN_EXPIRED="3",n.REFRESH_CACHED_ACCESS_TOKEN="4",wn;var n})(),Ui=(()=>{return(n=Ui||(Ui={})).Jwt="JWT",n.Jwk="JWK",Ui;var n})(),So_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836",ei=(()=>{return(n=ei||(ei={})).HandshakeRequest="Handshake",n.HandshakeResponse="HandshakeResponse",n.GetToken="GetToken",n.Response="Response",ei;var n})(),ti=(()=>{return(n=ti||(ti={})).LocalStorage="localStorage",n.SessionStorage="sessionStorage",n.MemoryStorage="memoryStorage",ti;var n})(),fr=(()=>{return(n=fr||(fr={})).GET="GET",n.POST="POST",fr;var n})(),qt=(()=>{return(n=qt||(qt={})).AUTHORITY="authority",n.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",n.SESSION_STATE="session.state",n.REQUEST_STATE="request.state",n.NONCE_IDTOKEN="nonce.id_token",n.ORIGIN_URI="request.origin",n.RENEW_STATUS="token.renew.status",n.URL_HASH="urlHash",n.REQUEST_PARAMS="request.params",n.SCOPES="scopes",n.INTERACTION_STATUS_KEY="interaction.status",n.CCS_CREDENTIAL="ccs.credential",n.CORRELATION_ID="request.correlationId",n.NATIVE_REQUEST="request.native",qt;var n})(),pr=(()=>{return(n=pr||(pr={})).WRAPPER_SKU="wrapper.sku",n.WRAPPER_VER="wrapper.version",pr;var n})(),cn=(()=>{return(n=cn||(cn={}))[n.acquireTokenRedirect=861]="acquireTokenRedirect",n[n.acquireTokenPopup=862]="acquireTokenPopup",n[n.ssoSilent=863]="ssoSilent",n[n.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",n[n.handleRedirectPromise=865]="handleRedirectPromise",n[n.acquireTokenByCode=866]="acquireTokenByCode",n[n.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",n[n.logout=961]="logout",n[n.logoutPopup=962]="logoutPopup",cn;var n})(),Qe=(()=>{return(n=Qe||(Qe={})).Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",Qe;var n})(),hi=(()=>{return(n=hi||(hi={})).Startup="startup",n.Login="login",n.Logout="logout",n.AcquireToken="acquireToken",n.SsoSilent="ssoSilent",n.HandleRedirect="handleRedirect",n.None="none",hi;var n})(),dm={scopes:kc},zd="jwk",Ba=(()=>{return(n=Ba||(Ba={})).React="@azure/msal-react",n.Angular="@azure/msal-angular",Ba;var n})(),Pu="msal.db",pt=(()=>{return(n=pt||(pt={})).INITIALIZE_START="msal:initializeStart",n.INITIALIZE_END="msal:initializeEnd",n.ACCOUNT_ADDED="msal:accountAdded",n.ACCOUNT_REMOVED="msal:accountRemoved",n.LOGIN_START="msal:loginStart",n.LOGIN_SUCCESS="msal:loginSuccess",n.LOGIN_FAILURE="msal:loginFailure",n.ACQUIRE_TOKEN_START="msal:acquireTokenStart",n.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",n.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",n.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",n.SSO_SILENT_START="msal:ssoSilentStart",n.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",n.SSO_SILENT_FAILURE="msal:ssoSilentFailure",n.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",n.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",n.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",n.HANDLE_REDIRECT_START="msal:handleRedirectStart",n.HANDLE_REDIRECT_END="msal:handleRedirectEnd",n.POPUP_OPENED="msal:popupOpened",n.LOGOUT_START="msal:logoutStart",n.LOGOUT_SUCCESS="msal:logoutSuccess",n.LOGOUT_FAILURE="msal:logoutFailure",n.LOGOUT_END="msal:logoutEnd",pt;var n})(),fm=function(){function n(){}return n.getInteractionStatusFromEvent=function(t,e){switch(t.eventType){case pt.LOGIN_START:return hi.Login;case pt.SSO_SILENT_START:return hi.SsoSilent;case pt.ACQUIRE_TOKEN_START:if(t.interactionType===Qe.Redirect||t.interactionType===Qe.Popup)return hi.AcquireToken;break;case pt.HANDLE_REDIRECT_START:return hi.HandleRedirect;case pt.LOGOUT_START:return hi.Logout;case pt.SSO_SILENT_SUCCESS:case pt.SSO_SILENT_FAILURE:if(e&&e!==hi.SsoSilent)break;return hi.None;case pt.LOGOUT_END:if(e&&e!==hi.Logout)break;return hi.None;case pt.HANDLE_REDIRECT_END:if(e&&e!==hi.HandleRedirect)break;return hi.None;case pt.LOGIN_SUCCESS:case pt.LOGIN_FAILURE:case pt.ACQUIRE_TOKEN_SUCCESS:case pt.ACQUIRE_TOKEN_FAILURE:if(t.interactionType===Qe.Redirect||t.interactionType===Qe.Popup){if(e&&e!==hi.Login&&e!==hi.AcquireToken)break;return hi.None}}return null},n}(),pm=function(n,t){return(pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])})(n,t)};function Hi(n,t){function e(){this.constructor=n}pm(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var mt=function(){return mt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},mt.apply(this,arguments)};function Be(n,t,e,i){return new(e||(e=Promise))(function(s,u){function h(w){try{v(i.next(w))}catch(D){u(D)}}function p(w){try{v(i.throw(w))}catch(D){u(D)}}function v(w){w.done?s(w.value):function r(s){return s instanceof e?s:new e(function(u){u(s)})}(w.value).then(h,p)}v((i=i.apply(n,t||[])).next())})}function Ne(n,t){var i,r,s,u,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(v){return function(w){return function p(v){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&v[0]?r.return:v[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,v[1])).done)return s;switch(r=0,s&&(v=[2&v[0],s.value]),v[0]){case 0:case 1:s=v;break;case 4:return e.label++,{value:v[1],done:!1};case 5:e.label++,r=v[1],v=[0];continue;case 7:v=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===v[0]||2===v[0])){e=0;continue}if(3===v[0]&&(!s||v[1]>s[0]&&v[1]<s[3])){e.label=v[1];break}if(6===v[0]&&e.label<s[1]){e.label=s[1],s=v;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(v);break}s[2]&&e.ops.pop(),e.trys.pop();continue}v=t.call(n,e)}catch(w){v=[6,w],r=0}finally{i=s=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,w])}}}function Nu(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,u,i=e.call(n),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(h){u={error:h}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return s}function Il(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Nu(arguments[t]));return n}var mm_unexpectedError_code="unexpected_error",mm_unexpectedError_desc="Unexpected error in authentication.",gt=function(n){function t(e,i,r){var s=this;return s=n.call(this,i?e+": "+i:e)||this,Object.setPrototypeOf(s,t.prototype),s.errorCode=e||ne.EMPTY_STRING,s.errorMessage=i||ne.EMPTY_STRING,s.subError=r||ne.EMPTY_STRING,s.name="AuthError",s}return er(t,n),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(mm_unexpectedError_code,mm_unexpectedError_desc+": "+e)},t}(Error),Ho_redirectUriNotSet_code="redirect_uri_empty",Ho_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",Ho_postLogoutUriNotSet_code="post_logout_uri_empty",Ho_postLogoutUriNotSet_desc="A post logout redirect has not been set.",Ho_storageNotSupportedError_code="storage_not_supported",Ho_storageNotSupportedError_desc="Given storage configuration option was not supported.",Ho_noRedirectCallbacksSet_code="no_redirect_callbacks",Ho_noRedirectCallbacksSet_desc="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",Ho_stubPcaInstanceCalled_code="stubbed_public_client_application_called",Ho_stubPcaInstanceCalled_desc="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",Ho_inMemRedirectUnavailable_code="in_mem_redirect_unavailable",Ho_inMemRedirectUnavailable_desc="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",Ua=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.name="BrowserConfigurationAuthError",Object.setPrototypeOf(r,t.prototype),r}return Hi(t,n),t.createRedirectUriEmptyError=function(){return new t(Ho_redirectUriNotSet_code,Ho_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Ho_postLogoutUriNotSet_code,Ho_postLogoutUriNotSet_desc)},t.createStorageNotSupportedError=function(e){return new t(Ho_storageNotSupportedError_code,Ho_storageNotSupportedError_desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Ho_noRedirectCallbacksSet_code,Ho_noRedirectCallbacksSet_desc)},t.createStubPcaInstanceCalledError=function(){return new t(Ho_stubPcaInstanceCalled_code,Ho_stubPcaInstanceCalled_desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(Ho_inMemRedirectUnavailable_code,Ho_inMemRedirectUnavailable_desc)},t}(gt),Ue_clientInfoDecodingError_code="client_info_decoding_error",Ue_clientInfoDecodingError_desc="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",Ue_clientInfoEmptyError_code="client_info_empty_error",Ue_clientInfoEmptyError_desc="The client info was empty. Please review the trace to determine the root cause.",Ue_tokenParsingError_code="token_parsing_error",Ue_tokenParsingError_desc="Token cannot be parsed. Please review stack trace to determine root cause.",Ue_nullOrEmptyToken_code="null_or_empty_token",Ue_nullOrEmptyToken_desc="The token is null or empty. Please review the trace to determine the root cause.",Ue_endpointResolutionError_code="endpoints_resolution_error",Ue_endpointResolutionError_desc="Error: could not resolve endpoints. Please check network and try again.",Ue_networkError_code="network_error",Ue_networkError_desc="Network request failed. Please check network trace to determine root cause.",Ue_unableToGetOpenidConfigError_code="openid_config_error",Ue_unableToGetOpenidConfigError_desc="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",Ue_hashNotDeserialized_code="hash_not_deserialized",Ue_hashNotDeserialized_desc="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",Ue_invalidStateError_code="invalid_state",Ue_invalidStateError_desc="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",Ue_stateMismatchError_code="state_mismatch",Ue_stateMismatchError_desc="State mismatch error. Please check your network. Continued requests may cause cache overflow.",Ue_stateNotFoundError_code="state_not_found",Ue_stateNotFoundError_desc="State not found",Ue_nonceMismatchError_code="nonce_mismatch",Ue_nonceMismatchError_desc="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",Ue_nonceNotFoundError_code="nonce_not_found",Ue_nonceNotFoundError_desc="nonce not found",Ue_multipleMatchingTokens_code="multiple_matching_tokens",Ue_multipleMatchingTokens_desc="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",Ue_multipleMatchingAccounts_code="multiple_matching_accounts",Ue_multipleMatchingAccounts_desc="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",Ue_multipleMatchingAppMetadata_code="multiple_matching_appMetadata",Ue_multipleMatchingAppMetadata_desc="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",Ue_tokenRequestCannotBeMade_code="request_cannot_be_made",Ue_tokenRequestCannotBeMade_desc="Token request cannot be made without authorization code or refresh token.",Ue_appendEmptyScopeError_code="cannot_append_empty_scope",Ue_appendEmptyScopeError_desc="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",Ue_removeEmptyScopeError_code="cannot_remove_empty_scope",Ue_removeEmptyScopeError_desc="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",Ue_appendScopeSetError_code="cannot_append_scopeset",Ue_appendScopeSetError_desc="Cannot append ScopeSet due to error.",Ue_emptyInputScopeSetError_code="empty_input_scopeset",Ue_emptyInputScopeSetError_desc="Empty input ScopeSet cannot be processed.",Ue_DeviceCodePollingCancelled_code="device_code_polling_cancelled",Ue_DeviceCodePollingCancelled_desc="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",Ue_DeviceCodeExpired_code="device_code_expired",Ue_DeviceCodeExpired_desc="Device code is expired.",Ue_DeviceCodeUnknownError_code="device_code_unknown_error",Ue_DeviceCodeUnknownError_desc="Device code stopped polling for unknown reasons.",Ue_NoAccountInSilentRequest_code="no_account_in_silent_request",Ue_NoAccountInSilentRequest_desc="Please pass an account object, silent flow is not supported without account information",Ue_invalidCacheRecord_code="invalid_cache_record",Ue_invalidCacheRecord_desc="Cache record object was null or undefined.",Ue_invalidCacheEnvironment_code="invalid_cache_environment",Ue_invalidCacheEnvironment_desc="Invalid environment when attempting to create cache entry",Ue_noAccountFound_code="no_account_found",Ue_noAccountFound_desc="No account found in cache for given key.",Ue_CachePluginError_code="no cache plugin set on CacheManager",Ue_CachePluginError_desc="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",Ue_noCryptoObj_code="no_crypto_object",Ue_noCryptoObj_desc="No crypto object detected. This is required for the following operation: ",Ue_invalidCacheType_code="invalid_cache_type",Ue_invalidCacheType_desc="Invalid cache type",Ue_unexpectedAccountType_code="unexpected_account_type",Ue_unexpectedAccountType_desc="Unexpected account type.",Ue_unexpectedCredentialType_code="unexpected_credential_type",Ue_unexpectedCredentialType_desc="Unexpected credential type.",Ue_invalidAssertion_code="invalid_assertion",Ue_invalidAssertion_desc="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",Ue_invalidClientCredential_code="invalid_client_credential",Ue_invalidClientCredential_desc="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",Ue_tokenRefreshRequired_code="token_refresh_required",Ue_tokenRefreshRequired_desc="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",Ue_userTimeoutReached_code="user_timeout_reached",Ue_userTimeoutReached_desc="User defined timeout for device code polling reached",Ue_tokenClaimsRequired_code="token_claims_cnf_required_for_signedjwt",Ue_tokenClaimsRequired_desc="Cannot generate a POP jwt if the token_claims are not populated",Ue_noAuthorizationCodeFromServer_code="authorization_code_missing_from_server_response",Ue_noAuthorizationCodeFromServer_desc="Server response does not contain an authorization code to proceed",Ue_bindingKeyNotRemovedError_code="binding_key_not_removed",Ue_bindingKeyNotRemovedError_desc="Could not remove the credential's binding key from storage.",Ue_logoutNotSupported_code="end_session_endpoint_not_supported",Ue_logoutNotSupported_desc="Provided authority does not support logout.",Ue_keyIdMissing_code="key_id_missing",Ue_keyIdMissing_desc="A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",ct=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.name="ClientAuthError",Object.setPrototypeOf(r,t.prototype),r}return er(t,n),t.createClientInfoDecodingError=function(e){return new t(Ue_clientInfoDecodingError_code,Ue_clientInfoDecodingError_desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(Ue_clientInfoEmptyError_code,""+Ue_clientInfoEmptyError_desc)},t.createTokenParsingError=function(e){return new t(Ue_tokenParsingError_code,Ue_tokenParsingError_desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(Ue_nullOrEmptyToken_code,Ue_nullOrEmptyToken_desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(Ue_endpointResolutionError_code,Ue_endpointResolutionError_desc+" Detail: "+e)},t.createNetworkError=function(e,i){return new t(Ue_networkError_code,Ue_networkError_desc+" | Fetch client threw: "+i+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(Ue_unableToGetOpenidConfigError_code,Ue_unableToGetOpenidConfigError_desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(Ue_hashNotDeserialized_code,Ue_hashNotDeserialized_desc+" Given Object: "+e)},t.createInvalidStateError=function(e,i){return new t(Ue_invalidStateError_code,Ue_invalidStateError_desc+" Invalid State: "+e+", Root Err: "+i)},t.createStateMismatchError=function(){return new t(Ue_stateMismatchError_code,Ue_stateMismatchError_desc)},t.createStateNotFoundError=function(e){return new t(Ue_stateNotFoundError_code,Ue_stateNotFoundError_desc+":  "+e)},t.createNonceMismatchError=function(){return new t(Ue_nonceMismatchError_code,Ue_nonceMismatchError_desc)},t.createNonceNotFoundError=function(e){return new t(Ue_nonceNotFoundError_code,Ue_nonceNotFoundError_desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(Ue_multipleMatchingTokens_code,Ue_multipleMatchingTokens_desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(Ue_multipleMatchingAccounts_code,Ue_multipleMatchingAccounts_desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(Ue_multipleMatchingAppMetadata_code,Ue_multipleMatchingAppMetadata_desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(Ue_tokenRequestCannotBeMade_code,Ue_tokenRequestCannotBeMade_desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(Ue_appendEmptyScopeError_code,Ue_appendEmptyScopeError_desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(Ue_removeEmptyScopeError_code,Ue_removeEmptyScopeError_desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(Ue_appendScopeSetError_code,Ue_appendScopeSetError_desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(Ue_emptyInputScopeSetError_code,""+Ue_emptyInputScopeSetError_desc)},t.createDeviceCodeCancelledError=function(){return new t(Ue_DeviceCodePollingCancelled_code,""+Ue_DeviceCodePollingCancelled_desc)},t.createDeviceCodeExpiredError=function(){return new t(Ue_DeviceCodeExpired_code,""+Ue_DeviceCodeExpired_desc)},t.createDeviceCodeUnknownError=function(){return new t(Ue_DeviceCodeUnknownError_code,""+Ue_DeviceCodeUnknownError_desc)},t.createNoAccountInSilentRequestError=function(){return new t(Ue_NoAccountInSilentRequest_code,""+Ue_NoAccountInSilentRequest_desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(Ue_invalidCacheRecord_code,Ue_invalidCacheRecord_desc)},t.createInvalidCacheEnvironmentError=function(){return new t(Ue_invalidCacheEnvironment_code,Ue_invalidCacheEnvironment_desc)},t.createNoAccountFoundError=function(){return new t(Ue_noAccountFound_code,Ue_noAccountFound_desc)},t.createCachePluginError=function(){return new t(Ue_CachePluginError_code,""+Ue_CachePluginError_desc)},t.createNoCryptoObjectError=function(e){return new t(Ue_noCryptoObj_code,""+Ue_noCryptoObj_desc+e)},t.createInvalidCacheTypeError=function(){return new t(Ue_invalidCacheType_code,""+Ue_invalidCacheType_desc)},t.createUnexpectedAccountTypeError=function(){return new t(Ue_unexpectedAccountType_code,""+Ue_unexpectedAccountType_desc)},t.createUnexpectedCredentialTypeError=function(){return new t(Ue_unexpectedCredentialType_code,""+Ue_unexpectedCredentialType_desc)},t.createInvalidAssertionError=function(){return new t(Ue_invalidAssertion_code,""+Ue_invalidAssertion_desc)},t.createInvalidCredentialError=function(){return new t(Ue_invalidClientCredential_code,""+Ue_invalidClientCredential_desc)},t.createRefreshRequiredError=function(){return new t(Ue_tokenRefreshRequired_code,Ue_tokenRefreshRequired_desc)},t.createUserTimeoutReachedError=function(){return new t(Ue_userTimeoutReached_code,Ue_userTimeoutReached_desc)},t.createTokenClaimsRequiredError=function(){return new t(Ue_tokenClaimsRequired_code,Ue_tokenClaimsRequired_desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(Ue_noAuthorizationCodeFromServer_code,Ue_noAuthorizationCodeFromServer_desc)},t.createBindingKeyNotRemovedError=function(){return new t(Ue_bindingKeyNotRemovedError_code,Ue_bindingKeyNotRemovedError_desc)},t.createLogoutNotSupportedError=function(){return new t(Ue_logoutNotSupported_code,Ue_logoutNotSupported_desc)},t.createKeyIdMissingError=function(){return new t(Ue_keyIdMissing_code,Ue_keyIdMissing_desc)},t}(gt),Nt_redirectUriNotSet_code="redirect_uri_empty",Nt_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",Nt_postLogoutUriNotSet_code="post_logout_uri_empty",Nt_postLogoutUriNotSet_desc="A post logout redirect has not been set.",Nt_claimsRequestParsingError_code="claims_request_parsing_error",Nt_claimsRequestParsingError_desc="Could not parse the given claims request object.",Nt_authorityUriInsecure_code="authority_uri_insecure",Nt_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",Nt_urlParseError_code="url_parse_error",Nt_urlParseError_desc="URL could not be parsed into appropriate segments.",Nt_urlEmptyError_code="empty_url_error",Nt_urlEmptyError_desc="URL was empty or null.",Nt_emptyScopesError_code="empty_input_scopes_error",Nt_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",Nt_clientIdSingleScopeError_code="clientid_input_scopes_error",Nt_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",Nt_invalidPrompt_code="invalid_prompt_value",Nt_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",Nt_invalidClaimsRequest_code="invalid_claims",Nt_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",Nt_tokenRequestEmptyError_code="token_request_empty",Nt_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",Nt_logoutRequestEmptyError_code="logout_request_empty",Nt_logoutRequestEmptyError_desc="The logout request was null or undefined.",Nt_invalidCodeChallengeMethod_code="invalid_code_challenge_method",Nt_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',Nt_invalidCodeChallengeParams_code="pkce_params_missing",Nt_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",Nt_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",Nt_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",Nt_invalidAuthorityMetadata_code="invalid_authority_metadata",Nt_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",Nt_untrustedAuthority_code="untrusted_authority",Nt_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",Nt_invalidAzureCloudInstance_code="invalid_azure_cloud_instance",Nt_invalidAzureCloudInstance_desc="Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values",Nt_missingSshJwk_code="missing_ssh_jwk",Nt_missingSshJwk_desc="Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",Nt_missingSshKid_code="missing_ssh_kid",Nt_missingSshKid_desc="Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",Nt_missingNonceAuthenticationHeader_code="missing_nonce_authentication_header",Nt_missingNonceAuthenticationHeader_desc="Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",Nt_invalidAuthenticationHeader_code="invalid_authentication_header",Nt_invalidAuthenticationHeader_desc="Invalid authentication header provided",Nn=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.name="ClientConfigurationError",Object.setPrototypeOf(r,t.prototype),r}return er(t,n),t.createRedirectUriEmptyError=function(){return new t(Nt_redirectUriNotSet_code,Nt_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Nt_postLogoutUriNotSet_code,Nt_postLogoutUriNotSet_desc)},t.createClaimsRequestParsingError=function(e){return new t(Nt_claimsRequestParsingError_code,Nt_claimsRequestParsingError_desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Nt_authorityUriInsecure_code,Nt_authorityUriInsecure_desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(Nt_urlParseError_code,Nt_urlParseError_desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(Nt_urlEmptyError_code,Nt_urlEmptyError_desc)},t.createEmptyScopesArrayError=function(){return new t(Nt_emptyScopesError_code,""+Nt_emptyScopesError_desc)},t.createClientIdSingleScopeError=function(e){return new t(Nt_clientIdSingleScopeError_code,Nt_clientIdSingleScopeError_desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(Nt_invalidPrompt_code,Nt_invalidPrompt_desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(Nt_invalidClaimsRequest_code,Nt_invalidClaimsRequest_desc)},t.createEmptyLogoutRequestError=function(){return new t(Nt_logoutRequestEmptyError_code,Nt_logoutRequestEmptyError_desc)},t.createEmptyTokenRequestError=function(){return new t(Nt_tokenRequestEmptyError_code,Nt_tokenRequestEmptyError_desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(Nt_invalidCodeChallengeMethod_code,Nt_invalidCodeChallengeMethod_desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(Nt_invalidCodeChallengeParams_code,Nt_invalidCodeChallengeParams_desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(Nt_invalidCloudDiscoveryMetadata_code,Nt_invalidCloudDiscoveryMetadata_desc)},t.createInvalidAuthorityMetadataError=function(){return new t(Nt_invalidAuthorityMetadata_code,Nt_invalidAuthorityMetadata_desc)},t.createUntrustedAuthorityError=function(){return new t(Nt_untrustedAuthority_code,Nt_untrustedAuthority_desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(Nt_invalidAzureCloudInstance_code,Nt_invalidAzureCloudInstance_desc)},t.createMissingSshJwkError=function(){return new t(Nt_missingSshJwk_code,Nt_missingSshJwk_desc)},t.createMissingSshKidError=function(){return new t(Nt_missingSshKid_code,Nt_missingSshKid_desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(Nt_missingNonceAuthenticationHeader_code,Nt_missingNonceAuthenticationHeader_desc)},t.createInvalidAuthenticationHeaderError=function(e,i){return new t(Nt_invalidAuthenticationHeader_code,Nt_invalidAuthenticationHeader_desc+". Invalid header: "+e+". Details: "+i)},t}(ct),ze=function(){function n(){}return n.decodeAuthToken=function(t){if(n.isEmpty(t))throw ct.createTokenNullOrEmptyError(t);var i=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!i||i.length<4)throw ct.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:i[1],JWSPayload:i[2],JWSSig:i[3]}},n.isEmpty=function(t){return typeof t>"u"||!t||0===t.length},n.isEmptyObj=function(t){if(t&&!n.isEmpty(t))try{var e=JSON.parse(t);return 0===Object.keys(e).length}catch{}return!0},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.endsWith=function(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length},n.queryStringToObject=function(t){var e={},i=t.split("&"),r=function(s){return decodeURIComponent(s.replace(/\+/g," "))};return i.forEach(function(s){if(s.trim()){var u=s.split(/=(.+)/g,2),h=u[0],p=u[1];h&&p&&(e[r(h)]=r(p))}}),e},n.trimArrayEntries=function(t){return t.map(function(e){return e.trim()})},n.removeEmptyStringsFromArray=function(t){return t.filter(function(e){return!n.isEmpty(e)})},n.jsonParseHelper=function(t){try{return JSON.parse(t)}catch{return null}},n.matchPattern=function(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)},n}(),Qt=function(){function n(t){if(this._urlString=t,ze.isEmpty(this._urlString))throw Nn.createUrlEmptyError();ze.isEmpty(this.getHash())&&(this._urlString=n.canonicalizeUri(t))}return Object.defineProperty(n.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),n.canonicalizeUri=function(t){if(t){var e=t.toLowerCase();return ze.endsWith(e,"?")?e=e.slice(0,-1):ze.endsWith(e,"?/")&&(e=e.slice(0,-2)),ze.endsWith(e,"/")||(e+="/"),e}return t},n.prototype.validateAsUri=function(){var t;try{t=this.getUrlComponents()}catch(e){throw Nn.createUrlParseError(e)}if(!t.HostNameAndPort||!t.PathSegments)throw Nn.createUrlParseError("Given url string: "+this.urlString);if(!t.Protocol||"https:"!==t.Protocol.toLowerCase())throw Nn.createInsecureAuthorityUriError(this.urlString)},n.appendQueryString=function(t,e){return ze.isEmpty(e)?t:t.indexOf("?")<0?t+"?"+e:t+"&"+e},n.removeHashFromUrl=function(t){return n.canonicalizeUri(t.split("#")[0])},n.prototype.replaceTenantPath=function(t){var e=this.getUrlComponents(),i=e.PathSegments;return t&&0!==i.length&&(i[0]===Fa.COMMON||i[0]===Fa.ORGANIZATIONS)&&(i[0]=t),n.constructAuthorityUriFromObject(e)},n.prototype.getHash=function(){return n.parseHash(this.urlString)},n.prototype.getUrlComponents=function(){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw Nn.createUrlParseError("Given url string: "+this.urlString);var i={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]},r=i.AbsolutePath.split("/");return r=r.filter(function(s){return s&&s.length>0}),i.PathSegments=r,!ze.isEmpty(i.QueryString)&&i.QueryString.endsWith("/")&&(i.QueryString=i.QueryString.substring(0,i.QueryString.length-1)),i},n.getDomainFromUrl=function(t){var e=RegExp("^([^:/?#]+://)?([^/?#]*)"),i=t.match(e);if(!i)throw Nn.createUrlParseError("Given url string: "+t);return i[2]},n.getAbsoluteUrl=function(t,e){if(t[0]===ne.FORWARD_SLASH){var r=new n(e).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+t}return t},n.parseHash=function(t){var e=t.indexOf("#"),i=t.indexOf("#/");return i>-1?t.substring(i+2):e>-1?t.substring(e+1):ne.EMPTY_STRING},n.constructAuthorityUriFromObject=function(t){return new n(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},n.getDeserializedHash=function(t){if(ze.isEmpty(t))return{};var e=n.parseHash(t),i=ze.queryStringToObject(ze.isEmpty(e)?t:e);if(!i)throw ct.createHashNotDeserializedError(JSON.stringify(i));return i},n.hashContainsKnownProperties=function(t){if(ze.isEmpty(t)||t.indexOf("=")<0)return!1;var e=n.getDeserializedHash(t);return!!(e.code||e.error_description||e.error||e.state)},n}(),Fe_pkceNotGenerated_code="pkce_not_created",Fe_pkceNotGenerated_desc="The PKCE code challenge and verifier could not be generated.",Fe_cryptoDoesNotExist_code="crypto_nonexistent",Fe_cryptoDoesNotExist_desc="The crypto object or function is not available.",Fe_httpMethodNotImplementedError_code="http_method_not_implemented",Fe_httpMethodNotImplementedError_desc="The HTTP method given has not been implemented in this library.",Fe_emptyNavigateUriError_code="empty_navigate_uri",Fe_emptyNavigateUriError_desc="Navigation URI is empty. Please check stack trace for more info.",Fe_hashEmptyError_code="hash_empty_error",Fe_hashEmptyError_desc="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors.",Fe_hashDoesNotContainStateError_code="no_state_in_hash",Fe_hashDoesNotContainStateError_desc="Hash does not contain state. Please verify that the request originated from msal.",Fe_hashDoesNotContainKnownPropertiesError_code="hash_does_not_contain_known_properties",Fe_hashDoesNotContainKnownPropertiesError_desc="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors.",Fe_unableToParseStateError_code="unable_to_parse_state",Fe_unableToParseStateError_desc="Unable to parse state. Please verify that the request originated from msal.",Fe_stateInteractionTypeMismatchError_code="state_interaction_type_mismatch",Fe_stateInteractionTypeMismatchError_desc="Hash contains state but the interaction type does not match the caller.",Fe_interactionInProgress_code="interaction_in_progress",Fe_interactionInProgress_desc="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",Fe_popupWindowError_code="popup_window_error",Fe_popupWindowError_desc="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",Fe_emptyWindowError_code="empty_window_error",Fe_emptyWindowError_desc="window.open returned null or undefined window object.",Fe_userCancelledError_code="user_cancelled",Fe_userCancelledError_desc="User cancelled the flow.",Fe_monitorPopupTimeoutError_code="monitor_window_timeout",Fe_monitorPopupTimeoutError_desc="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",Fe_monitorIframeTimeoutError_code="monitor_window_timeout",Fe_monitorIframeTimeoutError_desc="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",Fe_redirectInIframeError_code="redirect_in_iframe",Fe_redirectInIframeError_desc="Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",Fe_blockTokenRequestsInHiddenIframeError_code="block_iframe_reload",Fe_blockTokenRequestsInHiddenIframeError_desc="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",Fe_blockAcquireTokenInPopupsError_code="block_nested_popups",Fe_blockAcquireTokenInPopupsError_desc="Request was blocked inside a popup because MSAL detected it was running in a popup.",Fe_iframeClosedPrematurelyError_code="iframe_closed_prematurely",Fe_iframeClosedPrematurelyError_desc="The iframe being monitored was closed prematurely.",Fe_silentLogoutUnsupportedError_code="silent_logout_unsupported",Fe_silentLogoutUnsupportedError_desc="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",Fe_noAccountError_code="no_account_error",Fe_noAccountError_desc="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",Fe_silentPromptValueError_code="silent_prompt_value_error",Fe_silentPromptValueError_desc="The value given for the prompt value is not valid for silent requests - must be set to 'none'.",Fe_noTokenRequestCacheError_code="no_token_request_cache_error",Fe_noTokenRequestCacheError_desc="No token request found in cache.",Fe_unableToParseTokenRequestCacheError_code="unable_to_parse_token_request_cache_error",Fe_unableToParseTokenRequestCacheError_desc="The cached token request could not be parsed.",Fe_noCachedAuthorityError_code="no_cached_authority_error",Fe_noCachedAuthorityError_desc="No cached authority found.",Fe_authRequestNotSet_code="auth_request_not_set_error",Fe_authRequestNotSet_desc="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",Fe_invalidCacheType_code="invalid_cache_type",Fe_invalidCacheType_desc="Invalid cache type",Fe_notInBrowserEnvironment_code="non_browser_environment",Fe_notInBrowserEnvironment_desc="Login and token requests are not supported in non-browser environments.",Fe_databaseNotOpen_code="database_not_open",Fe_databaseNotOpen_desc="Database is not open!",Fe_noNetworkConnectivity_code="no_network_connectivity",Fe_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",Fe_postRequestFailed_code="post_request_failed",Fe_postRequestFailed_desc="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",Fe_getRequestFailed_code="get_request_failed",Fe_getRequestFailed_desc="Network request failed. Please check the network trace to determine root cause.",Fe_failedToParseNetworkResponse_code="failed_to_parse_response",Fe_failedToParseNetworkResponse_desc="Failed to parse network response. Check network trace.",Fe_unableToLoadTokenError_code="unable_to_load_token",Fe_unableToLoadTokenError_desc="Error loading token to cache.",Fe_signingKeyNotFoundInStorage_code="crypto_key_not_found",Fe_signingKeyNotFoundInStorage_desc="Cryptographic Key or Keypair not found in browser storage.",Fe_authCodeRequired_code="auth_code_required",Fe_authCodeRequired_desc="An authorization code must be provided (as the `code` property on the request) to this flow.",Fe_authCodeOrNativeAccountRequired_code="auth_code_or_nativeAccountId_required",Fe_authCodeOrNativeAccountRequired_desc="An authorization code or nativeAccountId must be provided to this flow.",Fe_databaseUnavailable_code="database_unavailable",Fe_databaseUnavailable_desc="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",Fe_unableToAcquireTokenFromNativePlatform_code="unable_to_acquire_token_from_native_platform",Fe_unableToAcquireTokenFromNativePlatform_desc="Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors.",Fe_nativeHandshakeTimeout_code="native_handshake_timeout",Fe_nativeHandshakeTimeout_desc="Timed out while attempting to establish connection to browser extension",Fe_nativeExtensionNotInstalled_code="native_extension_not_installed",Fe_nativeExtensionNotInstalled_desc="Native extension is not installed. If you think this is a mistake call the initialize function.",Fe_nativeConnectionNotEstablished_code="native_connection_not_established",Fe_nativeConnectionNotEstablished_desc="Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors.",Fe_nativeBrokerCalledBeforeInitialize_code="native_broker_called_before_initialize",Fe_nativeBrokerCalledBeforeInitialize_desc="You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors.",Fe_nativePromptNotSupported_code="native_prompt_not_supported",Fe_nativePromptNotSupported_desc="The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",Je=function(n){function t(e,i){var r=n.call(this,e,i)||this;return Object.setPrototypeOf(r,t.prototype),r.name="BrowserAuthError",r}return Hi(t,n),t.createPkceNotGeneratedError=function(e){return new t(Fe_pkceNotGenerated_code,Fe_pkceNotGenerated_desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(Fe_cryptoDoesNotExist_code,Fe_cryptoDoesNotExist_desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(Fe_httpMethodNotImplementedError_code,Fe_httpMethodNotImplementedError_desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(Fe_emptyNavigateUriError_code,Fe_emptyNavigateUriError_desc)},t.createEmptyHashError=function(e){return new t(Fe_hashEmptyError_code,Fe_hashEmptyError_desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(Fe_hashDoesNotContainStateError_code,Fe_hashDoesNotContainStateError_desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(Fe_hashDoesNotContainKnownPropertiesError_code,Fe_hashDoesNotContainKnownPropertiesError_desc)},t.createUnableToParseStateError=function(){return new t(Fe_unableToParseStateError_code,Fe_unableToParseStateError_desc)},t.createStateInteractionTypeMismatchError=function(){return new t(Fe_stateInteractionTypeMismatchError_code,Fe_stateInteractionTypeMismatchError_desc)},t.createInteractionInProgressError=function(){return new t(Fe_interactionInProgress_code,Fe_interactionInProgress_desc)},t.createPopupWindowError=function(e){var i=Fe_popupWindowError_desc;return i=ze.isEmpty(e)?i:i+" Details: "+e,new t(Fe_popupWindowError_code,i)},t.createEmptyWindowCreatedError=function(){return new t(Fe_emptyWindowError_code,Fe_emptyWindowError_desc)},t.createUserCancelledError=function(){return new t(Fe_userCancelledError_code,Fe_userCancelledError_desc)},t.createMonitorPopupTimeoutError=function(){return new t(Fe_monitorPopupTimeoutError_code,Fe_monitorPopupTimeoutError_desc)},t.createMonitorIframeTimeoutError=function(){return new t(Fe_monitorIframeTimeoutError_code,Fe_monitorIframeTimeoutError_desc)},t.createRedirectInIframeError=function(e){return new t(Fe_redirectInIframeError_code,Fe_redirectInIframeError_desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(Fe_blockTokenRequestsInHiddenIframeError_code,Fe_blockTokenRequestsInHiddenIframeError_desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(Fe_blockAcquireTokenInPopupsError_code,Fe_blockAcquireTokenInPopupsError_desc)},t.createIframeClosedPrematurelyError=function(){return new t(Fe_iframeClosedPrematurelyError_code,Fe_iframeClosedPrematurelyError_desc)},t.createSilentLogoutUnsupportedError=function(){return new t(Fe_silentLogoutUnsupportedError_code,Fe_silentLogoutUnsupportedError_desc)},t.createNoAccountError=function(){return new t(Fe_noAccountError_code,Fe_noAccountError_desc)},t.createSilentPromptValueError=function(e){return new t(Fe_silentPromptValueError_code,Fe_silentPromptValueError_desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(Fe_unableToParseTokenRequestCacheError_code,Fe_unableToParseTokenRequestCacheError_desc)},t.createNoTokenRequestCacheError=function(){return new t(Fe_noTokenRequestCacheError_code,Fe_noTokenRequestCacheError_desc)},t.createAuthRequestNotSetError=function(){return new t(Fe_authRequestNotSet_code,Fe_authRequestNotSet_desc)},t.createNoCachedAuthorityError=function(){return new t(Fe_noCachedAuthorityError_code,Fe_noCachedAuthorityError_desc)},t.createInvalidCacheTypeError=function(){return new t(Fe_invalidCacheType_code,""+Fe_invalidCacheType_desc)},t.createNonBrowserEnvironmentError=function(){return new t(Fe_notInBrowserEnvironment_code,Fe_notInBrowserEnvironment_desc)},t.createDatabaseNotOpenError=function(){return new t(Fe_databaseNotOpen_code,Fe_databaseNotOpen_desc)},t.createNoNetworkConnectivityError=function(){return new t(Fe_noNetworkConnectivity_code,Fe_noNetworkConnectivity_desc)},t.createPostRequestFailedError=function(e,i){return new t(Fe_postRequestFailed_code,Fe_postRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+i.split("?")[0])},t.createGetRequestFailedError=function(e,i){return new t(Fe_getRequestFailed_code,Fe_getRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+i.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(Fe_failedToParseNetworkResponse_code,Fe_failedToParseNetworkResponse_desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(Fe_unableToLoadTokenError_code,Fe_unableToLoadTokenError_desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(Fe_signingKeyNotFoundInStorage_code,Fe_signingKeyNotFoundInStorage_desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(Fe_authCodeRequired_code,Fe_authCodeRequired_desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(Fe_authCodeOrNativeAccountRequired_code,Fe_authCodeOrNativeAccountRequired_desc)},t.createDatabaseUnavailableError=function(){return new t(Fe_databaseUnavailable_code,Fe_databaseUnavailable_desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(Fe_unableToAcquireTokenFromNativePlatform_code,Fe_unableToAcquireTokenFromNativePlatform_desc)},t.createNativeHandshakeTimeoutError=function(){return new t(Fe_nativeHandshakeTimeout_code,Fe_nativeHandshakeTimeout_desc)},t.createNativeExtensionNotInstalledError=function(){return new t(Fe_nativeExtensionNotInstalled_code,Fe_nativeExtensionNotInstalled_desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(Fe_nativeConnectionNotEstablished_code,Fe_nativeConnectionNotEstablished_desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(Fe_nativeBrokerCalledBeforeInitialize_code,Fe_nativeBrokerCalledBeforeInitialize_desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(Fe_nativePromptNotSupported_code,Fe_nativePromptNotSupported_desc)},t}(gt),b_=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return Be(this,void 0,void 0,function(){var i,r,s;return Ne(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,fetch(t,{method:fr.GET,headers:this.getFetchHeaders(e)})];case 1:return i=u.sent(),[3,3];case 2:throw r=u.sent(),window.navigator.onLine?Je.createGetRequestFailedError(r,t):Je.createNoNetworkConnectivityError();case 3:return u.trys.push([3,5,,6]),s={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 4:return[2,(s.body=u.sent(),s.status=i.status,s)];case 5:throw u.sent(),Je.createFailedToParseNetworkResponseError(t);case 6:return[2]}})})},n.prototype.sendPostRequestAsync=function(t,e){return Be(this,void 0,void 0,function(){var i,r,s,u;return Ne(this,function(h){switch(h.label){case 0:i=e&&e.body||ne.EMPTY_STRING,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,fetch(t,{method:fr.POST,headers:this.getFetchHeaders(e),body:i})];case 2:return r=h.sent(),[3,4];case 3:throw s=h.sent(),window.navigator.onLine?Je.createPostRequestFailedError(s,t):Je.createNoNetworkConnectivityError();case 4:return h.trys.push([4,6,,7]),u={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 5:return[2,(u.body=h.sent(),u.status=r.status,u)];case 6:throw h.sent(),Je.createFailedToParseNetworkResponseError(t);case 7:return[2]}})})},n.prototype.getFetchHeaders=function(t){var e=new Headers;if(!t||!t.headers)return e;var i=t.headers;return Object.keys(i).forEach(function(r){e.append(r,i[r])}),e},n.prototype.getHeaderDict=function(t){var e={};return t.forEach(function(i,r){e[r]=i}),e},n}(),gm=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return Be(this,void 0,void 0,function(){return Ne(this,function(i){return[2,this.sendRequestAsync(t,fr.GET,e)]})})},n.prototype.sendPostRequestAsync=function(t,e){return Be(this,void 0,void 0,function(){return Ne(this,function(i){return[2,this.sendRequestAsync(t,fr.POST,e)]})})},n.prototype.sendRequestAsync=function(t,e,i){var r=this;return new Promise(function(s,u){var h=new XMLHttpRequest;if(h.open(e,t,!0),r.setXhrHeaders(h,i),h.onload=function(){(h.status<200||h.status>=300)&&u(e===fr.POST?Je.createPostRequestFailedError("Failed with status "+h.status,t):Je.createGetRequestFailedError("Failed with status "+h.status,t));try{var p=JSON.parse(h.responseText),v={headers:r.getHeaderDict(h),body:p,status:h.status};s(v)}catch{u(Je.createFailedToParseNetworkResponseError(t))}},h.onerror=function(){window.navigator.onLine?u(e===fr.POST?Je.createPostRequestFailedError("Failed with status "+h.status,t):Je.createGetRequestFailedError("Failed with status "+h.status,t)):u(Je.createNoNetworkConnectivityError())},e===fr.POST&&i&&i.body)h.send(i.body);else{if(e!==fr.GET)throw Je.createHttpMethodNotImplementedError(e);h.send()}})},n.prototype.setXhrHeaders=function(t,e){if(e&&e.headers){var i=e.headers;Object.keys(i).forEach(function(r){t.setRequestHeader(r,i[r])})}},n.prototype.getHeaderDict=function(t){var i=t.getAllResponseHeaders().trim().split(/[\r\n]+/),r={};return i.forEach(function(s){var u=s.split(": "),h=u.shift(),p=u.join(": ");h&&p&&(r[h]=p)}),r},n}(),_n=function(){function n(){}return n.clearHash=function(t){t.location.hash=ne.EMPTY_STRING,"function"==typeof t.history.replaceState&&t.history.replaceState(null,ne.EMPTY_STRING,""+t.location.origin+t.location.pathname+t.location.search)},n.replaceHash=function(t){var e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):ne.EMPTY_STRING},n.isInIframe=function(){return window.parent!==window},n.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},n.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},n.getHomepage=function(){var e=new Qt(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},n.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new b_:new gm},n.blockReloadInHiddenIframes=function(){if(Qt.hashContainsKnownProperties(window.location.hash)&&n.isInIframe())throw Je.createBlockReloadInHiddenIframeError()},n.blockRedirectInIframe=function(t,e){var i=n.isInIframe();if(t===Qe.Redirect&&i&&!e)throw Je.createRedirectInIframeError(i)},n.blockAcquireTokenInPopups=function(){if(n.isInPopup())throw Je.createBlockAcquireTokenInPopupsError()},n.blockNonBrowserEnvironment=function(t){if(!t)throw Je.createNonBrowserEnvironmentError()},n.blockNativeBrokerCalledBeforeInitialized=function(t,e){if(t&&!e)throw Je.createNativeBrokerCalledBeforeInitialize()},n.detectIEOrEdge=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),i=t.indexOf("Trident/"),r=t.indexOf("Edge/");return e>0||i>0||r>0},n}(),Xe=F(7579),C_=F(6063);class If extends Xe.x{constructor(t=1/0,e=1/0,i=C_.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}class Zi extends Xe.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Ks=F(515),Ha=F(8421);function Vo(n){return(0,Wn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Rn.x)(e,void 0,void 0,u=>{s=(0,Ha.Xf)(n(u,Vo(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Vn(n,t){return(0,Wn.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Rn.x)(i,p=>{r?.unsubscribe();let v=0;const w=s++;(0,Ha.Xf)(n(p,w)).subscribe(r=(0,Rn.x)(i,D=>i.next(t?t(p,D,w,v++):D),()=>{r=null,h()}))},()=>{u=!0,h()}))})}const{isArray:Al}=Array,{getPrototypeOf:w_,prototype:E_,keys:Af}=Object;function S_(n){if(1===n.length){const t=n[0];if(Al(t))return{args:t,keys:null};if(function Mf(n){return n&&"object"==typeof n&&w_(n)===E_}(t)){const e=Af(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var hs=F(4671);const{isArray:_m}=Array;function Ml(n){return(0,ot.U)(t=>function Do(n,t){return _m(t)?n(...t):n(t)}(n,t))}function kf(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var qd=F(9672);function kl(...n){const t=(0,Lr.yG)(n),e=(0,Lr.jO)(n),{args:i,keys:r}=S_(n);if(0===i.length)return(0,zt.D)([],t);const s=new ui.y(function tC(n,t,e=hs.y){return i=>{D_(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)D_(t,()=>{const v=(0,zt.D)(n[p],t);let w=!1;v.subscribe((0,Rn.x)(i,D=>{s[p]=D,w||(w=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>kf(r,u):hs.y));return e?s.pipe(Ml(e)):s}function D_(n,t,e){n?(0,qd.f)(e,n,t):t()}var $d=F(8189);function Rl(...n){return function Rf(){return(0,$d.J)(1)}()((0,zt.D)(n,(0,Lr.yG)(n)))}function Zs(n){return new ui.y(t=>{(0,Ha.Xf)(n()).subscribe(t)})}var nC=F(9635);function Fu(n,t){const e=(0,Ki.m)(n)?n:()=>n,i=r=>r.error(e());return new ui.y(t?r=>t.schedule(i,0,r):i)}const Va=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xi=F(727);function xf(){return(0,Wn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Rn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Lu extends ui.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Rn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xi.w0.EMPTY)}return t}refCount(){return xf()(this)}}function Zn(n){return n<=0?()=>Ks.E:(0,Wn.e)((t,e)=>{let i=0;t.subscribe((0,Rn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Vi(...n){const t=(0,Lr.yG)(n);return(0,Wn.e)((e,i)=>{(t?Rl(n,e,t):Rl(n,e)).subscribe(i)})}function Bu(n){return(0,Wn.e)((t,e)=>{let i=!1;t.subscribe((0,Rn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Uu(n=T_){return(0,Wn.e)((t,e)=>{let i=!1;t.subscribe((0,Rn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function T_(){return new Va}function In(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fn((r,s)=>n(r,s,i)):hs.y,Zn(1),e?Bu(t):Uu(()=>new Va))}var Oi=F(8505);function I_(n,t,e,i,r){return(s,u)=>{let h=e,p=t,v=0;s.subscribe((0,Rn.x)(u,w=>{const D=v++;p=h?n(p,w,D):(h=!0,w),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}function fs(n,t){return(0,Wn.e)(I_(n,t,arguments.length>=2,!0))}function Kd(n){return n<=0?()=>Ks.E:(0,Wn.e)((t,e)=>{let i=[];t.subscribe((0,Rn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Of(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fn((r,s)=>n(r,s,i)):hs.y,Kd(1),e?Bu(t):Uu(()=>new Va))}function vm(n,t=!1){return(0,Wn.e)((e,i)=>{let r=0;e.subscribe((0,Rn.x)(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}function Pf(n){return(0,ot.U)(()=>n)}function Rc(n){return(0,Wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary";class A_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xl(n){return new A_(n)}function Ol(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function jo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Hu(n[r],t[r]))return!1;return!0}function Hu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Nf(n){return Array.prototype.concat.apply([],n)}function Br(n){return n.length>0?n[n.length-1]:null}function ji(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Go(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,zt.D)(Promise.resolve(n)):Ae(n)}const Lf={exact:function Uf(n,t,e){if(!Tr(n.segments,t.segments)||!Pl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Uf(n.children[i],t.children[i],e))return!1;return!0},subset:ju},Jd={exact:function Ur(n,t){return jo(n,t)},subset:function Hf(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Hu(n[e],t[e]))},ignored:()=>!0};function Bf(n,t,e){return Lf[e.paths](n.root,t.root,e.matrixParams)&&Jd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ju(n,t,e){return ym(n,t,t.segments,e)}function ym(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Tr(r,e)||t.hasChildren()||!Pl(r,e,i))}if(n.segments.length===e.length){if(!Tr(n.segments,e)||!Pl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ju(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Tr(n.segments,r)&&Pl(n.segments,r,i)&&n.children[$t])&&ym(n.children[$t],t,s,i)}}function Pl(n,t,e){return t.every((i,r)=>Jd[e](n[r].parameters,i.parameters))}class ni{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xl(this.queryParams)),this._queryParamMap}toString(){return M_.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ji(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xc(this)}}class ja{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=xl(this.parameters)),this._parameterMap}toString(){return C(this)}}function Tr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Xd{}class Ga{parse(t){const e=new Gi(t);return new ni(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${zu(t.root,!0)}`,i=function O(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Oc(e)}=${Oc(r)}`).join("&"):`${Oc(e)}=${Oc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function k_(n){return encodeURI(n)}(t.fragment)}`:""}`}}const M_=new Ga;function xc(n){return n.segments.map(t=>C(t)).join("/")}function zu(n,t){if(!n.hasChildren())return xc(n);if(t){const e=n.children[$t]?zu(n.children[$t],!1):"",i=[];return ji(n.children,(r,s)=>{s!==$t&&i.push(`${s}:${zu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Gu(n,t){let e=[];return ji(n.children,(i,r)=>{r===$t&&(e=e.concat(t(i,r)))}),ji(n.children,(i,r)=>{r!==$t&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$t?[zu(n.children[$t],!1)]:[`${r}:${zu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${xc(n)}/${e[0]}`:`${xc(n)}/(${e.join("//")})`}}function bm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oc(n){return bm(n).replace(/%3B/gi,";")}function y(n){return bm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function m(n){return decodeURIComponent(n)}function _(n){return m(n.replace(/\+/g,"%20"))}function C(n){return`${y(n.path)}${function M(n){return Object.keys(n).map(t=>`;${y(t)}=${y(n[t])}`).join("")}(n.parameters)}`}const Q=/^[^\/()?;=#]+/;function de(n){const t=n.match(Q);return t?t[0]:""}const Le=/^[^=?&#]+/,At=/^[^&#]+/;class Gi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new Pt(t,e)),i}parseSegment(){const t=de(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new ja(m(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=de(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=de(this.remaining);r&&(i=r,this.capture(i))}t[m(e)]=m(i)}parseQueryParam(t){const e=function it(n){const t=n.match(Le);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Ct(n){const t=n.match(At);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=_(e),s=_(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=de(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=$t);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[$t]:new Pt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function so(n){return n.segments.length>0?new Pt([],{[$t]:n}):n}function Nl(n){const t={};for(const i of Object.keys(n.children)){const s=Nl(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function jf(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new Pt(n.segments.concat(t.segments),t.children)}return n}(new Pt(n.segments,t))}function ps(n){return n instanceof ni}function x_(n,t,e,i,r){if(0===e.length)return Yu(t.root,t.root,t.root,i,r);const s=function vD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new O_(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return ji(s.outlets,(p,v)=>{h[v]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new O_(e,t,i)}(e);return s.toRoot()?Yu(t.root,t.root,new Pt([],{}),i,r):function u(p){const v=function iC(n,t,e,i){if(n.isAbsolute)return new Yf(t.root,!0,0);if(-1===i)return new Yf(e,e===t.root,0);return function Cm(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Yf(i,!1,r-s)}(e,i+(Nc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),w=v.processChildren?th(v.segmentGroup,v.index,s.commands):P_(v.segmentGroup,v.index,s.commands);return Yu(t.root,v.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Nc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function za(n){return"object"==typeof n&&null!=n&&n.outlets}function Yu(n,t,e,i,r){let u,s={};i&&ji(i,(p,v)=>{s[v]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),u=n===t?e:zf(n,t,e);const h=so(Nl(u));return new ni(h,s,r)}function zf(n,t,e){const i={};return ji(n.children,(r,s)=>{i[s]=r===t?e:zf(r,t,e)}),new Pt(n.segments,i)}class O_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Nc(i[0]))throw new o.vHH(4003,!1);const r=i.find(za);if(r&&r!==Br(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function P_(n,t,e){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return th(n,t,e);const i=function N_(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(za(h))break;const p=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!oC(p,v,u))return s;i+=2}else{if(!oC(p,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Pt(n.segments.slice(0,i.pathIndex),{});return s.children[$t]=new Pt(n.segments.slice(i.pathIndex),n.children),th(s,0,r)}return i.match&&0===r.length?new Pt(n.segments,{}):i.match&&!n.hasChildren()?F_(n,t,e):i.match?th(n,0,r):F_(n,t,e)}function th(n,t,e){if(0===e.length)return new Pt(n.segments,{});{const i=function rC(n){return za(n[0])?n[0].outlets:{[$t]:n}}(e),r={};return ji(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=P_(n.children[u],t,s))}),ji(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Pt(n.segments,r)}}function F_(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(za(s)){const p=L_(s.outlets);return new Pt(i,p)}if(0===r&&Nc(e[0])){i.push(new ja(n.segments[t].path,nh(e[0]))),r++;continue}const u=za(s)?s.outlets[$t]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&Nc(h)?(i.push(new ja(u,nh(h))),r+=2):(i.push(new ja(u,{})),r++)}return new Pt(i,{})}function L_(n){const t={};return ji(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=F_(new Pt([],{}),0,e))}),t}function nh(n){const t={};return ji(n,(e,i)=>t[i]=`${e}`),t}function oC(n,t,e){return n==e.path&&jo(t,e.parameters)}class Fl{constructor(t,e){this.id=t,this.url=e}}class B_ extends Fl{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends Fl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wm extends Fl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sC extends Fl{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bD extends Fl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CD extends Fl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U_ extends Fl{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wD extends Fl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ED extends Fl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SD{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DD{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TD{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V_{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ir{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qu(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=qu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return qf(t,this._root).map(e=>e.value)}}function qu(n,t){if(n===t.value)return t;for(const e of t.children){const i=qu(n,e);if(i)return i}return null}function qf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=qf(n,e);if(i.length)return i.unshift(t),i}return[]}class Ll{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ih(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class G_ extends Ir{constructor(t,e){super(t),this.snapshot=e,Y_(this,t)}toString(){return this.snapshot.toString()}}function lC(n,t){const e=function cC(n,t){const u=new Em([],{},{},"",{},$t,t,null,n.root,-1,{});return new uC("",new Ll(u,[]))}(n,t),i=new Zi([new ja("",{})]),r=new Zi({}),s=new Zi({}),u=new Zi({}),h=new Zi(""),p=new rh(i,r,u,h,s,$t,t,e.root);return p.snapshot=e.root,new G_(new Ll(p,[]),e)}class rh{constructor(t,e,i,r,s,u,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(t=>xl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(t=>xl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function z_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function ID(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Em{constructor(t,e,i,r,s,u,h,p,v,w,D,k){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=w,this._correctedLastPathIndex=k??w,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uC extends Ir{constructor(t,e){super(e),this.url=t,Y_(this,e)}toString(){return dC(this._root)}}function Y_(n,t){t.value._routerState=n,t.children.forEach(e=>Y_(n,e))}function dC(n){const t=n.children.length>0?` { ${n.children.map(dC).join(", ")} } `:"";return`${n.value}${t}`}function q_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,jo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),jo(t.params,e.params)||n.params.next(e.params),function Zd(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!jo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),jo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lc(n,t){const e=jo(n.params,t.params)&&function Vf(n,t){return Tr(n,t)&&n.every((e,i)=>jo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Lc(n.parent,t.parent))}function $f(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function AD(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $f(n,i,r);return $f(n,i)})}(n,t,e);return new Ll(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>$f(n,h)),u}}const i=function ex(n){return new rh(new Zi(n.url),new Zi(n.params),new Zi(n.queryParams),new Zi(n.fragment),new Zi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>$f(n,s));return new Ll(i,r)}}const hC="ngNavigationCancelingError";function $_(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ps(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=MD(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function MD(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[hC]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Qs(n){return Sm(n)&&ps(n.url)}function Sm(n){return n&&n[hC]}class W_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wf,this.attachRef=null}}class Wf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new W_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const Kf=!1;let K_=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||$t,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,Kf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,Kf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,Kf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,Kf);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new Zf(e,h,r.injector);if(i&&function kD(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,p)}else this.activated=r.createComponent(u,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Wf),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Zf{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===rh?this.route:t===Wf?this.childContexts:this.parent.get(t,e)}}let Z_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[K_],encapsulation:2}),n})();function Dm(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function J_(n){const t=n.children&&n.children.map(J_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=Z_),e}function ms(n){return n.outlet||$t}function mC(n,t){const e=n.filter(i=>ms(i)===t);return e.push(...n.filter(i=>ms(i)!==t)),e}function gC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class PD{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),q_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ih(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),ji(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ih(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ih(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ih(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new H_(s.value.snapshot))}),t.children.length&&this.forwardEvent(new TD(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(q_(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),q_(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=gC(r.snapshot),p=h?.get(o._Vd)??null;u.attachRef=null,u.route=r,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class X_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class oh{constructor(t,e){this.component=t,this.route=e}}function _C(n,t,e){const i=n._root;return Xf(i,t?t._root:null,e,[i.value])}function Tm(n,t,e){return(gC(t)??e).get(n)}function Xf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ih(t);return n.children.forEach(u=>{(function vC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function yC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Tr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Tr(n.url,t.url)||!jo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lc(n,t)||!jo(n.queryParams,t.queryParams);default:return!Lc(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new X_(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Xf(n,t,s.component?h?h.children:null:e,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new oh(h.outlet.component,u))}else u&&Js(t,h,r),r.canActivateChecks.push(new X_(i)),Xf(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),ji(s,(u,h)=>Js(u,e.getContext(h),r)),r}function Js(n,t,e){const i=ih(n),r=n.value;ji(i,(s,u)=>{Js(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new oh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function sh(n){return"function"==typeof n}const ah=Symbol("INITIAL_VALUE");function $u(){return Vn(n=>kl(n.map(t=>t.pipe(Zn(1),Vi(ah)))).pipe((0,ot.U)(t=>{for(const e of t)if(!0!==e){if(e===ah)return ah;if(!1===e||e instanceof ni)return e}return!0}),fn(t=>t!==ah),Zn(1)))}function TC(n){return(0,nC.z)((0,Oi.b)(t=>{if(ps(t))throw $_(0,t)}),(0,ot.U)(t=>!0===t))}const km={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rm(n,t,e,i,r){const s=xm(n,t,e);return s.matched?function UD(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ae(r.map(u=>{const h=n.get(u),p=function CC(n){return n&&sh(n.canMatch)}(h)?h.canMatch(t,e):h(t,e);return Go(p)})).pipe($u(),TC()):Ae(!0)}(i=Dm(t,i),t,e).pipe((0,ot.U)(u=>!0===u?s:{...km})):Ae(s)}function xm(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...km}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Ol)(e,n,t);if(!r)return{...km};const s={};ji(r.posParams,(h,p)=>{s[p]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function iv(n,t,e,i,r="corrected"){if(e.length>0&&function AC(n,t,e){return e.some(i=>Om(n,t,i)&&ms(i)!==$t)}(n,e,i)){const u=new Pt(t,function HD(n,t,e,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ms(s)!==$t){const u=new Pt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ms(s)]=u}return r}(n,t,i,new Pt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function VD(n,t,e){return e.some(i=>Om(n,t,i))}(n,e,i)){const u=new Pt(n.segments,function IC(n,t,e,i,r,s){const u={};for(const h of i)if(Om(n,e,h)&&!r[ms(h)]){const p=new Pt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[ms(h)]=p}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new Pt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Om(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function gs(n,t,e,i){return!!(ms(n)===i||i!==$t&&Om(t,e,n))&&("**"===n.path||xm(t,n,e).matched)}function MC(n,t,e){return 0===t.length&&!n.children[e]}const tp=!1;class Pm{constructor(t){this.segmentGroup=t||null}}class kC{constructor(t){this.urlTree=t}}function np(n){return Fu(new Pm(n))}function RC(n){return Fu(new kC(n))}class zD{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=iv(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe((0,ot.U)(s=>this.createUrlTree(Nl(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vo(s=>{if(s instanceof kC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Pm?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe((0,ot.U)(r=>this.createUrlTree(Nl(r),t.queryParams,t.fragment))).pipe(Vo(r=>{throw r instanceof Pm?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,tp)}createUrlTree(t,e,i){const r=so(t);return new ni(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ot.U)(s=>new Pt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,zt.D)(r).pipe(ar(s=>{const u=i.children[s],h=mC(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,ot.U)(p=>({segment:p,outlet:s})))}),fs((s,u)=>(s[u.outlet]=u.segment,s),{}),Of())}expandSegment(t,e,i,r,s,u){return(0,zt.D)(i).pipe(ar(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(Vo(v=>{if(v instanceof Pm)return Ae(null);throw v}))),In(h=>!!h),Vo((h,p)=>{if(h instanceof Va||"EmptyError"===h.name)return MC(e,r,s)?Ae(new Pt([],{})):np(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return gs(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):np(e):np(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RC(s):this.lineralizeSegments(i,s).pipe((0,Hn.z)(u=>{const h=new Pt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:p,remainingSegments:v,positionalParamSegments:w}=xm(e,r,s);if(!h)return np(e);const D=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?RC(D):this.lineralizeSegments(r,D).pipe((0,Hn.z)(k=>this.expandSegment(t,e,i,k.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=Dm(i,t),i.loadChildren?(i._loadedRoutes?Ae({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,ot.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Pt(r,{})))):Ae(new Pt(r,{}))):Rm(e,i,r,t).pipe(Vn(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Hn.z)(w=>{const D=w.injector??t,k=w.routes,{segmentGroup:P,slicedSegments:U}=iv(e,h,p,k),j=new Pt(P.segments,P.children);if(0===U.length&&j.hasChildren())return this.expandChildren(D,k,j).pipe((0,ot.U)(Ke=>new Pt(h,Ke)));if(0===k.length&&0===U.length)return Ae(new Pt(h,{}));const ae=ms(i)===s;return this.expandSegment(D,j,k,U,ae?$t:s,!0).pipe((0,ot.U)(Ve=>new Pt(h.concat(Ve.segments),Ve.children)))})):np(e)))}getChildConfig(t,e,i){return e.children?Ae({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ae({routes:e._loadedRoutes,injector:e._loadedInjector}):function DC(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ae(!0):Ae(r.map(u=>{const h=n.get(u),p=function ND(n){return n&&sh(n.canLoad)}(h)?h.canLoad(t,e):h(t,e);return Go(p)})).pipe($u(),TC())}(t,e,i).pipe((0,Hn.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Oi.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function jD(n){return Fu(MD(tp,3))}())):Ae({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ae(i);if(r.numberOfChildren>1||!r.children[$t])return Fu(new o.vHH(4e3,tp));r=r.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ni(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ji(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return ji(e.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,i,r)}),new Pt(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,tp);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class OC{}class qD{constructor(t,e,i,r,s,u,h,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const t=iv(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe((0,ot.U)(e=>{if(null===e)return null;const i=new Em([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ll(i,e),s=new uC(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=z_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,zt.D)(Object.keys(i.children)).pipe(ar(r=>{const s=i.children[r],u=mC(e,r);return this.processSegmentGroup(t,u,s,r)}),fs((r,s)=>r&&s?(r.push(...s),r):null),vm(r=>null!==r),Bu(null),Of(),(0,ot.U)(r=>{if(null===r)return null;const s=LC(r);return function NC(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,zt.D)(e).pipe(ar(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,s)),In(u=>!!u),Vo(u=>{if(u instanceof Va)return MC(i,r,s)?Ae([]):Ae(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!gs(e,i,r,s))return Ae(null);let u;if("**"===e.path){const h=r.length>0?Br(r).parameters:{},p=rv(i)+r.length;u=Ae({snapshot:new Em(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bc(e),ms(e),e.component??e._loadedComponent??null,e,KD(i),p,BC(e),p),consumedSegments:[],remainingSegments:[]})}else u=Rm(i,e,r,t).pipe((0,ot.U)(({matched:h,consumedSegments:p,remainingSegments:v,parameters:w})=>{if(!h)return null;const D=rv(i)+p.length;return{snapshot:new Em(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bc(e),ms(e),e.component??e._loadedComponent??null,e,KD(i),D,BC(e),D),consumedSegments:p,remainingSegments:v}}));return u.pipe(Vn(h=>{if(null===h)return Ae(null);const{snapshot:p,consumedSegments:v,remainingSegments:w}=h;t=e._injector??t;const D=e._loadedInjector??t,k=function $D(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:U}=iv(i,v,w,k.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);if(0===U.length&&P.hasChildren())return this.processChildren(D,k,P).pipe((0,ot.U)(ae=>null===ae?null:[new Ll(p,ae)]));if(0===k.length&&0===U.length)return Ae([new Ll(p,[])]);const j=ms(e)===s;return this.processSegment(D,k,P,U,j?$t:s).pipe((0,ot.U)(ae=>null===ae?null:[new Ll(p,ae)]))}))}}function FC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function LC(n){const t=[],e=new Set;for(const i of n){if(!FC(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=LC(i.children);t.push(new Ll(i.value,r))}return t.filter(i=>!e.has(i))}function KD(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function rv(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Bc(n){return n.data||{}}function BC(n){return n.resolve||{}}const rp=Symbol("RouteTitle");function av(n){return"string"==typeof n.title||null===n.title}function UC(n){return Vn(t=>{const e=n(t);return e?(0,zt.D)(e).pipe((0,ot.U)(()=>t)):Ae(t)})}class XD extends class lh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ch=new o.OlP("ROUTES");let cv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ae(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Go(e.loadComponent()).pipe((0,Oi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Rc(()=>{this.componentLoaders.delete(e)})),r=new Lu(i,()=>new Xe.x).pipe(xf());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ot.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,v,w=!1;Array.isArray(h)?v=h:(p=h.create(e).injector,v=Nf(p.get(ch,[],o.XFs.Self|o.XFs.Optional)));return{routes:v.map(J_),injector:p}}),Rc(()=>{this.childrenLoaders.delete(i)})),u=new Lu(s,()=>new Xe.x).pipe(xf());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return Go(e()).pipe((0,Hn.z)(i=>i instanceof o.YKP||Array.isArray(i)?Ae(i):(0,zt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class eT{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function tT(n){throw n}function nT(n,t,e){return t.parse("/")}const iT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class n{constructor(e,i,r,s,u,h,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe.x,this.errorHandler=tT,this.malformedUriErrorHandler=nT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ae(void 0),this.urlHandlingStrategy=new eT,this.routeReuseStrategy=new XD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(cv),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new aC(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new SD(k)),this.ngModule=u.get(o.h0i),this.console=u.get(o.c2e);const D=u.get(o.R0b);this.isNgZoneEnabled=D instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Ff(){return new ni(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lC(this.currentUrlTree,this.rootComponentType),this.transitions=new Zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(fn(r=>0!==r.id),(0,ot.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Vn(r=>{let s=!1,u=!1;return Ae(r).pipe((0,Oi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vn(h=>{const p=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return uv(h.source)&&(this.browserUrlTree=h.extractedUrl),Ae(h).pipe(Vn(D=>{const k=this.transitions.getValue();return i.next(new B_(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),k!==this.transitions.getValue()?Ks.E:Promise.resolve(D)}),function jt(n,t,e,i){return Vn(r=>function GD(n,t,e,i,r){return new zD(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ot.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oi.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function sv(n,t,e,i,r,s){return(0,Hn.z)(u=>function YD(n,t,e,i,r,s,u="emptyOnly",h="legacy"){return new qD(n,t,e,i,r,u,h,s).recognize().pipe(Vn(p=>null===p?function PC(n){return new ui.y(t=>t.error(n))}(new OC):Ae(p)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,ot.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oi.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(P,D)}this.browserUrlTree=D.urlAfterRedirects}const k=new bD(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(k)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:P,source:U,restoredState:j,extras:ae}=h,Ee=new B_(k,this.serializeUrl(P),U,j);i.next(Ee);const Ve=lC(P,this.rootComponentType).snapshot;return Ae(r={...h,targetSnapshot:Ve,urlAfterRedirects:P,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ks.E}),(0,Oi.b)(h=>{const p=new CD(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,ot.U)(h=>r={...h,guards:_C(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Am(n,t){return(0,Hn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?Ae({...e,guardsResult:!0}):function Mm(n,t,e,i){return(0,zt.D)(n).pipe((0,Hn.z)(r=>function BD(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ae(s.map(h=>{const p=Tm(h,t,r);return Go(function FD(n){return n&&sh(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,i):p(n,t,e,i)).pipe(In())})).pipe($u()):Ae(!0)}(r.component,r.route,e,t,i)),In(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Hn.z)(h=>h&&function bC(n){return"boolean"==typeof n}(h)?function EC(n,t,e,i){return(0,zt.D)(t).pipe(ar(r=>Rl(function SC(n,t){return null!==n&&t&&t(new DD(n)),Ae(!0)}(r.route.parent,i),function tv(n,t){return null!==n&&t&&t(new ao(n)),Ae(!0)}(r.route,i),function ep(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function ev(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Zs(()=>Ae(u.guards.map(p=>{const v=Tm(p,u.node,e);return Go(function Im(n){return n&&sh(n.canActivateChild)}(v)?v.canActivateChild(i,n):v(i,n)).pipe(In())})).pipe($u())));return Ae(s).pipe($u())}(n,r.path,e),function nv(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ae(!0);const r=i.map(s=>Zs(()=>{const u=Tm(s,t,e);return Go(function tx(n){return n&&sh(n.canActivate)}(u)?u.canActivate(t,n):u(t,n)).pipe(In())}));return Ae(r).pipe($u())}(n,r.route,e))),In(r=>!0!==r,!0))}(i,s,n,t):Ae(h)),(0,ot.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Oi.b)(h=>{if(r.guardsResult=h.guardsResult,ps(h.guardsResult))throw $_(0,h.guardsResult);const p=new U_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),fn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),UC(h=>{if(h.guards.canActivateChecks.length)return Ae(h).pipe((0,Oi.b)(p=>{const v=new wD(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),Vn(p=>{let v=!1;return Ae(p).pipe(function ZD(n,t){return(0,Hn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ae(e);let s=0;return(0,zt.D)(r).pipe(ar(u=>function nx(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!av(r)&&(s[rp]=r.title),function ix(n,t,e,i){const r=function rx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ae({});const s={};return(0,zt.D)(r).pipe((0,Hn.z)(u=>function QD(n,t,e,i){const r=Tm(n,t,i);return Go(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe(In(),(0,Oi.b)(h=>{s[u]=h}))),Kd(1),Pf(s),Vo(u=>u instanceof Va?Ks.E:Fu(u)))}(s,n,t,i).pipe((0,ot.U)(u=>(n._resolvedData=u,n.data=z_(n,e).resolve,r&&av(r)&&(n.data[rp]=r.title),null)))}(u.route,i,n,t)),(0,Oi.b)(()=>s++),Kd(1),(0,Hn.z)(u=>s===r.length?Ae(e):Ks.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oi.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Oi.b)(p=>{const v=new ED(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),UC(h=>{const p=v=>{const w=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Oi.b)(D=>{v.component=D}),(0,ot.U)(()=>{})));for(const D of v.children)w.push(...p(D));return w};return kl(p(h.targetSnapshot.root)).pipe(Bu(),Zn(1))}),UC(()=>this.afterPreactivation()),(0,ot.U)(h=>{const p=function Bl(n,t,e){const i=$f(n,t._root,e?e._root:void 0);return new G_(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,Oi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ot.U)(i=>(new PD(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Oi.b)({next(){s=!0},complete(){s=!0}}),Rc(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Vo(h=>{if(u=!0,Sm(h)){Qs(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new wm(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),Qs(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uv(r.source)};this.scheduleNavigation(v,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new sC(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return Ks.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(J_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,v=r||this.routerState.root,w=p?this.currentUrlTree.fragment:u;let D=null;switch(h){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),x_(v,this.currentUrlTree,e,D,w??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ps(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function jC(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...iT}:!1===i?{...VC}:i,ps(e))return Bf(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Bf(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Fc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,v;u?(h=u.resolve,p=u.reject,v=u.promise):v=new Promise((k,P)=>{h=k,p=P});const w=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:w,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:h,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(k=>Promise.reject(k))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new wm(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function uv(n){return"imperative"!==n}let dv=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Xe.x,this.subscription=e.events.subscribe(s=>{s instanceof Fc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,u){if(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,o.D6c)(this.skipLocationChange),replaceUrl:(0,o.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,o.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fi),o.Y36(rh),o.Y36(ye))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),oT=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[rp]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(uh)},providedIn:"root"}),n})(),uh=(()=>{class n extends oT{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(yc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fv{}let _s=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(fn(e=>e instanceof Fc),ar(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const u=s._injector??e,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,zt.D)(r).pipe((0,$d.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ae(null);const s=r.pipe((0,Hn.z)(u=>null===u?Ae(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,zt.D)([s,u]).pipe((0,$d.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fi),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(fv),o.LFG(cv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const mv=new o.OlP("");let aT=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof B_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof V_&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new V_(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const sp=new o.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),gv=new o.OlP("ROUTER_FORROOT_GUARD"),Fm=new o.OlP(""),ox=[_e,{provide:Xd,useClass:Ga},{provide:fi,useFactory:function sx(n,t,e,i,r,s,u,h={},p,v){const w=new fi(null,n,t,e,i,r,Nf(s));return p&&(w.urlHandlingStrategy=p),v&&(w.routeReuseStrategy=v),w.titleStrategy=u,function lT(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,w),w},deps:[Xd,Wf,_e,o.zs3,o.Sil,ch,oT,sp,[class HC{},new o.FiY],[class JD{},new o.FiY]]},Wf,{provide:rh,useFactory:function cT(n){return n.routerState.root},deps:[fi]},cv];function GC(){return new o.PXZ("Router",fi)}let zC=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[ox,[],Um(e),{provide:gv,useFactory:vv,deps:[[fi,new o.FiY,new o.tp0]]},{provide:sp,useValue:i||{}},i?.useHash?{provide:ye,useClass:Re}:{provide:ye,useClass:dt},{provide:mv,useFactory:()=>{const n=(0,o.f3M)(fi),t=(0,o.f3M)(vl),e=(0,o.f3M)(sp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new aT(n,t,e)}},i?.preloadingStrategy?yv(i.preloadingStrategy):[],{provide:o.PXZ,multi:!0,useFactory:GC},i?.initialNavigation?qC(i):[],[{provide:YC,useFactory:uT},{provide:o.tb,multi:!0,useExisting:YC}]]}}static forChild(e){return{ngModule:n,providers:[Um(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gv,8),o.LFG(fi,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function vv(n){return"guarded"}function Um(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:ch,multi:!0,useValue:n}]}function uT(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(fi),r=n.get($C);null===n.get(Hm,null,o.XFs.Optional)&&i.initialNavigation(),n.get(Fm,null,o.XFs.Optional)?.setUpPreloading(),n.get(mv,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const YC=new o.OlP("");function qC(n){return["disabled"===n.initialNavigation?[{provide:o.ip1,multi:!0,useFactory:()=>{const n=(0,o.f3M)(fi);return()=>{n.setUpLocationChangeListener()}}},{provide:Hm,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Hm,useValue:"enabledBlocking"},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:n=>{const t=n.get(z,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const s=n.get(fi),u=n.get($C);(function i(r){n.get(fi).events.pipe(fn(u=>u instanceof Fc||u instanceof wm||u instanceof sC),(0,ot.U)(u=>u instanceof Fc||u instanceof wm&&(0===u.code||1===u.code)&&null),fn(u=>null!==u),Zn(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),s.afterPreactivation=()=>(r(!0),e||u.closed?Ae(void 0):u),s.initialNavigation()}))}}]:[]]}const $C=new o.OlP("",{factory:()=>new Xe.x}),Hm=new o.OlP("");function yv(n){return[_s,{provide:Fm,useExisting:_s},{provide:fv,useExisting:n}]}const KC=new o.OlP("MSAL_INSTANCE"),bv=new o.OlP("MSAL_GUARD_CONFIG"),hT=new o.OlP("MSAL_INTERCEPTOR_CONFIG"),cx=new o.OlP("MSAL_BROADCAST_CONFIG"),fT="@azure/msal-angular",ZC="2.4.0";let dh=(()=>{class n{constructor(e,i){this.instance=e,this.location=i;const r=this.location.path(!0).split("#").pop();r&&(this.redirectHash=`#${r}`),this.instance.initializeWrapperLibrary(Ba.Angular,ZC)}initialize(){return(0,zt.D)(this.instance.initialize())}acquireTokenPopup(e){return(0,zt.D)(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return(0,zt.D)(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return(0,zt.D)(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return(0,zt.D)(this.instance.handleRedirectPromise(e||this.redirectHash))}loginPopup(e){return(0,zt.D)(this.instance.loginPopup(e))}loginRedirect(e){return(0,zt.D)(this.instance.loginRedirect(e))}logout(e){return(0,zt.D)(this.instance.logout(e))}logoutRedirect(e){return(0,zt.D)(this.instance.logoutRedirect(e))}logoutPopup(e){return(0,zt.D)(this.instance.logoutPopup(e))}ssoSilent(e){return(0,zt.D)(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(fT,ZC)),this.logger}setLogger(e){this.logger=e.clone(fT,ZC),this.instance.setLogger(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(KC),o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Cv=(()=>{class n{constructor(e,i,r){this.msalInstance=e,this.authService=i,this.msalBroadcastConfig=r,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - replayPastEvents set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new If(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Xe.x,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Zi(hi.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(s=>{this._msalSubject.next(s);const u=fm.getInteractionStatusFromEvent(s,this._inProgress.value);null!==u&&(this.authService.getLogger().verbose(`BroadcastService - ${s.eventType} results in setting inProgress from ${this._inProgress.value} to ${u}`),this._inProgress.next(u))})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(KC),o.LFG(dh),o.LFG(cx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),pT=(()=>{class n{constructor(e,i,r,s,u){this.msalGuardConfig=e,this.msalBroadcastService=i,this.authService=r,this.location=s,this.router=u,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const i=document.getElementsByTagName("base"),r=this.location.normalize(i.length?i[0].href:window.location.origin),s=this.location.prepareExternalUrl(e);return s.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${r}/${s}`):`${r}${e}`}loginInteractively(e){const i="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===Qe.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(i).pipe((0,ot.U)(s=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(s.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const r=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:r},i)).pipe((0,ot.U)(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==Qe.Popup&&this.msalGuardConfig.interactionType!==Qe.Redirect)throw new Ua("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),Ae(!0);if(Qt.hashContainsKnownProperties(window.location.hash)&&_n.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),Ae(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const i=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(ar(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),Ae(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const r=this.includesCode(e.url),s=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),u=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(r&&(s||u))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),i.indexOf("#")>-1?Ae(this.parseUrl(this.location.path())):Ae(this.parseUrl(""))}return Ae(!0)}),Vo(r=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${r.message}`),this.loginFailedRoute&&parseInt(o.q4F.major,10)>9&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),Ae(this.loginFailedRoute)):Ae(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,i){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(i)}canActivateChild(e,i){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(i)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bv),o.LFG(Cv),o.LFG(dh),o.LFG(_e),o.LFG(fi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Hc=(()=>{class n{constructor(e,i,r,s){this.msalInterceptorConfig=e,this.authService=i,this.location=r,this._document=s}intercept(e,i){if(this.msalInterceptorConfig.interactionType!==Qe.Popup&&this.msalInterceptorConfig.interactionType!==Qe.Redirect)throw new Ua("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");const r=this.getScopesForEndpoint(e.url,e.method);if(!r||0===r.length)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),i.handle(e);let s;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),s=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),s=this.authService.instance.getAllAccounts()[0]);const u="function"==typeof this.msalInterceptorConfig.authRequest?this.msalInterceptorConfig.authRequest(this.authService,e,{account:s}):Object.assign(Object.assign({},this.msalInterceptorConfig.authRequest),{account:s});return this.authService.getLogger().info(`Interceptor - ${r.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${r}] scopes found for ${e.url}`),this.authService.acquireTokenSilent(Object.assign(Object.assign({},u),{scopes:r,account:s})).pipe(Vo(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.acquireTokenInteractively(u,r))),Vn(h=>h.accessToken?Ae(h):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.acquireTokenInteractively(u,r))),Vn(h=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");const p=e.headers.set("Authorization",`Bearer ${h.accessToken}`),v=e.clone({headers:p});return i.handle(v)}))}acquireTokenInteractively(e,i){if(this.msalInterceptorConfig.interactionType===Qe.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup(Object.assign(Object.assign({},e),{scopes:i}));this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");const r=window.location.href;return this.authService.acquireTokenRedirect(Object.assign(Object.assign({},e),{scopes:i,redirectStartPage:r})),Ks.E}getScopesForEndpoint(e,i){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");const r=this.location.normalize(e),s=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),u=this.matchResourcesToEndpoint(s,r);return u.absoluteResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,u.absoluteResources,i):u.relativeResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,u.relativeResources,i):null}matchResourcesToEndpoint(e,i){const r={absoluteResources:[],relativeResources:[]};return e.forEach(s=>{const u=this.location.normalize(s);ze.matchPattern(u,i)&&r.absoluteResources.push(s);const h=this.getAbsoluteUrl(s),p=new Qt(h).getUrlComponents(),v=this.getAbsoluteUrl(i),w=new Qt(v).getUrlComponents(),D=p.QueryString?`${p.AbsolutePath}?${p.QueryString}`:this.location.normalize(p.AbsolutePath);p.HostNameAndPort===w.HostNameAndPort&&ze.matchPattern(D,v)&&""!==D&&"/*"!==D&&r.relativeResources.push(s)}),r}getAbsoluteUrl(e){const i=this._document.createElement("a");return i.href=e,i.href}matchScopesToEndpoint(e,i,r){const s=[];return i.forEach(u=>{const h=[],p=e.get(u);null!==p?(p.forEach(v=>{if("string"==typeof v)h.push(v);else{const w=r.toLowerCase();v.httpMethod.toLowerCase()===w&&(null===v.scopes?s.push(null):v.scopes.forEach(k=>{h.push(k)}))}}),h.length>0&&s.push(h)):s.push(null)}),s.length>0?(s.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),s[0]):null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hT),o.LFG(dh),o.LFG(_e),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),wv=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.initialize().pipe(ar(()=>this.authService.handleRedirectObservable())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-redirect"]],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),mT=(()=>{class n{static forRoot(e,i,r){return{ngModule:n,providers:[{provide:KC,useValue:e},{provide:bv,useValue:i},{provide:hT,useValue:r},dh]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pT,Cv],imports:[ci]}),n})();var tr=(()=>{return(n=tr||(tr={})).AcquireTokenByCode="acquireTokenByCode",n.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",n.AcquireTokenSilent="acquireTokenSilent",n.AcquireTokenSilentAsync="acquireTokenSilentAsync",n.AcquireTokenPopup="acquireTokenPopup",n.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",n.CryptoOptsSignJwt="cryptoOptsSignJwt",n.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",n.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",n.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",n.SsoSilent="ssoSilent",n.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",n.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",n.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",n.BrokerHandhshake="brokerHandshake",n.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",n.AcquireTokenByBroker="acquireTokenByBroker",tr;var n})(),Vc=(()=>{return(n=Vc||(Vc={}))[n.NotStarted=0]="NotStarted",n[n.InProgress=1]="InProgress",n[n.Completed=2]="Completed",Vc;var n})(),hh_missingKidError_code="missing_kid_error",hh_missingKidError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",hh_missingAlgError_code="missing_alg_error",hh_missingAlgError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.",QC=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.name="JoseHeaderError",Object.setPrototypeOf(r,t.prototype),r}return er(t,n),t.createMissingKidError=function(){return new t(hh_missingKidError_code,hh_missingKidError_desc)},t.createMissingAlgError=function(){return new t(hh_missingAlgError_code,hh_missingAlgError_desc)},t}(gt),jc=function(){function n(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}return n.getShrHeaderString=function(t){if(!t.kid)throw QC.createMissingKidError();if(!t.alg)throw QC.createMissingAlgError();var e=new n({typ:t.typ||Ui.Jwt,kid:t.kid,alg:t.alg});return JSON.stringify(e)},n}(),Ar=function(){function n(){}return n.decimalToHex=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e},n}(),JC=function(){function n(t){this.cryptoObj=t}return n.prototype.generateGuid=function(){try{var t=new Uint8Array(16);return this.cryptoObj.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,Ar.decimalToHex(t[0])+Ar.decimalToHex(t[1])+Ar.decimalToHex(t[2])+Ar.decimalToHex(t[3])+"-"+Ar.decimalToHex(t[4])+Ar.decimalToHex(t[5])+"-"+Ar.decimalToHex(t[6])+Ar.decimalToHex(t[7])+"-"+Ar.decimalToHex(t[8])+Ar.decimalToHex(t[9])+"-"+Ar.decimalToHex(t[10])+Ar.decimalToHex(t[11])+Ar.decimalToHex(t[12])+Ar.decimalToHex(t[13])+Ar.decimalToHex(t[14])+Ar.decimalToHex(t[15])}catch{for(var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="0123456789abcdef",r=0,s=ne.EMPTY_STRING,u=0;u<36;u++)"-"!==e[u]&&"4"!==e[u]&&(r=16*Math.random()|0),"x"===e[u]?s+=i[r]:"y"===e[u]?(r&=3,s+=i[r|=8]):s+=e[u];return s}},n.prototype.isGuid=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},n}(),Gc=function(){function n(){}return n.stringToUtf8Arr=function(t){for(var e,i=0,r=t.length,s=0;s<r;s++)i+=(e=t.charCodeAt(s))<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;for(var u=new Uint8Array(i),h=0,p=0;h<i;p++)(e=t.charCodeAt(p))<128?u[h++]=e:e<2048?(u[h++]=192+(e>>>6),u[h++]=128+(63&e)):e<65536?(u[h++]=224+(e>>>12),u[h++]=128+(e>>>6&63),u[h++]=128+(63&e)):e<2097152?(u[h++]=240+(e>>>18),u[h++]=128+(e>>>12&63),u[h++]=128+(e>>>6&63),u[h++]=128+(63&e)):e<67108864?(u[h++]=248+(e>>>24),u[h++]=128+(e>>>18&63),u[h++]=128+(e>>>12&63),u[h++]=128+(e>>>6&63),u[h++]=128+(63&e)):(u[h++]=252+(e>>>30),u[h++]=128+(e>>>24&63),u[h++]=128+(e>>>18&63),u[h++]=128+(e>>>12&63),u[h++]=128+(e>>>6&63),u[h++]=128+(63&e));return u},n.stringToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),i=new Uint8Array(e),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return e},n.utf8ArrToString=function(t){for(var e=ne.EMPTY_STRING,i=void 0,r=t.length,s=0;s<r;s++)i=t[s],e+=String.fromCharCode(i>251&&i<254&&s+5<r?1073741824*(i-252)+(t[++s]-128<<24)+(t[++s]-128<<18)+(t[++s]-128<<12)+(t[++s]-128<<6)+t[++s]-128:i>247&&i<252&&s+4<r?(i-248<<24)+(t[++s]-128<<18)+(t[++s]-128<<12)+(t[++s]-128<<6)+t[++s]-128:i>239&&i<248&&s+3<r?(i-240<<18)+(t[++s]-128<<12)+(t[++s]-128<<6)+t[++s]-128:i>223&&i<240&&s+2<r?(i-224<<12)+(t[++s]-128<<6)+t[++s]-128:i>191&&i<224&&s+1<r?(i-192<<6)+t[++s]-128:i);return e},n}(),XC=function(){function n(){}return n.prototype.urlEncode=function(t){return encodeURIComponent(this.encode(t).replace(/=/g,ne.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},n.prototype.urlEncodeArr=function(t){return this.base64EncArr(t).replace(/=/g,ne.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},n.prototype.encode=function(t){var e=Gc.stringToUtf8Arr(t);return this.base64EncArr(e)},n.prototype.base64EncArr=function(t){for(var e=(3-t.length%3)%3,i=ne.EMPTY_STRING,r=void 0,s=t.length,u=0,h=0;h<s;h++)u|=t[h]<<(16>>>(r=h%3)&24),(2===r||t.length-h==1)&&(i+=String.fromCharCode(this.uint6ToB64(u>>>18&63),this.uint6ToB64(u>>>12&63),this.uint6ToB64(u>>>6&63),this.uint6ToB64(63&u)),u=0);return 0===e?i:i.substring(0,i.length-e)+(1===e?"=":"==")},n.prototype.uint6ToB64=function(t){return t<26?t+65:t<52?t+71:t<62?t-4:62===t?43:63===t?47:65},n}(),ew=function(){function n(){}return n.prototype.decode=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Invalid base64 string")}var i=this.base64DecToArr(e);return Gc.utf8ArrToString(i)},n.prototype.base64DecToArr=function(t,e){for(var i=t.replace(/[^A-Za-z0-9\+\/]/g,ne.EMPTY_STRING),r=i.length,s=e?Math.ceil((3*r+1>>>2)/e)*e:3*r+1>>>2,u=new Uint8Array(s),h=void 0,p=void 0,v=0,w=0,D=0;D<r;D++)if(p=3&D,v|=this.b64ToUint6(i.charCodeAt(D))<<18-6*p,3===p||r-D==1){for(h=0;h<3&&w<s;h++,w++)u[w]=v>>>(16>>>h&24)&255;v=0}return u},n.prototype.b64ToUint6=function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},n}(),vT=function(){function n(t){this.base64Encode=new XC,this.cryptoObj=t}return n.prototype.generateCodes=function(){return Be(this,void 0,void 0,function(){var t,e;return Ne(this,function(i){switch(i.label){case 0:return t=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(t)];case 1:return e=i.sent(),[2,{verifier:t,challenge:e}]}})})},n.prototype.generateCodeVerifier=function(){try{var t=new Uint8Array(32);return this.cryptoObj.getRandomValues(t),this.base64Encode.urlEncodeArr(t)}catch(i){throw Je.createPkceNotGeneratedError(i)}},n.prototype.generateCodeChallengeFromVerifier=function(t){return Be(this,void 0,void 0,function(){var e,i;return Ne(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(t)];case 1:return e=r.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(e))];case 2:throw i=r.sent(),Je.createPkceNotGeneratedError(i);case 3:return[2]}})})},n}(),zc="SHA-256",fh=new Uint8Array([1,0,1]),Wu=function(){function n(t){if(this.logger=t,!this.hasCryptoAPI())throw Je.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:zc,modulusLength:2048,publicExponent:fh}}return n.prototype.sha256Digest=function(t){return Be(this,void 0,void 0,function(){var e;return Ne(this,function(i){return e=Gc.stringToUtf8Arr(t),[2,this.hasIECrypto()?this.getMSCryptoDigest(zc,e):this.getSubtleCryptoDigest(zc,e)]})})},n.prototype.getRandomValues=function(t){var e=window.msCrypto||window.crypto;if(!e.getRandomValues)throw Je.createCryptoNotAvailableError("getRandomValues does not exist.");e.getRandomValues(t)},n.prototype.generateKeyPair=function(t,e){return Be(this,void 0,void 0,function(){return Ne(this,function(i){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(t,e):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,t,e)]})})},n.prototype.exportJwk=function(t){return Be(this,void 0,void 0,function(){return Ne(this,function(e){return[2,this.hasIECrypto()?this.msCryptoExportJwk(t):window.crypto.subtle.exportKey(zd,t)]})})},n.prototype.importJwk=function(t,e,i){return Be(this,void 0,void 0,function(){var r,s;return Ne(this,function(u){return r=n.getJwkString(t),s=Gc.stringToArrayBuffer(r),[2,this.hasIECrypto()?this.msCryptoImportKey(s,e,i):window.crypto.subtle.importKey(zd,t,this._keygenAlgorithmOptions,e,i)]})})},n.prototype.sign=function(t,e){return Be(this,void 0,void 0,function(){return Ne(this,function(i){return[2,this.hasIECrypto()?this.msCryptoSign(t,e):window.crypto.subtle.sign(this._keygenAlgorithmOptions,t,e)]})})},n.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},n.prototype.hasIECrypto=function(){return"msCrypto"in window},n.prototype.hasBrowserCrypto=function(){return"crypto"in window},n.prototype.getSubtleCryptoDigest=function(t,e){return Be(this,void 0,void 0,function(){return Ne(this,function(i){return[2,window.crypto.subtle.digest(t,e)]})})},n.prototype.getMSCryptoDigest=function(t,e){return Be(this,void 0,void 0,function(){return Ne(this,function(i){return[2,new Promise(function(r,s){var u=window.msCrypto.subtle.digest(t,e.buffer);u.addEventListener("complete",function(h){r(h.target.result)}),u.addEventListener("error",function(h){s(h)})})]})})},n.prototype.msCryptoGenerateKey=function(t,e){return Be(this,void 0,void 0,function(){var i=this;return Ne(this,function(r){return[2,new Promise(function(s,u){var h=window.msCrypto.subtle.generateKey(i._keygenAlgorithmOptions,t,e);h.addEventListener("complete",function(p){s(p.target.result)}),h.addEventListener("error",function(p){u(p)})})]})})},n.prototype.msCryptoExportJwk=function(t){return Be(this,void 0,void 0,function(){return Ne(this,function(e){return[2,new Promise(function(i,r){var s=window.msCrypto.subtle.exportKey(zd,t);s.addEventListener("complete",function(u){var p=Gc.utf8ArrToString(new Uint8Array(u.target.result)).replace(/\r/g,ne.EMPTY_STRING).replace(/\n/g,ne.EMPTY_STRING).replace(/\t/g,ne.EMPTY_STRING).split(" ").join(ne.EMPTY_STRING).replace("\0",ne.EMPTY_STRING);try{i(JSON.parse(p))}catch(v){r(v)}}),s.addEventListener("error",function(u){r(u)})})]})})},n.prototype.msCryptoImportKey=function(t,e,i){return Be(this,void 0,void 0,function(){var r=this;return Ne(this,function(s){return[2,new Promise(function(u,h){var p=window.msCrypto.subtle.importKey(zd,t,r._keygenAlgorithmOptions,e,i);p.addEventListener("complete",function(v){u(v.target.result)}),p.addEventListener("error",function(v){h(v)})})]})})},n.prototype.msCryptoSign=function(t,e){return Be(this,void 0,void 0,function(){var i=this;return Ne(this,function(r){return[2,new Promise(function(s,u){var h=window.msCrypto.subtle.sign(i._keygenAlgorithmOptions,t,e);h.addEventListener("complete",function(p){s(p.target.result)}),h.addEventListener("error",function(p){u(p)})})]})})},n.getJwkString=function(t){return JSON.stringify(t,Object.keys(t).sort())},n}(),ap=function(){function n(){this.dbName=Pu,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return n.prototype.open=function(){return Be(this,void 0,void 0,function(){var t=this;return Ne(this,function(e){return[2,new Promise(function(i,r){var s=window.indexedDB.open(t.dbName,t.version);s.addEventListener("upgradeneeded",function(u){u.target.result.createObjectStore(t.tableName)}),s.addEventListener("success",function(u){t.db=u.target.result,t.dbOpen=!0,i()}),s.addEventListener("error",function(){return r(Je.createDatabaseUnavailableError())})})]})})},n.prototype.closeConnection=function(){var t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)},n.prototype.validateDbIsOpen=function(){return Be(this,void 0,void 0,function(){return Ne(this,function(t){switch(t.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,t.sent()];case 2:return[2]}})})},n.prototype.getItem=function(t){return Be(this,void 0,void 0,function(){var e=this;return Ne(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(r,s){if(!e.db)return s(Je.createDatabaseNotOpenError());var p=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).get(t);p.addEventListener("success",function(v){var w=v;e.closeConnection(),r(w.target.result)}),p.addEventListener("error",function(v){e.closeConnection(),s(v)})})]}})})},n.prototype.setItem=function(t,e){return Be(this,void 0,void 0,function(){var i=this;return Ne(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(s,u){if(!i.db)return u(Je.createDatabaseNotOpenError());var v=i.db.transaction([i.tableName],"readwrite").objectStore(i.tableName).put(e,t);v.addEventListener("success",function(){i.closeConnection(),s()}),v.addEventListener("error",function(w){i.closeConnection(),u(w)})})]}})})},n.prototype.removeItem=function(t){return Be(this,void 0,void 0,function(){var e=this;return Ne(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(r,s){if(!e.db)return s(Je.createDatabaseNotOpenError());var p=e.db.transaction([e.tableName],"readwrite").objectStore(e.tableName).delete(t);p.addEventListener("success",function(){e.closeConnection(),r()}),p.addEventListener("error",function(v){e.closeConnection(),s(v)})})]}})})},n.prototype.getKeys=function(){return Be(this,void 0,void 0,function(){var t=this;return Ne(this,function(e){switch(e.label){case 0:return[4,this.validateDbIsOpen()];case 1:return e.sent(),[2,new Promise(function(i,r){if(!t.db)return r(Je.createDatabaseNotOpenError());var h=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).getAllKeys();h.addEventListener("success",function(p){var v=p;t.closeConnection(),i(v.target.result)}),h.addEventListener("error",function(p){t.closeConnection(),r(p)})})]}})})},n.prototype.containsKey=function(t){return Be(this,void 0,void 0,function(){var e=this;return Ne(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(r,s){if(!e.db)return s(Je.createDatabaseNotOpenError());var p=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).count(t);p.addEventListener("success",function(v){var w=v;e.closeConnection(),r(1===w.target.result)}),p.addEventListener("error",function(v){e.closeConnection(),s(v)})})]}})})},n.prototype.deleteDatabase=function(){return Be(this,void 0,void 0,function(){return Ne(this,function(i){switch(i.label){case 0:return this.db&&this.dbOpen&&this.closeConnection(),[4,window.indexedDB.databases()];case 1:return i.sent().find(function(r){return r.name===Pu})?[2,new Promise(function(r,s){var u=window.indexedDB.deleteDatabase(Pu);u.addEventListener("success",function(){return r(!0)}),u.addEventListener("error",function(){return s(!1)})})]:[2,!0]}})})},n}(),Sv=function(){function n(){this.cache=new Map}return n.prototype.getItem=function(t){return this.cache.get(t)||null},n.prototype.setItem=function(t,e){this.cache.set(t,e)},n.prototype.removeItem=function(t){this.cache.delete(t)},n.prototype.getKeys=function(){var t=[];return this.cache.forEach(function(e,i){t.push(i)}),t},n.prototype.containsKey=function(t){return this.cache.has(t)},n.prototype.clear=function(){this.cache.clear()},n}(),Dv=function(){function n(t,e){this.inMemoryCache=new Sv,this.indexedDBCache=new ap,this.logger=t,this.storeName=e}return n.prototype.handleDatabaseAccessError=function(t){if(!(t instanceof Je&&t.errorCode===Fe_databaseUnavailable_code))throw t;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},n.prototype.getItem=function(t){return Be(this,void 0,void 0,function(){var e,i;return Ne(this,function(r){switch(r.label){case 0:if(e=this.inMemoryCache.getItem(t))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(t)];case 2:return[2,r.sent()];case 3:return i=r.sent(),this.handleDatabaseAccessError(i),[3,4];case 4:return[2,e]}})})},n.prototype.setItem=function(t,e){return Be(this,void 0,void 0,function(){var i;return Ne(this,function(r){switch(r.label){case 0:this.inMemoryCache.setItem(t,e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(t,e)];case 2:return r.sent(),[3,4];case 3:return i=r.sent(),this.handleDatabaseAccessError(i),[3,4];case 4:return[2]}})})},n.prototype.removeItem=function(t){return Be(this,void 0,void 0,function(){var e;return Ne(this,function(i){switch(i.label){case 0:this.inMemoryCache.removeItem(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(t)];case 2:return i.sent(),[3,4];case 3:return e=i.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}})})},n.prototype.getKeys=function(){return Be(this,void 0,void 0,function(){var t,e;return Ne(this,function(i){switch(i.label){case 0:if(0!==(t=this.inMemoryCache.getKeys()).length)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,i.sent()];case 3:return e=i.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2,t]}})})},n.prototype.containsKey=function(t){return Be(this,void 0,void 0,function(){var e,i;return Ne(this,function(r){switch(r.label){case 0:if(e=this.inMemoryCache.containsKey(t))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(t)];case 2:return[2,r.sent()];case 3:return i=r.sent(),this.handleDatabaseAccessError(i),[3,4];case 4:return[2,e]}})})},n.prototype.clear=function(){return Be(this,void 0,void 0,function(){var t,e;return Ne(this,function(i){switch(i.label){case 0:this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted"),this.logger.verbose("Deleting persistent keystore "+this.storeName),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.deleteDatabase()];case 2:return(t=i.sent())&&this.logger.verbose("Persistent keystore "+this.storeName+" deleted"),[2,t];case 3:return e=i.sent(),this.handleDatabaseAccessError(e),[2,!1];case 4:return[2]}})})},n}(),ph=(()=>{return(n=ph||(ph={})).asymmetricKeys="asymmetricKeys",n.symmetricKeys="symmetricKeys",ph;var n})(),Tv=function(){function n(t,e){this.logger=t,this.browserCrypto=new Wu(this.logger),this.b64Encode=new XC,this.b64Decode=new ew,this.guidGenerator=new JC(this.browserCrypto),this.pkceGenerator=new vT(this.browserCrypto),this.cache={asymmetricKeys:new Dv(this.logger,ph.asymmetricKeys),symmetricKeys:new Dv(this.logger,ph.symmetricKeys)},this.performanceClient=e}return n.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},n.prototype.base64Encode=function(t){return this.b64Encode.encode(t)},n.prototype.base64Decode=function(t){return this.b64Decode.decode(t)},n.prototype.generatePkceCodes=function(){return Be(this,void 0,void 0,function(){return Ne(this,function(t){return[2,this.pkceGenerator.generateCodes()]})})},n.prototype.getPublicKeyThumbprint=function(t){var e;return Be(this,void 0,void 0,function(){var i,r,s,h,p,v,w;return Ne(this,function(D){switch(D.label){case 0:return i=null===(e=this.performanceClient)||void 0===e?void 0:e.startMeasurement(tr.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(n.EXTRACTABLE,n.POP_KEY_USAGES)];case 1:return r=D.sent(),[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return s=D.sent(),h=Wu.getJwkString({e:s.e,kty:s.kty,n:s.n}),[4,this.hashString(h)];case 3:return p=D.sent(),[4,this.browserCrypto.exportJwk(r.privateKey)];case 4:return v=D.sent(),[4,this.browserCrypto.importJwk(v,!1,["sign"])];case 5:return w=D.sent(),[4,this.cache.asymmetricKeys.setItem(p,{privateKey:w,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return D.sent(),i&&i.endMeasurement({success:!0}),[2,p]}})})},n.prototype.removeTokenBindingKey=function(t){return Be(this,void 0,void 0,function(){return Ne(this,function(i){switch(i.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(t)];case 1:return i.sent(),[4,this.cache.asymmetricKeys.containsKey(t)];case 2:return[2,!i.sent()]}})})},n.prototype.clearKeystore=function(){return Be(this,void 0,void 0,function(){var t;return Ne(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.logger.verbose("Deleting in-memory and persistent asymmetric key stores"),[4,this.cache.asymmetricKeys.clear()];case 1:return e.sent(),this.logger.verbose("Successfully deleted asymmetric key stores"),this.logger.verbose("Deleting in-memory and persistent symmetric key stores"),[4,this.cache.symmetricKeys.clear()];case 2:return e.sent(),this.logger.verbose("Successfully deleted symmetric key stores"),[2,!0];case 3:return(t=e.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+t.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},n.prototype.signJwt=function(t,e,i){var r;return Be(this,void 0,void 0,function(){var s,u,h,p,v,w,D,k,P,U,j,ae,Ee;return Ne(this,function(Ve){switch(Ve.label){case 0:return s=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(tr.CryptoOptsSignJwt,i),[4,this.cache.asymmetricKeys.getItem(e)];case 1:if(!(u=Ve.sent()))throw Je.createSigningKeyNotFoundInStorageError(e);return[4,this.browserCrypto.exportJwk(u.publicKey)];case 2:return h=Ve.sent(),p=Wu.getJwkString(h),v=this.b64Encode.urlEncode(JSON.stringify({kid:e})),w=jc.getShrHeaderString({kid:v,alg:h.alg}),D=this.b64Encode.urlEncode(w),t.cnf={jwk:JSON.parse(p)},k=this.b64Encode.urlEncode(JSON.stringify(t)),U=Gc.stringToArrayBuffer(P=D+"."+k),[4,this.browserCrypto.sign(u.privateKey,U)];case 3:return j=Ve.sent(),ae=this.b64Encode.urlEncodeArr(new Uint8Array(j)),Ee=P+"."+ae,s&&s.endMeasurement({success:!0}),[2,Ee]}})})},n.prototype.hashString=function(t){return Be(this,void 0,void 0,function(){var e,i;return Ne(this,function(r){switch(r.label){case 0:return[4,this.browserCrypto.sha256Digest(t)];case 1:return e=r.sent(),i=new Uint8Array(e),[2,this.b64Encode.urlEncodeArr(i)]}})})},n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n}(),Qi=(()=>{return(n=Qi||(Qi={}))[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",Qi;var n})(),Iv=function(){function n(t,e,i){this.level=Qi.Info,this.localCallback=t.loggerCallback||function(){},this.piiLoggingEnabled=t.piiLoggingEnabled||!1,this.level="number"==typeof t.logLevel?t.logLevel:Qi.Info,this.correlationId=t.correlationId||ne.EMPTY_STRING,this.packageName=e||ne.EMPTY_STRING,this.packageVersion=i||ne.EMPTY_STRING}return n.prototype.clone=function(t,e,i){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:i||this.correlationId},t,e)},n.prototype.logMessage=function(t,e){if(!(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)){var r,i=(new Date).toUTCString();r=ze.isEmpty(e.correlationId)?ze.isEmpty(this.correlationId)?"["+i+"]":"["+i+"] : ["+this.correlationId+"]":"["+i+"] : ["+e.correlationId+"]",this.executeCallback(e.logLevel,r+" : "+this.packageName+"@"+this.packageVersion+" : "+Qi[e.logLevel]+" - "+t,e.containsPii||!1)}},n.prototype.executeCallback=function(t,e,i){this.localCallback&&this.localCallback(t,e,i)},n.prototype.error=function(t,e){this.logMessage(t,{logLevel:Qi.Error,containsPii:!1,correlationId:e||ne.EMPTY_STRING})},n.prototype.errorPii=function(t,e){this.logMessage(t,{logLevel:Qi.Error,containsPii:!0,correlationId:e||ne.EMPTY_STRING})},n.prototype.warning=function(t,e){this.logMessage(t,{logLevel:Qi.Warning,containsPii:!1,correlationId:e||ne.EMPTY_STRING})},n.prototype.warningPii=function(t,e){this.logMessage(t,{logLevel:Qi.Warning,containsPii:!0,correlationId:e||ne.EMPTY_STRING})},n.prototype.info=function(t,e){this.logMessage(t,{logLevel:Qi.Info,containsPii:!1,correlationId:e||ne.EMPTY_STRING})},n.prototype.infoPii=function(t,e){this.logMessage(t,{logLevel:Qi.Info,containsPii:!0,correlationId:e||ne.EMPTY_STRING})},n.prototype.verbose=function(t,e){this.logMessage(t,{logLevel:Qi.Verbose,containsPii:!1,correlationId:e||ne.EMPTY_STRING})},n.prototype.verbosePii=function(t,e){this.logMessage(t,{logLevel:Qi.Verbose,containsPii:!0,correlationId:e||ne.EMPTY_STRING})},n.prototype.trace=function(t,e){this.logMessage(t,{logLevel:Qi.Trace,containsPii:!1,correlationId:e||ne.EMPTY_STRING})},n.prototype.tracePii=function(t,e){this.logMessage(t,{logLevel:Qi.Trace,containsPii:!0,correlationId:e||ne.EMPTY_STRING})},n.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},n}(),jm=function(){function n(t,e,i,r,s,u){this.authority=e,this.libraryName=r,this.libraryVersion=s,this.applicationTelemetry=u,this.clientId=t,this.logger=i,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.measurementsById=new Map}return n.prototype.startMeasurement=function(t,e){var r,s,i=this,u=e||this.generateId();e||this.logger.info("PerformanceClient: No correlation id provided for "+t+", generating",u),this.logger.trace("PerformanceClient: Performance measurement started for "+t,u);var h=this.startPerformanceMeasuremeant(t,u);h.startMeasurement();var p={eventId:this.generateId(),status:Vc.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,appName:null===(r=this.applicationTelemetry)||void 0===r?void 0:r.appName,appVersion:null===(s=this.applicationTelemetry)||void 0===s?void 0:s.appVersion,clientId:this.clientId,name:t,startTimeMs:Date.now(),correlationId:u};return this.cacheEventByCorrelationId(p),this.cacheMeasurement(p,h),{endMeasurement:function(v){var w=i.endMeasurement(Tn(Tn({},p),v));return w&&i.cacheEventByCorrelationId(w),w},flushMeasurement:function(){return i.flushMeasurements(p.name,p.correlationId)},discardMeasurement:function(){return i.discardMeasurements(p.correlationId)},measurement:h,event:p}},n.prototype.endMeasurement=function(t){var e=this.measurementsById.get(t.eventId);if(e){this.measurementsById.delete(t.eventId),e.endMeasurement();var i=e.flushMeasurement();if(null!==i)return this.logger.trace("PerformanceClient: Performance measurement ended for "+t.name+": "+i+" ms",t.correlationId),Tn(Tn({durationMs:Math.round(i)},t),{status:Vc.Completed});this.logger.trace("PerformanceClient: Performance measurement not taken",t.correlationId)}else this.logger.trace("PerformanceClient: Measurement not found for "+t.eventId,t.correlationId);return null},n.prototype.cacheEventByCorrelationId=function(t){var e=this.eventsByCorrelationId.get(t.correlationId);e?(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" added/updated",t.correlationId),e.set(t.eventId,t)):(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" started",t.correlationId),this.eventsByCorrelationId.set(t.correlationId,(new Map).set(t.eventId,t)))},n.prototype.cacheMeasurement=function(t,e){this.measurementsById.set(t.eventId,e)},n.prototype.flushMeasurements=function(t,e){var i=this;this.logger.trace("PerformanceClient: Performance measurements flushed for "+t,e);var r=this.eventsByCorrelationId.get(e);if(r){this.discardMeasurements(e);var s=[];r.forEach(function(w){if(w.name!==t&&w.status!==Vc.Completed){i.logger.trace("PerformanceClient: Incomplete submeasurement "+w.name+" found for "+t,e);var D=i.endMeasurement(w);D&&s.push(D)}s.push(w)});var u=s.sort(function(w,D){return w.startTimeMs-D.startTimeMs}),h=u.filter(function(w){return w.name===t&&w.status===Vc.Completed});if(h.length>0){h.length>1&&this.logger.verbose("PerformanceClient: Multiple distinct top-level performance events found, using the first",e);var p=h[0];this.logger.verbose("PerformanceClient: Measurement found for "+t,e);var v=u.reduce(function(w,D){if(D.name!==t){i.logger.trace("PerformanceClient: Complete submeasurement found for "+D.name,e);var k=D.name+"DurationMs";w[k]?i.logger.verbose("PerformanceClient: Submeasurement for "+t+" already exists for "+D.name+", ignoring",e):w[k]=D.durationMs,D.accessTokenSize&&(w.accessTokenSize=D.accessTokenSize),D.idTokenSize&&(w.idTokenSize=D.idTokenSize)}return w},p);this.emitEvents([v],v.correlationId)}else this.logger.verbose("PerformanceClient: No completed top-level measurements found for "+t,e)}else this.logger.verbose("PerformanceClient: No measurements found",e)},n.prototype.discardMeasurements=function(t){this.logger.trace("PerformanceClient: Performance measurements discarded",t),this.eventsByCorrelationId.delete(t)},n.prototype.addPerformanceCallback=function(t){var e=this.generateId();return this.callbacks.set(e,t),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+e),e},n.prototype.removePerformanceCallback=function(t){var e=this.callbacks.delete(t);return this.logger.verbose(e?"PerformanceClient: Performance callback "+t+" removed.":"PerformanceClient: Performance callback "+t+" not removed."),e},n.prototype.emitEvents=function(t,e){var i=this;this.logger.verbose("PerformanceClient: Emitting performance events",e),this.callbacks.forEach(function(r,s){i.logger.trace("PerformanceClient: Emitting event to callback "+s,e),r.apply(null,[t])})},n}(),yT=function(){function n(){}return n.prototype.startMeasurement=function(){},n.prototype.endMeasurement=function(){},n.prototype.flushMeasurement=function(){return null},n}(),ux=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return er(t,n),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new yT},t}(jm),Gm={createNewGuid:function(){throw gt.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw gt.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw gt.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}},Av=["interaction_required","consent_required","login_required"],bT=["message_only","additional_action","basic_action","user_password_expired","consent_required"],mh_noTokensFoundError_code="no_tokens_found",mh_noTokensFoundError_desc="No refresh token found in the cache. Please sign-in.",mh_native_account_unavailable_code="native_account_unavailable",mh_native_account_unavailable_desc="The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",vs=function(n){function t(e,i,r){var s=n.call(this,e,i,r)||this;return s.name="InteractionRequiredAuthError",Object.setPrototypeOf(s,t.prototype),s}return er(t,n),t.isInteractionRequiredError=function(e,i,r){var s=!!e&&Av.indexOf(e)>-1,u=!!r&&bT.indexOf(r)>-1,h=!!i&&Av.some(function(p){return i.indexOf(p)>-1});return s||h||u},t.createNoTokensFoundError=function(){return new t(mh_noTokensFoundError_code,mh_noTokensFoundError_desc)},t.createNativeAccountUnavailableError=function(){return new t(mh_native_account_unavailable_code,mh_native_account_unavailable_desc)},t}(gt),Ku=function(n){function t(e,i,r){var s=n.call(this,e,i,r)||this;return s.name="ServerError",Object.setPrototypeOf(s,t.prototype),s}return er(t,n),t}(gt);function Hr(n,t){if(ze.isEmpty(n))throw ct.createClientInfoEmptyError();try{var e=t.base64Decode(n);return JSON.parse(e)}catch(i){throw ct.createClientInfoDecodingError(i)}}function gh(n){if(ze.isEmpty(n))throw ct.createClientInfoDecodingError("Home account ID was empty.");var t=n.split(di.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?ne.EMPTY_STRING:t[1]}}var Ya=(()=>{return(n=Ya||(Ya={}))[n.Default=0]="Default",n[n.Adfs=1]="Adfs",Ya;var n})(),lo=function(){function n(){}return n.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(di.CACHE_KEY_SEPARATOR).toLowerCase()},n.prototype.generateAccountKey=function(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},n.prototype.generateType=function(){switch(this.authorityType){case hr.ADFS_ACCOUNT_TYPE:return oo.ADFS;case hr.MSAV1_ACCOUNT_TYPE:return oo.MSA;case hr.MSSTS_ACCOUNT_TYPE:return oo.MSSTS;case hr.GENERIC_ACCOUNT_TYPE:return oo.GENERIC;default:throw ct.createUnexpectedAccountTypeError()}},n.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},n.generateAccountCacheKey=function(t){return[t.homeAccountId,t.environment||ne.EMPTY_STRING,t.tenantId||ne.EMPTY_STRING].join(di.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAccount=function(t,e,i,r,s,u,h,p){var v,w,D,k,P,U,j=new n;j.authorityType=hr.MSSTS_ACCOUNT_TYPE,j.clientInfo=t,j.homeAccountId=e,j.nativeAccountId=p;var ae=h||r&&r.getPreferredCache();if(!ae)throw ct.createInvalidCacheEnvironmentError();return j.environment=ae,j.realm=(null===(v=i?.claims)||void 0===v?void 0:v.tid)||ne.EMPTY_STRING,i&&(j.idTokenClaims=i.claims,j.localAccountId=(null===(w=i?.claims)||void 0===w?void 0:w.oid)||(null===(D=i?.claims)||void 0===D?void 0:D.sub)||ne.EMPTY_STRING,j.username=(null===(k=i?.claims)||void 0===k?void 0:k.preferred_username)||(null!==(P=i?.claims)&&void 0!==P&&P.emails?i.claims.emails[0]:ne.EMPTY_STRING),j.name=null===(U=i?.claims)||void 0===U?void 0:U.name),j.cloudGraphHostName=s,j.msGraphHost=u,j},n.createGenericAccount=function(t,e,i,r,s,u){var h,p,v,w,D=new n;D.authorityType=i&&i.authorityType===Ya.Adfs?hr.ADFS_ACCOUNT_TYPE:hr.GENERIC_ACCOUNT_TYPE,D.homeAccountId=t,D.realm=ne.EMPTY_STRING;var k=u||i&&i.getPreferredCache();if(!k)throw ct.createInvalidCacheEnvironmentError();return e&&(D.localAccountId=(null===(h=e?.claims)||void 0===h?void 0:h.oid)||(null===(p=e?.claims)||void 0===p?void 0:p.sub)||ne.EMPTY_STRING,D.username=(null===(v=e?.claims)||void 0===v?void 0:v.upn)||ne.EMPTY_STRING,D.name=(null===(w=e?.claims)||void 0===w?void 0:w.name)||ne.EMPTY_STRING,D.idTokenClaims=e?.claims),D.environment=k,D.cloudGraphHostName=r,D.msGraphHost=s,D},n.generateHomeAccountId=function(t,e,i,r,s){var u,h=null!==(u=s?.claims)&&void 0!==u&&u.sub?s.claims.sub:ne.EMPTY_STRING;if(e===Ya.Adfs)return h;if(t)try{var p=Hr(t,r);if(!ze.isEmpty(p.uid)&&!ze.isEmpty(p.utid))return""+p.uid+di.CLIENT_INFO_SEPARATOR+p.utid}catch{}return i.verbose("No client info in response"),h},n.isAccountEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType")},n.accountInfoIsEqual=function(t,e,i){if(!t||!e)return!1;var r=!0;if(i){var s=t.idTokenClaims||{},u=e.idTokenClaims||{};r=s.iat===u.iat&&s.nonce===u.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&r},n}(),lp=function(){function n(){}return n.prototype.generateAccountId=function(){return n.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},n.prototype.generateCredentialId=function(){return n.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},n.prototype.generateTarget=function(){return n.generateTargetForCacheKey(this.target)},n.prototype.generateCredentialKey=function(){return n.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},n.prototype.generateType=function(){switch(this.credentialType){case Bt.ID_TOKEN:return oo.ID_TOKEN;case Bt.ACCESS_TOKEN:case Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME:return oo.ACCESS_TOKEN;case Bt.REFRESH_TOKEN:return oo.REFRESH_TOKEN;default:throw ct.createUnexpectedCredentialTypeError()}},n.getCredentialType=function(t){return-1!==t.indexOf(Bt.ACCESS_TOKEN.toLowerCase())?-1!==t.indexOf(Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Bt.ACCESS_TOKEN:-1!==t.indexOf(Bt.ID_TOKEN.toLowerCase())?Bt.ID_TOKEN:-1!==t.indexOf(Bt.REFRESH_TOKEN.toLowerCase())?Bt.REFRESH_TOKEN:ne.NOT_DEFINED},n.generateCredentialCacheKey=function(t,e,i,r,s,u,h,p,v){return[this.generateAccountIdForCacheKey(t,e),this.generateCredentialIdForCacheKey(i,r,s,h),this.generateTargetForCacheKey(u),this.generateClaimsHashForCacheKey(v),this.generateSchemeForCacheKey(p)].join(di.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateAccountIdForCacheKey=function(t,e){return[t,e].join(di.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateCredentialIdForCacheKey=function(t,e,i,r){return[t,t===Bt.REFRESH_TOKEN&&r||e,i||ne.EMPTY_STRING].join(di.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateTargetForCacheKey=function(t){return(t||ne.EMPTY_STRING).toLowerCase()},n.generateClaimsHashForCacheKey=function(t){return(t||ne.EMPTY_STRING).toLowerCase()},n.generateSchemeForCacheKey=function(t){return t&&t.toLowerCase()!==te.BEARER.toLowerCase()?t.toLowerCase():ne.EMPTY_STRING},n}(),Vr=function(){function n(t){var e=this,i=t?ze.trimArrayEntries(Na(t)):[],r=i?ze.removeEmptyStringsFromArray(i):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(function(s){return e.scopes.add(s)})}return n.fromString=function(t){return new n((t||ne.EMPTY_STRING).split(" "))},n.prototype.validateInputScopes=function(t){if(!t||t.length<1)throw Nn.createEmptyScopesArrayError()},n.prototype.containsScope=function(t){var i=new n(this.printScopesLowerCase().split(" "));return!ze.isEmpty(t)&&i.scopes.has(t.toLowerCase())},n.prototype.containsScopeSet=function(t){var e=this;return!(!t||t.scopes.size<=0)&&this.scopes.size>=t.scopes.size&&t.asArray().every(function(i){return e.containsScope(i)})},n.prototype.containsOnlyOIDCScopes=function(){var t=this,e=0;return xu.forEach(function(i){t.containsScope(i)&&(e+=1)}),this.scopes.size===e},n.prototype.appendScope=function(t){ze.isEmpty(t)||this.scopes.add(t.trim())},n.prototype.appendScopes=function(t){var e=this;try{t.forEach(function(i){return e.appendScope(i)})}catch(i){throw ct.createAppendScopeSetError(i)}},n.prototype.removeScope=function(t){if(ze.isEmpty(t))throw ct.createRemoveEmptyScopeFromSetError(t);this.scopes.delete(t.trim())},n.prototype.removeOIDCScopes=function(){var t=this;xu.forEach(function(e){t.scopes.delete(e)})},n.prototype.unionScopeSets=function(t){if(!t)throw ct.createEmptyInputScopeSetError();var e=new Set;return t.scopes.forEach(function(i){return e.add(i.toLowerCase())}),this.scopes.forEach(function(i){return e.add(i.toLowerCase())}),e},n.prototype.intersectingScopeSets=function(t){if(!t)throw ct.createEmptyInputScopeSetError();t.containsOnlyOIDCScopes()||t.removeOIDCScopes();var e=this.unionScopeSets(t),i=t.getScopeCount(),r=this.getScopeCount();return e.size<r+i},n.prototype.getScopeCount=function(){return this.scopes.size},n.prototype.asArray=function(){var t=[];return this.scopes.forEach(function(e){return t.push(e)}),t},n.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):ne.EMPTY_STRING},n.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},n}(),Ul=function(){function n(t,e){if(ze.isEmpty(t))throw ct.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=n.extractTokenClaims(t,e)}return n.extractTokenClaims=function(t,e){var i=ze.decodeAuthToken(t);try{var s=e.base64Decode(i.JWSPayload);return JSON.parse(s)}catch(u){throw ct.createTokenParsingError(u)}},n}(),ea=function(){function n(t,e){this.clientId=t,this.cryptoImpl=e}return n.prototype.getAllAccounts=function(){var t=this,e=this.getAccountsFilteredBy(),i=Object.keys(e).map(function(u){return e[u]});return i.length<1?[]:i.map(function(u){var p=n.toObject(new lo,u).getAccountInfo(),v=t.readIdTokenFromCache(t.clientId,p);return v&&!p.idTokenClaims&&(p.idTokenClaims=new Ul(v.secret,t.cryptoImpl).claims),p})},n.prototype.saveCacheRecord=function(t){return Tt(this,void 0,void 0,function(){return It(this,function(e){switch(e.label){case 0:if(!t)throw ct.createNullOrUndefinedCacheRecord();return t.account&&this.setAccount(t.account),t.idToken&&this.setIdTokenCredential(t.idToken),t.accessToken?[4,this.saveAccessToken(t.accessToken)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.refreshToken&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),[2]}})})},n.prototype.saveAccessToken=function(t){return Tt(this,void 0,void 0,function(){var e,i,r,s,u=this;return It(this,function(h){switch(h.label){case 0:return e=this.getCredentialsFilteredBy({clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash}),i=Vr.fromString(t.target),(r=Object.keys(e.accessTokens).map(function(p){return e.accessTokens[p]}))?(s=[],r.forEach(function(p){Vr.fromString(p.target).intersectingScopeSets(i)&&s.push(u.removeCredential(p))}),[4,Promise.all(s)]):[3,2];case 1:h.sent(),h.label=2;case 2:return this.setAccessTokenCredential(t),[2]}})})},n.prototype.getAccountsFilteredBy=function(t){return this.getAccountsFilteredByInternal(t?t.homeAccountId:ne.EMPTY_STRING,t?t.environment:ne.EMPTY_STRING,t?t.realm:ne.EMPTY_STRING,t?t.nativeAccountId:ne.EMPTY_STRING)},n.prototype.getAccountsFilteredByInternal=function(t,e,i,r){var s=this,u=this.getKeys(),h={};return u.forEach(function(p){var v=s.getAccount(p);!v||t&&!s.matchHomeAccountId(v,t)||e&&!s.matchEnvironment(v,e)||i&&!s.matchRealm(v,i)||r&&!s.matchNativeAccountId(v,r)||(h[p]=v)}),h},n.prototype.getCredentialsFilteredBy=function(t){return this.getCredentialsFilteredByInternal(t.homeAccountId,t.environment,t.credentialType,t.clientId,t.familyId,t.realm,t.target,t.userAssertionHash,t.tokenType,t.keyId,t.requestedClaimsHash)},n.prototype.getCredentialsFilteredByInternal=function(t,e,i,r,s,u,h,p,v,w,D){var k=this,P=this.getKeys(),U={idTokens:{},accessTokens:{},refreshTokens:{}};return P.forEach(function(j){var ae=lp.getCredentialType(j);if(ae!==ne.NOT_DEFINED){var Ee=k.getSpecificCredential(j,ae);if(Ee&&(!p||k.matchUserAssertionHash(Ee,p))&&(!t||k.matchHomeAccountId(Ee,t))&&(!e||k.matchEnvironment(Ee,e))&&(!u||k.matchRealm(Ee,u))&&(!i||k.matchCredentialType(Ee,i))&&(!r||k.matchClientId(Ee,r))&&(!s||k.matchFamilyId(Ee,s))&&(!h||k.matchTarget(Ee,h))&&(!D&&!Ee.requestedClaimsHash||Ee.requestedClaimsHash===D)&&(i!==Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!(v&&!k.matchTokenType(Ee,v)||v===te.SSH&&w&&!k.matchKeyId(Ee,w)))){var Ve=k.updateCredentialCacheKey(j,Ee);switch(ae){case Bt.ID_TOKEN:U.idTokens[Ve]=Ee;break;case Bt.ACCESS_TOKEN:case Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME:U.accessTokens[Ve]=Ee;break;case Bt.REFRESH_TOKEN:U.refreshTokens[Ve]=Ee}}}}),U},n.prototype.getAppMetadataFilteredBy=function(t){return this.getAppMetadataFilteredByInternal(t.environment,t.clientId)},n.prototype.getAppMetadataFilteredByInternal=function(t,e){var i=this,r=this.getKeys(),s={};return r.forEach(function(u){if(i.isAppMetadata(u)){var h=i.getAppMetadata(u);!h||t&&!i.matchEnvironment(h,t)||e&&!i.matchClientId(h,e)||(s[u]=h)}}),s},n.prototype.getAuthorityMetadataByAlias=function(t){var e=this,i=this.getAuthorityMetadataKeys(),r=null;return i.forEach(function(s){if(e.isAuthorityMetadata(s)&&-1!==s.indexOf(e.clientId)){var u=e.getAuthorityMetadata(s);!u||-1!==u.aliases.indexOf(t)&&(r=u)}}),r},n.prototype.removeAllAccounts=function(){return Tt(this,void 0,void 0,function(){var t,e,i=this;return It(this,function(r){switch(r.label){case 0:return t=this.getKeys(),e=[],t.forEach(function(s){!i.getAccount(s)||e.push(i.removeAccount(s))}),[4,Promise.all(e)];case 1:return r.sent(),[2,!0]}})})},n.prototype.removeAccount=function(t){return Tt(this,void 0,void 0,function(){var e;return It(this,function(i){switch(i.label){case 0:if(!(e=this.getAccount(t)))throw ct.createNoAccountFoundError();return[4,this.removeAccountContext(e)];case 1:return[2,i.sent()&&this.removeItem(t,Cn.ACCOUNT)]}})})},n.prototype.removeAccountContext=function(t){return Tt(this,void 0,void 0,function(){var e,i,r,s=this;return It(this,function(u){switch(u.label){case 0:return e=this.getKeys(),i=t.generateAccountId(),r=[],e.forEach(function(h){var p=lp.getCredentialType(h);if(p!==ne.NOT_DEFINED){var v=s.getSpecificCredential(h,p);v&&i===v.generateAccountId()&&r.push(s.removeCredential(v))}}),[4,Promise.all(r)];case 1:return u.sent(),[2,!0]}})})},n.prototype.removeCredential=function(t){return Tt(this,void 0,void 0,function(){var e,r;return It(this,function(s){switch(s.label){case 0:if(e=t.generateCredentialKey(),t.credentialType.toLowerCase()!==Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==te.POP)return[3,4];if(!(r=t.keyId))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(r)];case 2:return s.sent(),[3,4];case 3:throw s.sent(),ct.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e,Cn.CREDENTIAL)]}})})},n.prototype.removeAppMetadata=function(){var t=this;return this.getKeys().forEach(function(i){t.isAppMetadata(i)&&t.removeItem(i,Cn.APP_METADATA)}),!0},n.prototype.readCacheRecord=function(t,e,i,r){var s=this.readAccountFromCache(t),u=this.readIdTokenFromCache(e,t),h=this.readAccessTokenFromCache(e,t,i),p=this.readRefreshTokenFromCache(e,t,!1),v=this.readAppMetadataFromCache(r,e);return s&&u&&(s.idTokenClaims=new Ul(u.secret,this.cryptoImpl).claims),{account:s,idToken:u,accessToken:h,refreshToken:p,appMetadata:v}},n.prototype.readAccountFromCache=function(t){var e=lo.generateAccountCacheKey(t);return this.getAccount(e)},n.prototype.readAccountFromCacheWithNativeAccountId=function(t){var i=this.getAccountsFilteredBy({nativeAccountId:t}),r=Object.keys(i).map(function(s){return i[s]});if(r.length<1)return null;if(r.length>1)throw ct.createMultipleMatchingAccountsInCacheError();return i[0]},n.prototype.readIdTokenFromCache=function(t,e){var r=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Bt.ID_TOKEN,clientId:t,realm:e.tenantId}),s=Object.keys(r.idTokens).map(function(h){return r.idTokens[h]}),u=s.length;if(u<1)return null;if(u>1)throw ct.createMultipleMatchingTokensInCacheError();return s[0]},n.prototype.readAccessTokenFromCache=function(t,e,i){var r=new Vr(i.scopes||[]),s=i.authenticationScheme||te.BEARER,u=s&&s.toLowerCase()!==te.BEARER.toLowerCase()?Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Bt.ACCESS_TOKEN,h={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u,clientId:t,realm:e.tenantId,target:r.printScopesLowerCase(),tokenType:s,keyId:i.sshKid,requestedClaimsHash:i.requestedClaimsHash},p=this.getCredentialsFilteredBy(h),v=Object.keys(p.accessTokens).map(function(D){return p.accessTokens[D]}),w=v.length;if(w<1)return null;if(w>1)throw ct.createMultipleMatchingTokensInCacheError();return v[0]},n.prototype.readRefreshTokenFromCache=function(t,e,i){var u=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Bt.REFRESH_TOKEN,clientId:t,familyId:i?I:void 0}),h=Object.keys(u.refreshTokens).map(function(v){return u.refreshTokens[v]});return h.length<1?null:h[0]},n.prototype.readAppMetadataFromCache=function(t,e){var r=this.getAppMetadataFilteredBy({environment:t,clientId:e}),s=Object.keys(r).map(function(h){return r[h]}),u=s.length;if(u<1)return null;if(u>1)throw ct.createMultipleMatchingAppMetadataInCacheError();return s[0]},n.prototype.isAppMetadataFOCI=function(t,e){var i=this.readAppMetadataFromCache(t,e);return!(!i||i.familyId!==I)},n.prototype.matchHomeAccountId=function(t,e){return!(!t.homeAccountId||e!==t.homeAccountId)},n.prototype.matchUserAssertionHash=function(t,e){return!(!t.userAssertionHash||e!==t.userAssertionHash)},n.prototype.matchEnvironment=function(t,e){var i=this.getAuthorityMetadataByAlias(e);return!!(i&&i.aliases.indexOf(t.environment)>-1)},n.prototype.matchCredentialType=function(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()},n.prototype.matchClientId=function(t,e){return!(!t.clientId||e!==t.clientId)},n.prototype.matchFamilyId=function(t,e){return!(!t.familyId||e!==t.familyId)},n.prototype.matchRealm=function(t,e){return!(!t.realm||e!==t.realm)},n.prototype.matchNativeAccountId=function(t,e){return!(!t.nativeAccountId||e!==t.nativeAccountId)},n.prototype.matchTarget=function(t,e){if(t.credentialType!==Bt.ACCESS_TOKEN&&t.credentialType!==Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target)return!1;var r=Vr.fromString(t.target),s=Vr.fromString(e);return s.containsOnlyOIDCScopes()?s.removeScope(ne.OFFLINE_ACCESS_SCOPE):s.removeOIDCScopes(),r.containsScopeSet(s)},n.prototype.matchTokenType=function(t,e){return!(!t.tokenType||t.tokenType!==e)},n.prototype.matchKeyId=function(t,e){return!(!t.keyId||t.keyId!==e)},n.prototype.isAppMetadata=function(t){return-1!==t.indexOf(Ou)},n.prototype.isAuthorityMetadata=function(t){return-1!==t.indexOf("authority-metadata")},n.prototype.generateAuthorityMetadataCacheKey=function(t){return"authority-metadata-"+this.clientId+"-"+t},n.prototype.getSpecificCredential=function(t,e){switch(e){case Bt.ID_TOKEN:return this.getIdTokenCredential(t);case Bt.ACCESS_TOKEN:case Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(t);case Bt.REFRESH_TOKEN:return this.getRefreshTokenCredential(t);default:return null}},n.toObject=function(t,e){for(var i in e)t[i]=e[i];return t},n}(),CT=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return er(t,n),t.prototype.setAccount=function(){throw gt.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw gt.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw gt.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw gt.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw gt.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw gt.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw gt.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw gt.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw gt.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw gt.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw gt.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw gt.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw gt.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw gt.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw gt.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw gt.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw gt.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw gt.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw gt.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw gt.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return Tt(this,void 0,void 0,function(){return It(this,function(i){throw gt.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},t.prototype.updateCredentialCacheKey=function(){throw gt.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(ea),cp=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return er(t,n),t.createIdTokenEntity=function(e,i,r,s,u){var h=new t;return h.credentialType=Bt.ID_TOKEN,h.homeAccountId=e,h.environment=i,h.clientId=s,h.secret=r,h.realm=u,h},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===Bt.ID_TOKEN},t}(lp),zo=function(){function n(){}return n.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},n.isTokenExpired=function(t,e){var i=Number(t)||0;return n.nowSeconds()+e>i},n.wasClockTurnedBack=function(t){return Number(t)>n.nowSeconds()},n.delay=function(t,e){return new Promise(function(i){return setTimeout(function(){return i(e)},t)})},n}(),up=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return er(t,n),t.createAccessTokenEntity=function(e,i,r,s,u,h,p,v,w,D,k,P,U,j,ae){var Ee,Ve,Ke=new t;Ke.homeAccountId=e,Ke.credentialType=Bt.ACCESS_TOKEN,Ke.secret=r;var tt=zo.nowSeconds();if(Ke.cachedAt=tt.toString(),Ke.expiresOn=p.toString(),Ke.extendedExpiresOn=v.toString(),D&&(Ke.refreshOn=D.toString()),Ke.environment=i,Ke.clientId=s,Ke.realm=u,Ke.target=h,Ke.userAssertionHash=P,Ke.tokenType=ze.isEmpty(k)?te.BEARER:k,j&&(Ke.requestedClaims=j,Ke.requestedClaimsHash=ae),(null===(Ee=Ke.tokenType)||void 0===Ee?void 0:Ee.toLowerCase())!==te.BEARER.toLowerCase())switch(Ke.credentialType=Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME,Ke.tokenType){case te.POP:var Xt=Ul.extractTokenClaims(r,w);if(null===(Ve=Xt?.cnf)||void 0===Ve||!Ve.kid)throw ct.createTokenClaimsRequiredError();Ke.keyId=Xt.cnf.kid;break;case te.SSH:Ke.keyId=U}return Ke},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===Bt.ACCESS_TOKEN||e.credentialType===Bt.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(lp),zm=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return er(t,n),t.createRefreshTokenEntity=function(e,i,r,s,u,h){var p=new t;return p.clientId=s,p.credentialType=Bt.REFRESH_TOKEN,p.environment=i,p.homeAccountId=e,p.secret=r,p.userAssertionHash=h,u&&(p.familyId=u),p},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===Bt.REFRESH_TOKEN},t}(lp),Mv=function(){function n(){}return n.prototype.generateAppMetadataKey=function(){return n.generateAppMetadataCacheKey(this.environment,this.clientId)},n.generateAppMetadataCacheKey=function(t,e){return[Ou,t,e].join(di.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAppMetadataEntity=function(t,e,i){var r=new n;return r.clientId=t,r.environment=e,i&&(r.familyId=i),r},n.isAppMetadataEntity=function(t,e){return!!e&&0===t.indexOf(Ou)&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment")},n}(),Ym=function(){function n(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return n.isServerTelemetryEntity=function(t,e){var i=0===t.indexOf(J.CACHE_KEY),r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),i&&r},n}(),qm=function(){function n(){this.expiresAt=zo.nowSeconds()+86400}return n.prototype.updateCloudDiscoveryMetadata=function(t,e){this.aliases=t.aliases,this.preferred_cache=t.preferred_cache,this.preferred_network=t.preferred_network,this.aliasesFromNetwork=e},n.prototype.updateEndpointMetadata=function(t,e){this.authorization_endpoint=t.authorization_endpoint,this.token_endpoint=t.token_endpoint,this.end_session_endpoint=t.end_session_endpoint,this.issuer=t.issuer,this.endpointsFromNetwork=e,this.jwks_uri=t.jwks_uri},n.prototype.updateCanonicalAuthority=function(t){this.canonical_authority=t},n.prototype.resetExpiresAt=function(){this.expiresAt=zo.nowSeconds()+86400},n.prototype.isExpired=function(){return this.expiresAt<=zo.nowSeconds()},n.isAuthorityMetadataEntity=function(t,e){return!!e&&0===t.indexOf("authority-metadata")&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri")},n}(),kv=function(){function n(){}return n.isThrottlingEntity=function(t,e){var i=!1;t&&(i=0===t.indexOf("throttling"));var r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),i&&r},n}(),Hl=function(){function n(){}return n.setRequestState=function(t,e,i){var r=n.generateLibraryState(t,i);return ze.isEmpty(e)?r:""+r+ne.RESOURCE_DELIM+e},n.generateLibraryState=function(t,e){if(!t)throw ct.createNoCryptoObjectError("generateLibraryState");var i={id:t.createNewGuid()};e&&(i.meta=e);var r=JSON.stringify(i);return t.base64Encode(r)},n.parseRequestState=function(t,e){if(!t)throw ct.createNoCryptoObjectError("parseRequestState");if(ze.isEmpty(e))throw ct.createInvalidStateError(e,"Null, undefined or empty state");try{var i=e.split(ne.RESOURCE_DELIM),r=i[0],s=i.length>1?i.slice(1).join(ne.RESOURCE_DELIM):ne.EMPTY_STRING,u=t.base64Decode(r),h=JSON.parse(u);return{userRequestState:ze.isEmpty(s)?ne.EMPTY_STRING:s,libraryState:h}}catch(p){throw ct.createInvalidStateError(e,p)}},n}(),Ei=(()=>{return(n=Ei||(Ei={})).HOME_ACCOUNT_ID="home_account_id",n.UPN="UPN",Ei;var n})(),$m=function(){function n(t){this.validateWindowStorage(t),this.windowStorage=window[t]}return n.prototype.validateWindowStorage=function(t){if(t!==ti.LocalStorage&&t!==ti.SessionStorage)throw Ua.createStorageNotSupportedError(t);if(!window[t])throw Ua.createStorageNotSupportedError(t)},n.prototype.getItem=function(t){return this.windowStorage.getItem(t)},n.prototype.setItem=function(t,e){this.windowStorage.setItem(t,e)},n.prototype.removeItem=function(t){this.windowStorage.removeItem(t)},n.prototype.getKeys=function(){return Object.keys(this.windowStorage)},n.prototype.containsKey=function(t){return this.windowStorage.hasOwnProperty(t)},n}(),tw=function(){function n(){}return n.extractBrowserRequestState=function(t,e){if(ze.isEmpty(e))return null;try{return Hl.parseRequestState(t,e).libraryState.meta}catch(r){throw ct.createInvalidStateError(e,r)}},n.parseServerResponseFromHash=function(t){if(!t)return{};var e=new Qt(t);return Qt.getDeserializedHash(e.getHash())},n}(),Rv=function(n){function t(e,i,r,s){var u=n.call(this,e,r)||this;return u.COOKIE_LIFE_MULTIPLIER=864e5,u.cacheConfig=i,u.logger=s,u.internalStorage=new Sv,u.browserStorage=u.setupBrowserStorage(u.cacheConfig.cacheLocation),u.temporaryCacheStorage=u.setupTemporaryCacheStorage(u.cacheConfig.cacheLocation),u.migrateCacheEntries(),u}return Hi(t,n),t.prototype.setupBrowserStorage=function(e){switch(e){case ti.LocalStorage:case ti.SessionStorage:try{return new $m(e)}catch(i){this.logger.verbose(i);break}}return this.cacheConfig.cacheLocation=ti.MemoryStorage,new Sv},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case ti.LocalStorage:case ti.SessionStorage:try{return new $m(ti.SessionStorage)}catch(i){return this.logger.verbose(i),this.internalStorage}default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,r=ne.CACHE_PREFIX+"."+xn.CLIENT_INFO,s=ne.CACHE_PREFIX+"."+xn.ERROR,u=ne.CACHE_PREFIX+"."+xn.ERROR_DESC,D=[this.browserStorage.getItem(ne.CACHE_PREFIX+"."+xn.ID_TOKEN),this.browserStorage.getItem(r),this.browserStorage.getItem(s),this.browserStorage.getItem(u)];[xn.ID_TOKEN,xn.CLIENT_INFO,xn.ERROR,xn.ERROR_DESC].forEach(function(P,U){return e.migrateCacheEntry(P,D[U])})},t.prototype.migrateCacheEntry=function(e,i){i&&this.setTemporaryCache(e,i,!0)},t.prototype.validateAndParseJson=function(e){try{var i=JSON.parse(e);return i&&"object"==typeof i?i:null}catch{return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,i){this.browserStorage.setItem(e,i)},t.prototype.getAccount=function(e){var i=this.getItem(e);if(!i)return null;var r=this.validateAndParseJson(i);return r&&lo.isAccountEntity(r)?ea.toObject(new lo,r):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var i=e.generateAccountKey();this.setItem(i,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&cp.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),ea.toObject(new cp,r)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var i=e.generateCredentialKey();this.setItem(i,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&up.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),ea.toObject(new up,r)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var i=e.generateCredentialKey();this.setItem(i,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&zm.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),ea.toObject(new zm,r)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var i=e.generateCredentialKey();this.setItem(i,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&Mv.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),ea.toObject(new Mv,r)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var i=e.generateAppMetadataKey();this.setItem(i,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&Ym.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),ea.toObject(new Ym,r)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,i){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(i))},t.prototype.getAuthorityMetadata=function(e){var i=this.internalStorage.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&qm.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),ea.toObject(new qm,r)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter(function(r){return e.isAuthorityMetadata(r)})},t.prototype.setWrapperMetadata=function(e,i){this.internalStorage.setItem(pr.WRAPPER_SKU,e),this.internalStorage.setItem(pr.WRAPPER_VER,i)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(pr.WRAPPER_SKU)||ne.EMPTY_STRING,this.internalStorage.getItem(pr.WRAPPER_VER)||ne.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,i){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(i))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(xn.ACTIVE_ACCOUNT_FILTERS),i=this.getItem(e);if(!i){this.logger.trace("No active account filters cache schema found, looking for legacy schema");var r=this.generateCacheKey(xn.ACTIVE_ACCOUNT),s=this.getItem(r);if(!s)return this.logger.trace("No active account found"),null;var u=this.getAccountInfoByFilter({localAccountId:s})[0]||null;return u?(this.logger.trace("Legacy active account cache schema found"),this.logger.trace("Adding active account filters cache schema"),this.setActiveAccount(u),u):null}var h=this.validateAndParseJson(i);return h?(this.logger.trace("Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:h.homeAccountId,localAccountId:h.localAccountId})[0]||null):(this.logger.trace("No active account found"),null)},t.prototype.setActiveAccount=function(e){var i=this.generateCacheKey(xn.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(xn.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(i,JSON.stringify({homeAccountId:e.homeAccountId,localAccountId:e.localAccountId})),this.browserStorage.setItem(r,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(i),this.browserStorage.removeItem(r))},t.prototype.getAccountInfoByFilter=function(e){return this.getAllAccounts().filter(function(r){return!(e.username&&e.username.toLowerCase()!==r.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==r.homeAccountId||e.localAccountId&&e.localAccountId!==r.localAccountId||e.tenantId&&e.tenantId!==r.tenantId||e.environment&&e.environment!==r.environment)})},t.prototype.getAccountInfoByHints=function(e,i){var r=this.getAllAccounts().filter(function(s){return i?i===(s.idTokenClaims&&s.idTokenClaims.sid):!!e&&e===s.username});if(1===r.length)return r[0];if(r.length>1)throw ct.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var r=this.validateAndParseJson(i);return r&&kv.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),ea.toObject(new kv,r)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,i){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(i))},t.prototype.getTemporaryCache=function(e,i){var r=i?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var s=this.getItemCookie(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),s}var u=this.temporaryCacheStorage.getItem(r);if(!u){if(this.cacheConfig.cacheLocation===ti.LocalStorage){var h=this.browserStorage.getItem(r);if(h)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),h}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),u},t.prototype.setTemporaryCache=function(e,i,r){var s=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(s,i),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(s,i))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return Il(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return Be(this,void 0,void 0,function(){var e=this;return Ne(this,function(i){switch(i.label){case 0:return[4,this.removeAllAccounts()];case 1:return i.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(r){(e.browserStorage.containsKey(r)||e.temporaryCacheStorage.containsKey(r))&&(-1!==r.indexOf(ne.CACHE_PREFIX)||-1!==r.indexOf(e.clientId))&&e.removeItem(r)}),this.internalStorage.clear(),[2]}})})},t.prototype.setItemCookie=function(e,i,r){var s=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/;SameSite=Lax;";r&&(s+="expires="+this.getCookieExpirationTime(r)+";"),this.cacheConfig.secureCookies&&(s+="Secure;"),document.cookie=s},t.prototype.getItemCookie=function(e){for(var i=encodeURIComponent(e)+"=",r=document.cookie.split(";"),s=0;s<r.length;s++){for(var u=r[s];" "===u.charAt(0);)u=u.substring(1);if(0===u.indexOf(i))return decodeURIComponent(u.substring(i.length,u.length))}return ne.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,i=ne.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(s){for(;" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(i)){var u=s.split("=")[0];e.clearItemCookie(u)}})},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,ne.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var i=new Date;return new Date(i.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):ze.startsWith(e,ne.CACHE_PREFIX)||ze.startsWith(e,xn.ADAL_ID_TOKEN)?e:ne.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var i=Hl.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(qt.AUTHORITY+"."+i)},t.prototype.generateNonceKey=function(e){var i=Hl.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(qt.NONCE_IDTOKEN+"."+i)},t.prototype.generateStateKey=function(e){var i=Hl.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(qt.REQUEST_STATE+"."+i)},t.prototype.getCachedAuthority=function(e){var i=this.generateStateKey(e),r=this.getTemporaryCache(i);if(!r)return null;var s=this.generateAuthorityKey(r);return this.getTemporaryCache(s)},t.prototype.updateCacheEntries=function(e,i,r,s,u){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var h=this.generateStateKey(e);this.setTemporaryCache(h,e,!1);var p=this.generateNonceKey(e);this.setTemporaryCache(p,i,!1);var v=this.generateAuthorityKey(e);if(this.setTemporaryCache(v,r,!1),u){var w={credential:u.homeAccountId,type:Ei.HOME_ACCOUNT_ID};this.setTemporaryCache(qt.CCS_CREDENTIAL,JSON.stringify(w),!0)}else ze.isEmpty(s)||(w={credential:s,type:Ei.UPN},this.setTemporaryCache(qt.CCS_CREDENTIAL,JSON.stringify(w),!0))},t.prototype.resetRequestCache=function(e){var i=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),ze.isEmpty(e)||this.getKeys().forEach(function(r){-1!==r.indexOf(e)&&i.removeItem(r)}),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(qt.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(qt.ORIGIN_URI)),this.removeItem(this.generateCacheKey(qt.URL_HASH)),this.removeItem(this.generateCacheKey(qt.CORRELATION_ID)),this.removeItem(this.generateCacheKey(qt.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(qt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var i=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(i);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+r),this.resetRequestCache(r||ne.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var i=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(r){if(-1!==r.indexOf(qt.REQUEST_STATE)){var s=i.temporaryCacheStorage.getItem(r);if(s){var u=tw.extractBrowserRequestState(i.cryptoImpl,s);u&&u.interactionType===e&&(i.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+s),i.resetRequestCache(s))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,i){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var r=i.base64Encode(JSON.stringify(e));this.setTemporaryCache(qt.REQUEST_PARAMS,r,!0)},t.prototype.getCachedRequest=function(e,i){this.logger.trace("BrowserCacheManager.getCachedRequest called");var r=this.getTemporaryCache(qt.REQUEST_PARAMS,!0);if(!r)throw Je.createNoTokenRequestCacheError();var s=this.validateAndParseJson(i.base64Decode(r));if(!s)throw Je.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(qt.REQUEST_PARAMS)),ze.isEmpty(s.authority)){var u=this.generateAuthorityKey(e),h=this.getTemporaryCache(u);if(!h)throw Je.createNoCachedAuthorityError();s.authority=h}return s},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(qt.NATIVE_REQUEST,!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},t.prototype.isInteractionInProgress=function(e){var i=this.getInteractionInProgress();return e?i===this.clientId:!!i},t.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(ne.CACHE_PREFIX+"."+qt.INTERACTION_STATUS_KEY,!1)},t.prototype.setInteractionInProgress=function(e){var i=ne.CACHE_PREFIX+"."+qt.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw Je.createInteractionInProgressError();this.setTemporaryCache(i,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeItem(i)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(xn.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(xn.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var i=this.getTemporaryCache(xn.ID_TOKEN,!0);i&&(this.removeItem(this.generateCacheKey(xn.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var r=i||e;if(r){var s=new Ul(r,this.cryptoImpl);if(s.claims&&s.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),s.claims.preferred_username;if(s.claims&&s.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),s.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,i){var r=i.generateCredentialKey();if(e!==r){var s=this.getItem(e);if(s)return this.removeItem(e),this.setItem(r,s),this.logger.verbose("Updated an outdated "+i.credentialType+" cache key"),r;this.logger.error("Attempted to update an outdated "+i.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t}(ea),_h=(()=>{return(n=_h||(_h={})).AAD="AAD",n.OIDC="OIDC",_h;var n})(),vh=(()=>{return(n=vh||(vh={}))[n.None=0]="None",n.AzurePublic="https://login.microsoftonline.com",n.AzurePpe="https://login.windows-ppe.net",n.AzureChina="https://login.chinacloudapi.cn",n.AzureGermany="https://login.microsoftonline.de",n.AzureUsGovernment="https://login.microsoftonline.us",vh;var n})(),iw={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:ne.EMPTY_STRING},ET={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Qi.Info,correlationId:ne.EMPTY_STRING},Wm={sendGetRequestAsync:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){throw gt.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},Ov={sku:ne.SKU,version:"7.2.0",cpu:ne.EMPTY_STRING,os:ne.EMPTY_STRING},ST={clientSecret:ne.EMPTY_STRING,clientAssertion:void 0},rw={azureCloudInstance:vh.None,tenant:""+ne.DEFAULT_COMMON_TENANT},Pv={application:{appName:"",appVersion:""}};function hx(n){return Tn({clientCapabilities:[],azureCloudOptions:rw,skipAuthorityMetadataCache:!1},n)}var fx={sendGetRequestAsync:function(){return Promise.reject(gt.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(gt.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},Nv=function(){function n(){}return n.prototype.navigateInternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.prototype.navigateExternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.defaultNavigateWindow=function(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(function(i){setTimeout(function(){i(!0)},e.timeout)})},n}(),Km="@azure/msal-browser",Zu="2.28.0",Vl=function(){function n(t,e){this.eventCallbacks=new Map,this.logger=t,this.browserCrypto=e,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return n.prototype.addEventCallback=function(t){if(typeof window<"u"){var e=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(e,t),this.logger.verbose("Event callback registered with id: "+e),e}return null},n.prototype.removeEventCallback=function(t){this.eventCallbacks.delete(t),this.logger.verbose("Event callback "+t+" removed.")},n.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},n.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},n.prototype.emitEvent=function(t,e,i,r){var s=this;if(typeof window<"u"){var u={eventType:t,interactionType:e||null,payload:i||null,error:r||null,timestamp:Date.now()};this.logger.info("Emitting event: "+t),this.eventCallbacks.forEach(function(h,p){s.logger.verbose("Emitting event to callback "+p+": "+t),h.apply(null,[u])})}},n.prototype.handleAccountCacheChange=function(t){try{var e=t.newValue||t.oldValue;if(!e)return;var i=JSON.parse(e);if("object"!=typeof i||!lo.isAccountEntity(i))return;var s=ea.toObject(new lo,i).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(pt.ACCOUNT_ADDED,void 0,s)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(pt.ACCOUNT_REMOVED,void 0,s))}catch{return}},n}(),Qu=function(){function n(){}return n.generateThrottlingStorageKey=function(t){return"throttling."+JSON.stringify(t)},n.preProcess=function(t,e){var i,r=n.generateThrottlingStorageKey(e),s=t.getThrottlingCache(r);if(s){if(s.throttleTime<Date.now())return void t.removeItem(r,Cn.THROTTLING);throw new Ku((null===(i=s.errorCodes)||void 0===i?void 0:i.join(" "))||ne.EMPTY_STRING,s.errorMessage,s.subError)}},n.postProcess=function(t,e,i){if(n.checkResponseStatus(i)||n.checkResponseForRetryAfter(i)){var r={throttleTime:n.calculateThrottleTime(parseInt(i.headers[ro.RETRY_AFTER])),error:i.body.error,errorCodes:i.body.error_codes,errorMessage:i.body.error_description,subError:i.body.suberror};t.setThrottlingCache(n.generateThrottlingStorageKey(e),r)}},n.checkResponseStatus=function(t){return 429===t.status||t.status>=500&&t.status<600},n.checkResponseForRetryAfter=function(t){return!!t.headers&&t.headers.hasOwnProperty(ro.RETRY_AFTER)&&(t.status<200||t.status>=300)},n.calculateThrottleTime=function(t){var e=t<=0?0:t,i=Date.now()/1e3;return Math.floor(1e3*Math.min(i+(e||60),i+3600))},n.removeThrottle=function(t,e,i,r){var u=this.generateThrottlingStorageKey({clientId:e,authority:i.authority,scopes:i.scopes,homeAccountIdentifier:r,claims:i.claims,authenticationScheme:i.authenticationScheme,resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,sshKid:i.sshKid});return t.removeItem(u,Cn.THROTTLING)},n}(),Zm=function(){function n(t,e){this.networkClient=t,this.cacheManager=e}return n.prototype.sendPostRequest=function(t,e,i){return Tt(this,void 0,void 0,function(){var r,s;return It(this,function(u){switch(u.label){case 0:Qu.preProcess(this.cacheManager,t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(e,i)];case 2:return r=u.sent(),[3,4];case 3:throw(s=u.sent())instanceof gt?s:ct.createNetworkError(e,s);case 4:return Qu.postProcess(this.cacheManager,t,r),[2,r]}})})},n}(),Ju=function(){function n(t){this.config=function ow(n){var t=n.authOptions,e=n.systemOptions,i=n.loggerOptions,r=n.storageInterface,s=n.networkInterface,u=n.cryptoInterface,h=n.clientCredentials,p=n.libraryInfo,v=n.telemetry,w=n.serverTelemetryManager,D=n.persistencePlugin,k=n.serializableCache,P=Tn(Tn({},ET),i);return{authOptions:hx(t),systemOptions:Tn(Tn({},iw),e),loggerOptions:P,storageInterface:r||new CT(t.clientId,Gm),networkInterface:s||Wm,cryptoInterface:u||Gm,clientCredentials:h||ST,libraryInfo:Tn(Tn({},Ov),p),telemetry:Tn(Tn({},Pv),v),serverTelemetryManager:w||null,persistencePlugin:D||null,serializableCache:k||null}}(t),this.logger=new Iv(this.config.loggerOptions,"@azure/msal-common","7.2.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Zm(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return n.prototype.createTokenRequestHeaders=function(t){var e={};if(e[ro.CONTENT_TYPE]=ne.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case Ei.HOME_ACCOUNT_ID:try{var i=gh(t.credential);e[ro.CCS_HEADER]="Oid:"+i.uid+"@"+i.utid}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Ei.UPN:e[ro.CCS_HEADER]="UPN: "+t.credential}return e},n.prototype.executePostToTokenEndpoint=function(t,e,i,r){return Tt(this,void 0,void 0,function(){var s;return It(this,function(u){switch(u.label){case 0:return[4,this.networkManager.sendPostRequest(r,t,{body:e,headers:i,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return s=u.sent(),this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,s]}})})},n.prototype.updateAuthority=function(t){if(!t.discoveryComplete())throw ct.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=t},n}(),Xu=function(){function n(){}return n.validateRedirectUri=function(t){if(ze.isEmpty(t))throw Nn.createRedirectUriEmptyError()},n.validatePrompt=function(t){var e=[];for(var i in wi)e.push(wi[i]);if(e.indexOf(t)<0)throw Nn.createInvalidPromptError(t)},n.validateClaims=function(t){try{JSON.parse(t)}catch{throw Nn.createInvalidClaimsRequestError()}},n.validateCodeChallengeParams=function(t,e){if(ze.isEmpty(t)||ze.isEmpty(e))throw Nn.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(e)},n.validateCodeChallengeMethod=function(t){if([Eo.PLAIN,Eo.S256].indexOf(t)<0)throw Nn.createInvalidCodeChallengeMethodError()},n.sanitizeEQParams=function(t,e){return t?(e.forEach(function(i,r){t[r]&&delete t[r]}),t):{}},n}(),Yc=function(){function n(){this.parameters=new Map}return n.prototype.addResponseTypeCode=function(){this.parameters.set(bt.RESPONSE_TYPE,encodeURIComponent(ne.CODE_RESPONSE_TYPE))},n.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(bt.RESPONSE_TYPE,encodeURIComponent(ne.TOKEN_RESPONSE_TYPE+" "+ne.ID_TOKEN_RESPONSE_TYPE))},n.prototype.addResponseMode=function(t){this.parameters.set(bt.RESPONSE_MODE,encodeURIComponent(t||Ws.QUERY))},n.prototype.addNativeBroker=function(){this.parameters.set(bt.NATIVE_BROKER,encodeURIComponent("1"))},n.prototype.addScopes=function(t,e){void 0===e&&(e=!0);var i=e?Na(t||[],kc):t||[],r=new Vr(i);this.parameters.set(bt.SCOPE,encodeURIComponent(r.printScopes()))},n.prototype.addClientId=function(t){this.parameters.set(bt.CLIENT_ID,encodeURIComponent(t))},n.prototype.addRedirectUri=function(t){Xu.validateRedirectUri(t),this.parameters.set(bt.REDIRECT_URI,encodeURIComponent(t))},n.prototype.addPostLogoutRedirectUri=function(t){Xu.validateRedirectUri(t),this.parameters.set(bt.POST_LOGOUT_URI,encodeURIComponent(t))},n.prototype.addIdTokenHint=function(t){this.parameters.set(bt.ID_TOKEN_HINT,encodeURIComponent(t))},n.prototype.addDomainHint=function(t){this.parameters.set(La.DOMAIN_HINT,encodeURIComponent(t))},n.prototype.addLoginHint=function(t){this.parameters.set(La.LOGIN_HINT,encodeURIComponent(t))},n.prototype.addCcsUpn=function(t){this.parameters.set(ro.CCS_HEADER,encodeURIComponent("UPN:"+t))},n.prototype.addCcsOid=function(t){this.parameters.set(ro.CCS_HEADER,encodeURIComponent("Oid:"+t.uid+"@"+t.utid))},n.prototype.addSid=function(t){this.parameters.set(La.SID,encodeURIComponent(t))},n.prototype.addClaims=function(t,e){var i=this.addClientCapabilitiesToClaims(t,e);Xu.validateClaims(i),this.parameters.set(bt.CLAIMS,encodeURIComponent(i))},n.prototype.addCorrelationId=function(t){this.parameters.set(bt.CLIENT_REQUEST_ID,encodeURIComponent(t))},n.prototype.addLibraryInfo=function(t){this.parameters.set(bt.X_CLIENT_SKU,t.sku),this.parameters.set(bt.X_CLIENT_VER,t.version),t.os&&this.parameters.set(bt.X_CLIENT_OS,t.os),t.cpu&&this.parameters.set(bt.X_CLIENT_CPU,t.cpu)},n.prototype.addApplicationTelemetry=function(t){t?.appName&&this.parameters.set(bt.X_APP_NAME,t.appName),t?.appVersion&&this.parameters.set(bt.X_APP_VER,t.appVersion)},n.prototype.addPrompt=function(t){Xu.validatePrompt(t),this.parameters.set(""+bt.PROMPT,encodeURIComponent(t))},n.prototype.addState=function(t){ze.isEmpty(t)||this.parameters.set(bt.STATE,encodeURIComponent(t))},n.prototype.addNonce=function(t){this.parameters.set(bt.NONCE,encodeURIComponent(t))},n.prototype.addCodeChallengeParams=function(t,e){if(Xu.validateCodeChallengeParams(t,e),!t||!e)throw Nn.createInvalidCodeChallengeParamsError();this.parameters.set(bt.CODE_CHALLENGE,encodeURIComponent(t)),this.parameters.set(bt.CODE_CHALLENGE_METHOD,encodeURIComponent(e))},n.prototype.addAuthorizationCode=function(t){this.parameters.set(bt.CODE,encodeURIComponent(t))},n.prototype.addDeviceCode=function(t){this.parameters.set(bt.DEVICE_CODE,encodeURIComponent(t))},n.prototype.addRefreshToken=function(t){this.parameters.set(bt.REFRESH_TOKEN,encodeURIComponent(t))},n.prototype.addCodeVerifier=function(t){this.parameters.set(bt.CODE_VERIFIER,encodeURIComponent(t))},n.prototype.addClientSecret=function(t){this.parameters.set(bt.CLIENT_SECRET,encodeURIComponent(t))},n.prototype.addClientAssertion=function(t){ze.isEmpty(t)||this.parameters.set(bt.CLIENT_ASSERTION,encodeURIComponent(t))},n.prototype.addClientAssertionType=function(t){ze.isEmpty(t)||this.parameters.set(bt.CLIENT_ASSERTION_TYPE,encodeURIComponent(t))},n.prototype.addOboAssertion=function(t){this.parameters.set(bt.OBO_ASSERTION,encodeURIComponent(t))},n.prototype.addRequestTokenUse=function(t){this.parameters.set(bt.REQUESTED_TOKEN_USE,encodeURIComponent(t))},n.prototype.addGrantType=function(t){this.parameters.set(bt.GRANT_TYPE,encodeURIComponent(t))},n.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},n.prototype.addExtraQueryParameters=function(t){var e=this;Xu.sanitizeEQParams(t,this.parameters),Object.keys(t).forEach(function(i){e.parameters.set(i,t[i])})},n.prototype.addClientCapabilitiesToClaims=function(t,e){var i;if(t)try{i=JSON.parse(t)}catch{throw Nn.createInvalidClaimsRequestError()}else i={};return e&&e.length>0&&(i.hasOwnProperty(ur.ACCESS_TOKEN)||(i[ur.ACCESS_TOKEN]={}),i[ur.ACCESS_TOKEN][ur.XMS_CC]={values:e}),JSON.stringify(i)},n.prototype.addUsername=function(t){this.parameters.set(ut.username,encodeURIComponent(t))},n.prototype.addPassword=function(t){this.parameters.set(ut.password,encodeURIComponent(t))},n.prototype.addPopToken=function(t){ze.isEmpty(t)||(this.parameters.set(bt.TOKEN_TYPE,te.POP),this.parameters.set(bt.REQ_CNF,encodeURIComponent(t)))},n.prototype.addSshJwk=function(t){ze.isEmpty(t)||(this.parameters.set(bt.TOKEN_TYPE,te.SSH),this.parameters.set(bt.REQ_CNF,encodeURIComponent(t)))},n.prototype.addServerTelemetry=function(t){this.parameters.set(bt.X_CLIENT_CURR_TELEM,t.generateCurrentRequestHeaderValue()),this.parameters.set(bt.X_CLIENT_LAST_TELEM,t.generateLastRequestHeaderValue())},n.prototype.addThrottling=function(){this.parameters.set(bt.X_MS_LIB_CAPABILITY,"retry-after, h429")},n.prototype.addLogoutHint=function(t){this.parameters.set(bt.LOGOUT_HINT,encodeURIComponent(t))},n.prototype.createQueryString=function(){var t=new Array;return this.parameters.forEach(function(e,i){t.push(i+"="+e)}),t.join("&")},n}(),cw=function n(t,e,i,r,s){this.account=t||null,this.idToken=e||null,this.accessToken=i||null,this.refreshToken=r||null,this.appMetadata=s||null},Qm=(()=>{return(n=Qm||(Qm={})).SW="sw",n.UHW="uhw",Qm;var n})(),yh=function(){function n(t){this.cryptoUtils=t}return n.prototype.generateCnf=function(t){return Tt(this,void 0,void 0,function(){var e,i,r;return It(this,function(s){switch(s.label){case 0:return[4,this.generateKid(t)];case 1:return e=s.sent(),i=this.cryptoUtils.base64Encode(JSON.stringify(e)),r={kid:e.kid,reqCnfString:i},[4,this.cryptoUtils.hashString(i)];case 2:return[2,(r.reqCnfHash=s.sent(),r)]}})})},n.prototype.generateKid=function(t){return Tt(this,void 0,void 0,function(){return It(this,function(i){switch(i.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(t)];case 1:return[2,{kid:i.sent(),xms_ksl:Qm.SW}]}})})},n.prototype.signPopToken=function(t,e,i){return Tt(this,void 0,void 0,function(){return It(this,function(r){return[2,this.signPayload(t,e,i)]})})},n.prototype.signPayload=function(t,e,i,r){return Tt(this,void 0,void 0,function(){var s,u,h,p,v,w;return It(this,function(D){switch(D.label){case 0:return s=i.resourceRequestMethod,h=i.shrClaims,p=i.shrNonce,v=(u=i.resourceRequestUri)?new Qt(u):void 0,w=v?.getUrlComponents(),[4,this.cryptoUtils.signJwt(Tn({at:t,ts:zo.nowSeconds(),m:s?.toUpperCase(),u:w?.HostNameAndPort,nonce:p||this.cryptoUtils.createNewGuid(),p:w?.AbsolutePath,q:w?.QueryString?[[],w.QueryString]:void 0,client_claims:h||void 0},r),e,i.correlationId)];case 1:return[2,D.sent()]}})})},n}(),dp=function(){function n(t,e){this.cache=t,this.hasChanged=e}return Object.defineProperty(n.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),n}(),Jm=function(){function n(t,e,i,r,s,u){this.clientId=t,this.cacheStorage=e,this.cryptoObj=i,this.logger=r,this.serializableCache=s,this.persistencePlugin=u}return n.prototype.validateServerAuthorizationCodeResponse=function(t,e,i){if(!t.state||!e)throw ct.createStateNotFoundError(t.state?"Cached State":"Server State");if(decodeURIComponent(t.state)!==decodeURIComponent(e))throw ct.createStateMismatchError();if(t.error||t.error_description||t.suberror)throw vs.isInteractionRequiredError(t.error,t.error_description,t.suberror)?new vs(t.error||ne.EMPTY_STRING,t.error_description,t.suberror):new Ku(t.error||ne.EMPTY_STRING,t.error_description,t.suberror);t.client_info&&Hr(t.client_info,i)},n.prototype.validateTokenResponse=function(t){if(t.error||t.error_description||t.suberror){if(vs.isInteractionRequiredError(t.error,t.error_description,t.suberror))throw new vs(t.error,t.error_description,t.suberror);throw new Ku(t.error,t.error_codes+" - ["+t.timestamp+"]: "+t.error_description+" - Correlation ID: "+t.correlation_id+" - Trace ID: "+t.trace_id,t.suberror)}},n.prototype.handleServerTokenResponse=function(t,e,i,r,s,u,h,p){return Tt(this,void 0,void 0,function(){var v,w,D,k,P;return It(this,function(j){switch(j.label){case 0:if(t.id_token&&(v=new Ul(t.id_token||ne.EMPTY_STRING,this.cryptoObj),s&&!ze.isEmpty(s.nonce)&&v.claims.nonce!==s.nonce))throw ct.createNonceMismatchError();this.homeAccountIdentifier=lo.generateHomeAccountId(t.client_info||ne.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,v),!!s&&!!s.state&&(w=Hl.parseRequestState(this.cryptoObj,s.state)),t.key_id=t.key_id||r.sshKid||void 0,D=this.generateCacheRecord(t,e,i,r,v,u,s),j.label=1;case 1:return j.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),k=new dp(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(k)]):[3,3];case 2:j.sent(),j.label=3;case 3:return h&&!p&&D.account&&(P=D.account.generateAccountKey(),!this.cacheStorage.getAccount(P))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,n.generateAuthenticationResult(this.cryptoObj,e,D,!1,r,v,w,void 0)]):[4,this.cacheStorage.saveCacheRecord(D)];case 4:return j.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&k?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(k)]):[3,7];case 6:j.sent(),j.label=7;case 7:return[7];case 8:return[2,n.generateAuthenticationResult(this.cryptoObj,e,D,!1,r,v,w,t.spa_code)]}})})},n.prototype.generateCacheRecord=function(t,e,i,r,s,u,h){var v,w,p=e.getPreferredCache();if(ze.isEmpty(p))throw ct.createInvalidCacheEnvironmentError();!ze.isEmpty(t.id_token)&&s&&(v=cp.createIdTokenEntity(this.homeAccountIdentifier,p,t.id_token||ne.EMPTY_STRING,this.clientId,s.claims.tid||ne.EMPTY_STRING),w=this.generateAccountEntity(t,s,e,h));var D=null;if(!ze.isEmpty(t.access_token)){var k=t.scope?Vr.fromString(t.scope):new Vr(r.scopes||[]),P=("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,U=("string"==typeof t.ext_expires_in?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,j=("string"==typeof t.refresh_in?parseInt(t.refresh_in,10):t.refresh_in)||void 0,ae=i+P,Ee=ae+U,Ve=j&&j>0?i+j:void 0;D=up.createAccessTokenEntity(this.homeAccountIdentifier,p,t.access_token||ne.EMPTY_STRING,this.clientId,s?s.claims.tid||ne.EMPTY_STRING:e.tenant,k.printScopes(),ae,Ee,this.cryptoObj,Ve,t.token_type,u,t.key_id,r.claims,r.requestedClaimsHash)}var Ke=null;ze.isEmpty(t.refresh_token)||(Ke=zm.createRefreshTokenEntity(this.homeAccountIdentifier,p,t.refresh_token||ne.EMPTY_STRING,this.clientId,t.foci,u));var tt=null;return ze.isEmpty(t.foci)||(tt=Mv.createAppMetadataEntity(this.clientId,p,t.foci)),new cw(w,v,D,Ke,tt)},n.prototype.generateAccountEntity=function(t,e,i,r){var u=r?r.cloud_graph_host_name:ne.EMPTY_STRING,h=r?r.msgraph_host:ne.EMPTY_STRING;if(i.authorityType===Ya.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),lo.createGenericAccount(this.homeAccountIdentifier,e,i,u,h);if(ze.isEmpty(t.client_info)&&"AAD"===i.protocolMode)throw ct.createClientInfoEmptyError();return t.client_info?lo.createAccount(t.client_info,this.homeAccountIdentifier,e,i,u,h):lo.createGenericAccount(this.homeAccountIdentifier,e,i,u,h)},n.generateAuthenticationResult=function(t,e,i,r,s,u,h,p){var v,w,D;return Tt(this,void 0,void 0,function(){var k,P,U,j,ae,Ee,Ve,Ke,tt;return It(this,function(Gn){switch(Gn.label){case 0:if(k=ne.EMPTY_STRING,P=[],U=null,ae=ne.EMPTY_STRING,!i.accessToken)return[3,4];if(i.accessToken.tokenType!==te.POP)return[3,2];if(Ee=new yh(t),Ke=(Ve=i.accessToken).secret,!(tt=Ve.keyId))throw ct.createKeyIdMissingError();return[4,Ee.signPopToken(Ke,tt,s)];case 1:return k=Gn.sent(),[3,3];case 2:k=i.accessToken.secret,Gn.label=3;case 3:P=Vr.fromString(i.accessToken.target).asArray(),U=new Date(1e3*Number(i.accessToken.expiresOn)),j=new Date(1e3*Number(i.accessToken.extendedExpiresOn)),Gn.label=4;case 4:return i.appMetadata&&(ae=i.appMetadata.familyId===I?I:ne.EMPTY_STRING),[2,{authority:e.canonicalAuthority,uniqueId:u?.claims.oid||u?.claims.sub||ne.EMPTY_STRING,tenantId:u?.claims.tid||ne.EMPTY_STRING,scopes:P,account:i.account?i.account.getAccountInfo():null,idToken:u?u.rawToken:ne.EMPTY_STRING,idTokenClaims:u?u.claims:{},accessToken:k,fromCache:r,expiresOn:U,correlationId:s.correlationId,extExpiresOn:j,familyId:ae,tokenType:(null===(v=i.accessToken)||void 0===v?void 0:v.tokenType)||ne.EMPTY_STRING,state:h?h.userRequestState:ne.EMPTY_STRING,cloudGraphHostName:(null===(w=i.account)||void 0===w?void 0:w.cloudGraphHostName)||ne.EMPTY_STRING,msGraphHost:(null===(D=i.account)||void 0===D?void 0:D.msGraphHost)||ne.EMPTY_STRING,code:p,fromNativeBroker:!1}]}})})},n}(),DT=function(n){function t(e){var i=n.call(this,e)||this;return i.includeRedirectUri=!0,i}return er(t,n),t.prototype.getAuthCodeUrl=function(e){return Tt(this,void 0,void 0,function(){var i;return It(this,function(r){switch(r.label){case 0:return[4,this.createAuthCodeUrlQueryString(e)];case 1:return i=r.sent(),[2,Qt.appendQueryString(this.authority.authorizationEndpoint,i)]}})})},t.prototype.acquireToken=function(e,i){return Tt(this,void 0,void 0,function(){var r,s,u;return It(this,function(h){switch(h.label){case 0:if(this.logger.info("in acquireToken call"),!e||ze.isEmpty(e.code))throw ct.createTokenRequestCannotBeMadeError();return r=zo.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return s=h.sent(),(u=new Jm(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(s.body),[4,u.handleServerTokenResponse(s.body,this.authority,r,e,i)];case 2:return[2,h.sent()]}})})},t.prototype.handleFragmentResponse=function(e,i){var r=new Jm(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),s=new Qt(e),u=Qt.getDeserializedHash(s.getHash());if(r.validateServerAuthorizationCodeResponse(u,i,this.cryptoUtils),!u.code)throw ct.createNoAuthCodeInServerResponseError();return Tn(Tn({},u),{code:u.code})},t.prototype.getLogoutUri=function(e){if(!e)throw Nn.createEmptyLogoutRequestError();var i=this.createLogoutUrlQueryString(e);return Qt.appendQueryString(this.authority.endSessionEndpoint,i)},t.prototype.executeTokenRequest=function(e,i){return Tt(this,void 0,void 0,function(){var r,s,u,h,p,v,w;return It(this,function(D){switch(D.label){case 0:return r={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:i.scopes,claims:i.claims,authenticationScheme:i.authenticationScheme,resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,sshKid:i.sshKid},[4,this.createTokenRequestBody(i)];case 1:if(s=D.sent(),u=this.createTokenQueryParameters(i),h=void 0,i.clientInfo)try{p=Hr(i.clientInfo,this.cryptoUtils),h={credential:""+p.uid+di.CLIENT_INFO_SEPARATOR+p.utid,type:Ei.HOME_ACCOUNT_ID}}catch(k){this.logger.verbose("Could not parse client info for CCS Header: "+k)}return v=this.createTokenRequestHeaders(h||i.ccsCredential),w=ze.isEmpty(u)?e.tokenEndpoint:e.tokenEndpoint+"?"+u,[2,this.executePostToTokenEndpoint(w,s,v,r)]}})})},t.prototype.createTokenQueryParameters=function(e){var i=new Yc;return e.tokenQueryParameters&&i.addExtraQueryParameters(e.tokenQueryParameters),i.createQueryString()},t.prototype.createTokenRequestBody=function(e){return Tt(this,void 0,void 0,function(){var i,r,u,h,p,v,w;return It(this,function(D){switch(D.label){case 0:return(i=new Yc).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?i.addRedirectUri(e.redirectUri):Xu.validateRedirectUri(e.redirectUri),i.addScopes(e.scopes),i.addAuthorizationCode(e.code),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&i.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&i.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(i.addClientAssertion((r=this.config.clientCredentials.clientAssertion).assertion),i.addClientAssertionType(r.assertionType)),i.addGrantType(dr.AUTHORIZATION_CODE_GRANT),i.addClientInfo(),e.authenticationScheme!==te.POP?[3,2]:[4,new yh(this.cryptoUtils).generateCnf(e)];case 1:return u=D.sent(),i.addPopToken(u.reqCnfString),[3,3];case 2:if(e.authenticationScheme===te.SSH){if(!e.sshJwk)throw Nn.createMissingSshJwkError();i.addSshJwk(e.sshJwk)}D.label=3;case 3:if(h=e.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(h),(!ze.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),p=void 0,e.clientInfo)try{v=Hr(e.clientInfo,this.cryptoUtils),p={credential:""+v.uid+di.CLIENT_INFO_SEPARATOR+v.utid,type:Ei.HOME_ACCOUNT_ID}}catch(k){this.logger.verbose("Could not parse client info for CCS Header: "+k)}else p=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&p)switch(p.type){case Ei.HOME_ACCOUNT_ID:try{v=gh(p.credential),i.addCcsOid(v)}catch(k){this.logger.verbose("Could not parse home account ID for CCS Header: "+k)}break;case Ei.UPN:i.addCcsUpn(p.credential)}return e.tokenBodyParameters&&i.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[bt.RETURN_SPA_CODE])&&i.addExtraQueryParameters(((w={})[bt.RETURN_SPA_CODE]="1",w)),[2,i.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(e){return Tt(this,void 0,void 0,function(){var i,r,s,u,h,v;return It(this,function(w){switch(w.label){case 0:if((i=new Yc).addClientId(this.config.authOptions.clientId),r=Na(e.scopes||[],e.extraScopesToConsent||[]),i.addScopes(r),i.addRedirectUri(e.redirectUri),s=e.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(s),i.addResponseMode(e.responseMode),i.addResponseTypeCode(),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&i.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&i.addPrompt(e.prompt),e.domainHint&&i.addDomainHint(e.domainHint),e.prompt!==wi.SELECT_ACCOUNT)if(e.sid&&e.prompt===wi.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),i.addSid(e.sid);else if(e.account){if((u=this.extractAccountSid(e.account))&&e.prompt===wi.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),i.addSid(u);try{h=gh(e.account.homeAccountId),i.addCcsOid(h)}catch(D){this.logger.verbose("Could not parse home account ID for CCS Header: "+D)}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),i.addLoginHint(e.account.username);try{h=gh(e.account.homeAccountId),i.addCcsOid(h)}catch(D){this.logger.verbose("Could not parse home account ID for CCS Header: "+D)}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&i.addNonce(e.nonce),e.state&&i.addState(e.state),(!ze.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&i.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(i.addNativeBroker(),e.authenticationScheme!==te.POP?[3,2]:[4,new yh(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:v=w.sent(),i.addPopToken(v.reqCnfHash),w.label=2;case 2:return[2,i.createQueryString()]}})})},t.prototype.createLogoutUrlQueryString=function(e){var i=new Yc;return e.postLogoutRedirectUri&&i.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&i.addCorrelationId(e.correlationId),e.idTokenHint&&i.addIdTokenHint(e.idTokenHint),e.state&&i.addState(e.state),e.logoutHint&&i.addLogoutHint(e.logoutHint),e.extraQueryParameters&&i.addExtraQueryParameters(e.extraQueryParameters),i.createQueryString()},t.prototype.extractAccountSid=function(e){return e.idTokenClaims&&e.idTokenClaims.sid||null},t}(Ju);function TT(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}var uw={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},dw={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},MT=function(){function n(t){this.networkInterface=t}return n.prototype.detectRegion=function(t,e,i){return Tt(this,void 0,void 0,function(){var r,s,u,h,p;return It(this,function(v){switch(v.label){case 0:if(r=t)return[3,8];s=n.IMDS_OPTIONS,i&&(s.proxyUrl=i),v.label=1;case 1:return v.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(ne.IMDS_VERSION,s)];case 2:return(u=v.sent()).status===Et.httpSuccess&&(r=u.body,e.region_source=Dt.IMDS),u.status!==Et.httpBadRequest?[3,5]:[4,this.getCurrentVersion(s)];case 3:return(h=v.sent())?[4,this.getRegionFromIMDS(h,s)]:(e.region_source=Dt.FAILED_AUTO_DETECTION,[2,null]);case 4:(p=v.sent()).status===Et.httpSuccess&&(r=p.body,e.region_source=Dt.IMDS),v.label=5;case 5:return[3,7];case 6:return v.sent(),e.region_source=Dt.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:e.region_source=Dt.ENVIRONMENT_VARIABLE,v.label=9;case 9:return r||(e.region_source=Dt.FAILED_AUTO_DETECTION),[2,r||null]}})})},n.prototype.getRegionFromIMDS=function(t,e){return Tt(this,void 0,void 0,function(){return It(this,function(i){return[2,this.networkInterface.sendGetRequestAsync(ne.IMDS_ENDPOINT+"?api-version="+t+"&format=text",e,ne.IMDS_TIMEOUT)]})})},n.prototype.getCurrentVersion=function(t){return Tt(this,void 0,void 0,function(){var e;return It(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(ne.IMDS_ENDPOINT+"?format=json",t)];case 1:return(e=i.sent()).status===Et.httpBadRequest&&e.body&&e.body["newest-versions"]&&e.body["newest-versions"].length>0?[2,e.body["newest-versions"][0]]:[2,null];case 2:return i.sent(),[2,null];case 3:return[2]}})})},n.IMDS_OPTIONS={headers:{Metadata:"true"}},n}(),Lv=function(){function n(t,e,i,r,s){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=i,this.authorityOptions=r,this.regionDiscovery=new MT(e),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=s||ne.EMPTY_STRING}return Object.defineProperty(n.prototype,"authorityType",{get:function(){var t=this.canonicalAuthorityUrlComponents.PathSegments;return t.length&&t[0].toLowerCase()===ne.ADFS?Ya.Adfs:Ya.Default},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(t){this._canonicalAuthority=new Qt(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(t)}throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(t)}throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(t)}throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ct.createLogoutNotSupportedError();var t=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(t)}throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.issuer);return this.replaceTenant(t)}throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(t)}throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),n.prototype.replaceTenant=function(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)},n.prototype.replacePath=function(t){var e=t,r=new Qt(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(u,h){var p=r[h];u!==p&&(e=e.replace("/"+p+"/","/"+u+"/"))}),e},Object.defineProperty(n.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===Ya.Adfs||this.protocolMode===_h.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),n.prototype.discoveryComplete=function(){return!!this.metadata},n.prototype.resolveEndpointsAsync=function(){return Tt(this,void 0,void 0,function(){var t,e,i,r;return It(this,function(s){switch(s.label){case 0:return(t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(t=new qm).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(t)];case 1:return e=s.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network),[4,this.updateEndpointMetadata(t)];case 2:return i=s.sent(),e!==H.CACHE&&i!==H.CACHE&&(t.resetExpiresAt(),t.updateCanonicalAuthority(this.canonicalAuthority)),r=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache),this.cacheManager.setAuthorityMetadata(r,t),this.metadata=t,[2]}})})},n.prototype.updateEndpointMetadata=function(t){var e,i;return Tt(this,void 0,void 0,function(){var r,s;return It(this,function(u){switch(u.label){case 0:return(r=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(r,!1),[2,H.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,H.CACHE]:(s=this.getEndpointMetadataFromHardcodedValues(),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(r=u.sent())?null!==(e=this.authorityOptions.azureRegionConfiguration)&&void 0!==e&&e.azureRegion?[4,this.updateMetadataWithRegionalInformation(r)]:[3,3]:[3,4];case 2:r=u.sent(),u.label=3;case 3:return t.updateEndpointMetadata(r,!0),[2,H.NETWORK];case 4:return s&&!this.authorityOptions.skipAuthorityMetadataCache?null!==(i=this.authorityOptions.azureRegionConfiguration)&&void 0!==i&&i.azureRegion?[4,this.updateMetadataWithRegionalInformation(s)]:[3,6]:[3,7];case 5:s=u.sent(),u.label=6;case 6:return t.updateEndpointMetadata(s,!1),[2,H.HARDCODED_VALUES];case 7:throw ct.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},n.prototype.isAuthoritySameType=function(t){return new Qt(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},n.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Nn.createInvalidAuthorityMetadataError()}return null},n.prototype.getEndpointMetadataFromNetwork=function(){return Tt(this,void 0,void 0,function(){var t,e;return It(this,function(i){switch(i.label){case 0:t={},this.proxyUrl&&(t.proxyUrl=this.proxyUrl),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,t)];case 2:return[2,TT((e=i.sent()).body)?e.body:null];case 3:return i.sent(),[2,null];case 4:return[2]}})})},n.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in uw?uw[this.canonicalAuthority]:null},n.prototype.updateMetadataWithRegionalInformation=function(t){var e,i,r,s,u;return Tt(this,void 0,void 0,function(){var h,p;return It(this,function(v){switch(v.label){case 0:return[4,this.regionDiscovery.detectRegion(null===(e=this.authorityOptions.azureRegionConfiguration)||void 0===e?void 0:e.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)];case 1:return h=v.sent(),p=(null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.azureRegion)===ne.AZURE_REGION_AUTO_DISCOVER_FLAG?h:null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion,this.regionDiscoveryMetadata.region_outcome=(null===(s=this.authorityOptions.azureRegionConfiguration)||void 0===s?void 0:s.azureRegion)===ne.AZURE_REGION_AUTO_DISCOVER_FLAG?h?lt.AUTO_DETECTION_REQUESTED_SUCCESSFUL:lt.AUTO_DETECTION_REQUESTED_FAILED:h?(null===(u=this.authorityOptions.azureRegionConfiguration)||void 0===u?void 0:u.azureRegion)===h?lt.CONFIGURED_MATCHES_DETECTED:lt.CONFIGURED_NOT_DETECTED:lt.CONFIGURED_NO_AUTO_DETECTION,p?(this.regionDiscoveryMetadata.region_used=p,[2,n.replaceWithRegionalInformation(t,p)]):[2,t]}})})},n.prototype.updateCloudDiscoveryMetadata=function(t){return Tt(this,void 0,void 0,function(){var e,i;return It(this,function(r){switch(r.label){case 0:return(e=this.getCloudDiscoveryMetadataFromConfig())?(t.updateCloudDiscoveryMetadata(e,!1),[2,H.CONFIG]):this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!t.isExpired()?[2,H.CACHE]:(i=this.getCloudDiscoveryMetadataFromHarcodedValues(),[4,this.getCloudDiscoveryMetadataFromNetwork()]);case 1:if(e=r.sent())return t.updateCloudDiscoveryMetadata(e,!0),[2,H.NETWORK];if(i&&!this.options.skipAuthorityMetadataCache)return t.updateCloudDiscoveryMetadata(i,!1),[2,H.HARDCODED_VALUES];throw Nn.createUntrustedAuthorityError()}})})},n.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=n.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(e)return e}catch{throw Nn.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},n.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return Tt(this,void 0,void 0,function(){var t,e,i,r,s;return It(this,function(u){switch(u.label){case 0:t=""+ne.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",e={},this.proxyUrl&&(e.proxyUrl=this.proxyUrl),i=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t,e)];case 2:return r=u.sent(),s=function AT(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(r.body)?r.body.metadata:[],0===s.length?[2,null]:(i=n.getCloudDiscoveryMetadataFromNetworkResponse(s,this.hostnameAndPort),[3,4]);case 3:return u.sent(),[2,null];case 4:return i||(i=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,i]}})})},n.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in dw?dw[this.canonicalAuthority]:null},n.prototype.isInKnownAuthorities=function(){var t=this;return this.authorityOptions.knownAuthorities.filter(function(i){return Qt.getDomainFromUrl(i).toLowerCase()===t.hostnameAndPort}).length>0},n.generateAuthority=function(t,e){var i;return e&&e.azureCloudInstance!==vh.None&&(i=e.azureCloudInstance+"/"+(e.tenant?e.tenant:ne.DEFAULT_COMMON_TENANT)+"/"),i||t},n.createCloudDiscoveryMetadataFromHost=function(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}},n.getCloudDiscoveryMetadataFromNetworkResponse=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(r.aliases.indexOf(e)>-1)return r}return null},n.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw ct.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},n.prototype.isAlias=function(t){return this.metadata.aliases.indexOf(t)>-1},n.isPublicCloudAuthority=function(t){return ne.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0},n.buildRegionalAuthorityString=function(t,e,i){var r=new Qt(t);r.validateAsUri();var s=r.getUrlComponents(),u=e+"."+s.HostNameAndPort;this.isPublicCloudAuthority(s.HostNameAndPort)&&(u=e+"."+ne.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var h=Qt.constructAuthorityUriFromObject(Tn(Tn({},r.getUrlComponents()),{HostNameAndPort:u})).urlString;return i?h+"?"+i:h},n.replaceWithRegionalInformation=function(t,e){return t.authorization_endpoint=n.buildRegionalAuthorityString(t.authorization_endpoint,e),t.token_endpoint=n.buildRegionalAuthorityString(t.token_endpoint,e,"allowestsrnonmsi=true"),t.end_session_endpoint&&(t.end_session_endpoint=n.buildRegionalAuthorityString(t.end_session_endpoint,e)),t},n}(),hp=function(){function n(){}return n.createDiscoveredInstance=function(t,e,i,r,s){return Tt(this,void 0,void 0,function(){var u,h;return It(this,function(p){switch(p.label){case 0:u=n.createInstance(t,e,i,r,s),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,u.resolveEndpointsAsync()];case 2:return p.sent(),[2,u];case 3:throw h=p.sent(),ct.createEndpointDiscoveryIncompleteError(h);case 4:return[2]}})})},n.createInstance=function(t,e,i,r,s){if(ze.isEmpty(t))throw Nn.createUrlEmptyError();return new Lv(t,e,i,r,s)},n}(),Bv=function(){function n(t,e){this.cacheOutcome=wn.NO_CACHE_HIT,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||ne.EMPTY_STRING,this.wrapperVer=t.wrapperVer||ne.EMPTY_STRING,this.telemetryCacheKey=J.CACHE_KEY+di.CACHE_KEY_SEPARATOR+t.clientId}return n.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+J.VALUE_SEPARATOR+this.cacheOutcome,e=[this.wrapperSKU,this.wrapperVer].join(J.VALUE_SEPARATOR),r=[t,this.getRegionDiscoveryFields()].join(J.VALUE_SEPARATOR);return[J.SCHEMA_VERSION,r,e].join(J.CATEGORY_SEPARATOR)},n.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t),i=t.failedRequests.slice(0,2*e).join(J.VALUE_SEPARATOR),r=t.errors.slice(0,e).join(J.VALUE_SEPARATOR),s=t.errors.length,h=[s,e<s?J.OVERFLOW_TRUE:J.OVERFLOW_FALSE].join(J.VALUE_SEPARATOR);return[J.SCHEMA_VERSION,t.cacheHits,i,r,h].join(J.CATEGORY_SEPARATOR)},n.prototype.cacheFailedRequest=function(t){var e=this.getLastRequests();e.errors.length>=J.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),ze.isEmpty(t.subError)?ze.isEmpty(t.errorCode)?t&&t.toString()?e.errors.push(t.toString()):e.errors.push(J.UNKNOWN_ERROR):e.errors.push(t.errorCode):e.errors.push(t.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)},n.prototype.incrementCacheHits=function(){var t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits},n.prototype.getLastRequests=function(){var t=new Ym;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t},n.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t);if(e===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var r=new Ym;r.failedRequests=t.failedRequests.slice(2*e),r.errors=t.errors.slice(e),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}},n.maxErrorsToSend=function(t){var e,i=0,r=0,s=t.errors.length;for(e=0;e<s;e++){var h=t.failedRequests[2*e+1]||ne.EMPTY_STRING,p=t.errors[e]||ne.EMPTY_STRING;if(!((r+=(t.failedRequests[2*e]||ne.EMPTY_STRING).toString().length+h.toString().length+p.length+3)<J.MAX_LAST_HEADER_BYTES))break;i+=1}return i},n.prototype.getRegionDiscoveryFields=function(){var t=[];return t.push(this.regionUsed||ne.EMPTY_STRING),t.push(this.regionSource||ne.EMPTY_STRING),t.push(this.regionOutcome||ne.EMPTY_STRING),t.join(",")},n.prototype.updateRegionDiscoveryMetadata=function(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome},n.prototype.setCacheOutcome=function(t){this.cacheOutcome=t},n}(),hw=function(){function n(t,e,i,r,s,u,h,p,v){this.config=t,this.browserStorage=e,this.browserCrypto=i,this.networkClient=this.config.system.networkClient,this.eventHandler=s,this.navigationClient=u,this.nativeMessageHandler=p,this.correlationId=v||this.browserCrypto.createNewGuid(),this.logger=r.clone("msal.js.browser",Zu,this.correlationId),this.performanceClient=h}return n.prototype.clearCacheOnLogout=function(t){return Be(this,void 0,void 0,function(){return Ne(this,function(e){switch(e.label){case 0:if(!t)return[3,5];lo.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(lo.generateAccountCacheKey(t))];case 2:return e.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return e.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return e.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return e.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return e.sent(),[3,9];case 8:return e.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},n.prototype.initializeBaseRequest=function(t){return Be(this,void 0,void 0,function(){var e,i,r,s;return Ne(this,function(u){switch(u.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),e=t.authority||this.config.auth.authority,i=Il(t&&t.scopes||[]),(r=mt(mt({},t),{correlationId:this.correlationId,authority:e,scopes:i})).authenticationScheme){if(r.authenticationScheme===te.SSH){if(!t.sshJwk)throw Nn.createMissingSshJwkError();if(!t.sshKid)throw Nn.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+r.authenticationScheme+'" as configured in Auth request')}else r.authenticationScheme=te.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.claims&&!ze.isEmpty(t.claims)?(s=r,[4,this.browserCrypto.hashString(t.claims)]):[3,2];case 1:s.requestedClaimsHash=u.sent(),u.label=2;case 2:return[2,r]}})})},n.prototype.getRedirectUri=function(t){this.logger.verbose("getRedirectUri called");var e=t||this.config.auth.redirectUri||_n.getCurrentUri();return Qt.getAbsoluteUrl(e,_n.getCurrentUri())},n.prototype.initializeServerTelemetryManager=function(t,e){this.logger.verbose("initializeServerTelemetryManager called");var i={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Bv(i,this.browserStorage)},n.prototype.getDiscoveredAuthority=function(t){return Be(this,void 0,void 0,function(){var e;return Ne(this,function(i){switch(i.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),e={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},t?(this.logger.verbose("Creating discovered authority with request authority"),[4,hp.createDiscoveredInstance(t,this.config.system.networkClient,this.browserStorage,e)]):[3,2];case 1:case 3:return[2,i.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,hp.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,e)]}})})},n}(),qc=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Hi(t,n),t.prototype.initializeAuthorizationCodeRequest=function(e){return Be(this,void 0,void 0,function(){var i,r;return Ne(this,function(s){switch(s.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return i=s.sent(),r=mt(mt({},e),{redirectUri:e.redirectUri,code:ne.EMPTY_STRING,codeVerifier:i.verifier}),e.codeChallenge=i.challenge,e.codeChallengeMethod=ne.S256_CODE_CHALLENGE_METHOD,[2,r]}})})},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);var i=mt({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),i.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",i.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",i.correlationId),i.postLogoutRedirectUri=Qt.getAbsoluteUrl(e.postLogoutRedirectUri,_n.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",i.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",i.correlationId),i.postLogoutRedirectUri=Qt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,_n.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",i.correlationId),i.postLogoutRedirectUri=Qt.getAbsoluteUrl(_n.getCurrentUri(),_n.getCurrentUri())),i},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var i=e.idTokenClaims;if(i){if(i.login_hint)return i.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,i,r){return Be(this,void 0,void 0,function(){var s;return Ne(this,function(u){switch(u.label){case 0:return[4,this.getClientConfiguration(e,i,r)];case 1:return s=u.sent(),[2,new DT(s)]}})})},t.prototype.getClientConfiguration=function(e,i,r){return Be(this,void 0,void 0,function(){var s;return Ne(this,function(u){switch(u.label){case 0:return this.logger.verbose("getClientConfiguration called",this.correlationId),[4,this.getDiscoveredAuthority(i,r)];case 1:return s=u.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:Zu,cpu:ne.EMPTY_STRING,os:ne.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},t.prototype.validateAndExtractStateFromHash=function(e,i,r){if(this.logger.verbose("validateAndExtractStateFromHash called",r),!e.state)throw Je.createHashDoesNotContainStateError();var s=tw.extractBrowserRequestState(this.browserCrypto,e.state);if(!s)throw Je.createUnableToParseStateError();if(s.interactionType!==i)throw Je.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",r),e.state},t.prototype.getDiscoveredAuthority=function(e,i){return Be(this,void 0,void 0,function(){var r,s,h;return Ne(this,function(p){switch(p.label){case 0:return this.logger.verbose("getDiscoveredAuthority called",this.correlationId),r=this.performanceClient.startMeasurement(tr.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},h=Lv.generateAuthority(e||this.config.auth.authority,i||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),[4,hp.createDiscoveredInstance(h,this.config.system.networkClient,this.browserStorage,s).then(function(v){return r.endMeasurement({success:!0}),v}).catch(function(v){throw r.endMeasurement({errorCode:v.errorCode,subErrorCode:v.subError,success:!1}),v})];case 1:return[2,p.sent()]}})})},t.prototype.initializeAuthorizationRequest=function(e,i){return Be(this,void 0,void 0,function(){var r,u,h,p,v,w;return Ne(this,function(D){switch(D.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),r=this.getRedirectUri(e.redirectUri),u=Hl.setRequestState(this.browserCrypto,e&&e.state||ne.EMPTY_STRING,{interactionType:i}),p=[{}],[4,this.initializeBaseRequest(e)];case 1:return h=mt.apply(void 0,[mt.apply(void 0,p.concat([D.sent()])),{redirectUri:r,state:u,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:Ws.FRAGMENT}]),(v=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+v.homeAccountId,this.correlationId),h.account=v),ze.isEmpty(h.loginHint)&&!v&&(w=this.browserStorage.getLegacyLoginHint())&&(h.loginHint=w),[2,h]}})})},t}(hw),jl=(()=>{return(n=jl||(jl={})).USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",n.USER_CANCEL="USER_CANCEL",n.NO_NETWORK="NO_NETWORK",n.TRANSIENT_ERROR="TRANSIENT_ERROR",n.PERSISTENT_ERROR="PERSISTENT_ERROR",n.DISABLED="DISABLED",n.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE",jl;var n})(),fp_extensionError_code="ContentError",fp_userSwitch_code="user_switch",fp_userSwitch_desc="User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again.",fp_tokensNotFoundInCache_code="tokens_not_found_in_internal_memory_cache",fp_tokensNotFoundInCache_desc="Tokens not cached in MSAL JS internal memory, please make the WAM request",qa=function(n){function t(e,i,r){var s=n.call(this,e,i)||this;return Object.setPrototypeOf(s,t.prototype),s.name="NativeAuthError",s.ext=r,s}return Hi(t,n),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==jl.PERSISTENT_ERROR&&this.ext.status!==jl.DISABLED)||this.errorCode===fp_extensionError_code},t.createError=function(e,i,r){if(r&&r.status)switch(r.status){case jl.ACCOUNT_UNAVAILABLE:return vs.createNativeAccountUnavailableError();case jl.USER_INTERACTION_REQUIRED:return new vs(e,i);case jl.USER_CANCEL:return Je.createUserCancelledError();case jl.NO_NETWORK:return Je.createNoNetworkConnectivityError()}return new t(e,i,r)},t.createUserSwitchError=function(){return new t(fp_userSwitch_code,fp_userSwitch_desc)},t.createTokensNotFoundInCacheError=function(){return new t(fp_tokensNotFoundInCache_code,fp_tokensNotFoundInCache_desc)},t}(gt),fw=function(n){function t(e){return n.call(this,e)||this}return er(t,n),t.prototype.acquireToken=function(e){return Tt(this,void 0,void 0,function(){var i,r,s;return It(this,function(u){switch(u.label){case 0:return i=zo.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return r=u.sent(),(s=new Jm(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r.body),[2,s.handleServerTokenResponse(r.body,this.authority,i,e,void 0,void 0,!0,e.forceCache)]}})})},t.prototype.acquireTokenByRefreshToken=function(e){return Tt(this,void 0,void 0,function(){var s;return It(this,function(u){if(!e)throw Nn.createEmptyTokenRequestError();if(!e.account)throw ct.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(h){if(s=h instanceof Ku&&"invalid_grant"===h.errorCode&&"client_mismatch"===h.subError,h instanceof vs&&h.errorCode===mh_noTokensFoundError_code||s)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw h}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(e,i){return Tt(this,void 0,void 0,function(){var r,s;return It(this,function(u){if(!(r=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,i)))throw vs.createNoTokensFoundError();return s=Tn(Tn({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||te.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ei.HOME_ACCOUNT_ID}}),[2,this.acquireToken(s)]})})},t.prototype.executeTokenRequest=function(e,i){return Tt(this,void 0,void 0,function(){var r,s,u,h,p;return It(this,function(v){switch(v.label){case 0:return[4,this.createTokenRequestBody(e)];case 1:return r=v.sent(),s=this.createTokenQueryParameters(e),u=this.createTokenRequestHeaders(e.ccsCredential),h={clientId:this.config.authOptions.clientId,authority:i.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},p=Qt.appendQueryString(i.tokenEndpoint,s),[2,this.executePostToTokenEndpoint(p,r,u,h)]}})})},t.prototype.createTokenQueryParameters=function(e){var i=new Yc;return e.tokenQueryParameters&&i.addExtraQueryParameters(e.tokenQueryParameters),i.createQueryString()},t.prototype.createTokenRequestBody=function(e){return Tt(this,void 0,void 0,function(){var i,r,s,h,p;return It(this,function(v){switch(v.label){case 0:return(i=new Yc).addClientId(this.config.authOptions.clientId),i.addScopes(e.scopes),i.addGrantType(dr.REFRESH_TOKEN_GRANT),i.addClientInfo(),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&i.addServerTelemetry(this.serverTelemetryManager),r=e.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(r),i.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(i.addClientAssertion((s=this.config.clientCredentials.clientAssertion).assertion),i.addClientAssertionType(s.assertionType)),e.authenticationScheme!==te.POP?[3,2]:[4,new yh(this.cryptoUtils).generateCnf(e)];case 1:return h=v.sent(),i.addPopToken(h.reqCnfString),[3,3];case 2:if(e.authenticationScheme===te.SSH){if(!e.sshJwk)throw Nn.createMissingSshJwkError();i.addSshJwk(e.sshJwk)}v.label=3;case 3:if((!ze.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ei.HOME_ACCOUNT_ID:try{p=gh(e.ccsCredential.credential),i.addCcsOid(p)}catch(w){this.logger.verbose("Could not parse home account ID for CCS Header: "+w)}break;case Ei.UPN:i.addCcsUpn(e.ccsCredential.credential)}return[2,i.createQueryString()]}})})},t}(Ju),kT=function(n){function t(e){return n.call(this,e)||this}return er(t,n),t.prototype.acquireToken=function(e){return Tt(this,void 0,void 0,function(){var i;return It(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,s.sent()];case 2:if((i=s.sent())instanceof ct&&i.errorCode===Ue_tokenRefreshRequired_code)return[2,new fw(this.config).acquireTokenByRefreshToken(e)];throw i;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(e){var i,r,s,u;return Tt(this,void 0,void 0,function(){var h,p;return It(this,function(v){switch(v.label){case 0:if(!e)throw Nn.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(wn.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),ct.createRefreshRequiredError();if(!e.account)throw ct.createNoAccountInSilentRequestError();if(h=e.authority||this.authority.getPreferredCache(),!(p=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,h)).accessToken)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(wn.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),ct.createRefreshRequiredError();if(zo.wasClockTurnedBack(p.accessToken.cachedAt)||zo.isTokenExpired(p.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(wn.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),ct.createRefreshRequiredError();if(p.accessToken.refreshOn&&zo.isTokenExpired(p.accessToken.refreshOn,0))throw null===(u=this.serverTelemetryManager)||void 0===u||u.setCacheOutcome(wn.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),ct.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(p,e)];case 1:return[2,v.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(e,i){return Tt(this,void 0,void 0,function(){var r;return It(this,function(s){switch(s.label){case 0:return e.idToken&&(r=new Ul(e.idToken.secret,this.config.cryptoInterface)),[4,Jm.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,i,r)];case 1:return[2,s.sent()]}})})},t}(Ju),pw=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Hi(t,n),t.prototype.acquireToken=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h;return Ne(this,function(p){switch(p.label){case 0:return i=this.performanceClient.startMeasurement(tr.SilentCacheClientAcquireToken,e.correlationId),r=this.initializeServerTelemetryManager(cn.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(r,e.authority,e.azureCloudOptions)];case 1:s=p.sent(),this.logger.verbose("Silent auth client created"),p.label=2;case 2:return p.trys.push([2,4,,5]),[4,s.acquireCachedToken(e)];case 3:return u=p.sent(),i.endMeasurement({success:!0,fromCache:!0}),[2,u];case 4:throw(h=p.sent())instanceof Je&&h.errorCode===Fe_signingKeyNotFoundInStorage_code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i.endMeasurement({errorCode:h instanceof gt&&h.errorCode||void 0,subErrorCode:h instanceof gt&&h.subError||void 0,success:!1}),h;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(Je.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,i,r){return Be(this,void 0,void 0,function(){var s;return Ne(this,function(u){switch(u.label){case 0:return[4,this.getClientConfiguration(e,i,r)];case 1:return s=u.sent(),[2,new kT(s)]}})})},t.prototype.initializeSilentRequest=function(e,i){return Be(this,void 0,void 0,function(){var r;return Ne(this,function(s){switch(s.label){case 0:return r=[mt({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,mt.apply(void 0,[mt.apply(void 0,r.concat([s.sent()])),{account:i,forceRefresh:e.forceRefresh||!1}])]}})})},t}(qc),Gl=function(n){function t(e,i,r,s,u,h,p,v,w,D,k,P){var U=n.call(this,e,i,r,s,u,h,v,w,P)||this;return U.apiId=p,U.accountId=D,U.nativeMessageHandler=w,U.nativeStorageManager=k,U.silentCacheClient=new pw(e,U.nativeStorageManager,r,s,u,h,v,w,P),U}return Hi(t,n),t.prototype.acquireToken=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,p,v;return Ne(this,function(w){switch(w.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),i=this.performanceClient.startMeasurement(tr.NativeInteractionClientAcquireToken,e.correlationId),r=zo.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:s=w.sent(),w.label=2;case 2:return w.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,s)];case 3:return u=w.sent(),i.endMeasurement({success:!0,isNativeBroker:!0,fromCache:!0}),[2,u];case 4:return w.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return[4,this.nativeMessageHandler.sendMessage({method:ei.GetToken,request:s})];case 6:return p=w.sent(),v=this.validateNativeResponse(p),[2,this.handleNativeResponse(v,s,r).then(function(D){return i.endMeasurement({success:!0,isNativeBroker:!0}),D}).catch(function(D){throw i.endMeasurement({success:!1,errorCode:D.errorCode,subErrorCode:D.subError,isNativeBroker:!0}),D})]}})})},t.prototype.createSilentCacheRequest=function(e,i){return{authority:e.authority,correlationId:this.correlationId,scopes:Vr.fromString(e.scopes).asArray(),account:i,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,i){return Be(this,void 0,void 0,function(){var r,s,u;return Ne(this,function(v){switch(v.label){case 0:if(!(r=this.browserStorage.readAccountFromCacheWithNativeAccountId(e)))throw ct.createNoAccountFoundError();s=r.getAccountInfo(),v.label=1;case 1:return v.trys.push([1,3,,4]),u=this.createSilentCacheRequest(i,s),[4,this.silentCacheClient.acquireToken(u)];case 2:return[2,v.sent()];case 3:throw v.sent();case 4:return[2]}})})},t.prototype.acquireTokenRedirect=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h,p;return Ne(this,function(v){switch(v.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:i=v.sent(),r={method:ei.GetToken,request:i},v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(r)];case 3:return s=v.sent(),this.validateNativeResponse(s),[3,5];case 4:if((u=v.sent())instanceof qa&&u.isFatal())throw u;return[3,5];case 5:return this.browserStorage.setTemporaryCache(qt.NATIVE_REQUEST,JSON.stringify(i),!0),h={apiId:cn.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(p,h)];case 6:return v.sent(),[2]}})})},t.prototype.handleRedirectPromise=function(){return Be(this,void 0,void 0,function(){var e,i,r,s,u,h;return Ne(this,function(p){switch(p.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];this.browserStorage.removeItem(this.browserStorage.generateCacheKey(qt.NATIVE_REQUEST)),i={method:ei.GetToken,request:e},r=zo.nowSeconds(),p.label=1;case 1:return p.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(i)];case 2:return s=p.sent(),this.validateNativeResponse(s),u=this.handleNativeResponse(s,e,r),this.browserStorage.setInteractionInProgress(!1),[2,u];case 3:throw h=p.sent(),this.browserStorage.setInteractionInProgress(!1),h;case 4:return[2]}})})},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,i,r){return Be(this,void 0,void 0,function(){var s,u,h,p,v,w,D,k,P,U,j,Ee,Ve,Ke,tt,Xt,pn,Gn,zn,es=this;return Ne(this,function(Is){switch(Is.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==i.accountId)throw qa.createUserSwitchError();return s=new Ul(e.id_token||ne.EMPTY_STRING,this.browserCrypto),[4,this.getDiscoveredAuthority(i.authority)];case 1:return u=Is.sent(),h=u.getPreferredCache(),p=lo.generateHomeAccountId(e.client_info||ne.EMPTY_STRING,Ya.Default,this.logger,this.browserCrypto,s),v=lo.createAccount(e.client_info,p,s,void 0,void 0,void 0,h,e.account.id),this.browserStorage.setAccount(v),w=Vr.fromString(e.scopes?e.scopes:i.scopes),k=(D=e.account.properties||{}).UID||s.claims.oid||s.claims.sub||ne.EMPTY_STRING,P=D.TenantId||s.claims.tid||ne.EMPTY_STRING,j=te.BEARER,i.tokenType===te.POP?[3,2]:[3,4];case 2:if(j=te.POP,e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),U=e.shr,[3,5];if(Ee=new yh(this.browserCrypto),Ve={resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,shrNonce:i.shrNonce},!i.keyId)throw ct.createKeyIdMissingError();return[4,Ee.signPopToken(e.access_token,i.keyId,Ve)];case 3:return U=Is.sent(),[3,5];case 4:U=e.access_token,Is.label=5;case 5:return Ke=this.getMATSFromResponse(e),tt={authority:u.canonicalAuthority,uniqueId:k,tenantId:P,scopes:w.asArray(),account:v.getAccountInfo(),idToken:e.id_token,idTokenClaims:s.claims,accessToken:U,fromCache:!!Ke&&this.isResponseFromCache(Ke),expiresOn:new Date(1e3*Number(r+e.expires_in)),tokenType:j,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0},Xt=cp.createIdTokenEntity(p,i.authority,e.id_token||ne.EMPTY_STRING,i.clientId,s.claims.tid||ne.EMPTY_STRING),this.nativeStorageManager.setIdTokenCredential(Xt),pn=j===te.POP?ne.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,Gn=r+pn,zn=up.createAccessTokenEntity(p,i.authority,U,i.clientId,P,w.printScopes(),Gn,0,this.browserCrypto),this.nativeStorageManager.setAccessTokenCredential(zn),this.browserStorage.removeAccountContext(v).catch(function(gD){es.logger.error("Error occurred while removing account context from browser storage. "+gD)}),[2,tt]}})})},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expires_in"))return e;throw qa.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return Be(this,void 0,void 0,function(){var r,u,h,p,v,D,k=this;return Ne(this,function(P){switch(P.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),(r=new Qt(e.authority||this.config.auth.authority)).validateAsUri(),(u=new Vr(e&&e.scopes||[])).appendScopes(kc),h=function(){switch(k.apiId){case cn.ssoSilent:case cn.acquireTokenSilent_silentFlow:return k.logger.trace("initializeNativeRequest: silent request sets prompt to none"),wi.NONE}if(e.prompt)switch(e.prompt){case wi.NONE:case wi.CONSENT:case wi.LOGIN:return k.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw k.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),Je.createNativePromptParameterNotSupportedError()}else k.logger.trace("initializeNativeRequest: prompt was not provided")},p=mt(mt({},e),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scopes:u.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:h(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:mt(mt(mt({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:"MATS"}),extendedExpiryToken:!1}),e.authenticationScheme!==te.POP?[3,2]:(v={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new yh(this.browserCrypto).generateCnf(v)]);case 1:D=P.sent(),p.reqCnf=D.reqCnfHash,p.keyId=D.kid,P.label=2;case 2:return[2,p]}})})},t}(hw),Yo=function(){function n(t,e,i){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this)}return n.prototype.sendMessage=function(t){return Be(this,void 0,void 0,function(){var e,i=this;return Ne(this,function(r){return this.logger.trace("NativeMessageHandler - sendMessage called."),e={channel:So_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:t},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(e)),this.messageChannel.port1.postMessage(e),[2,new Promise(function(s,u){i.resolvers.set(e.responseId,{resolve:s,reject:u})})]})})},n.createProvider=function(t,e){return Be(this,void 0,void 0,function(){var i,r;return Ne(this,function(s){switch(s.label){case 0:t.trace("NativeMessageHandler - createProvider called."),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,(i=new n(t,e,"ppnbnpeolgkicgegkbkbjmhlideopiji")).sendHandshakeRequest()];case 2:return s.sent(),[2,i];case 3:return s.sent(),[4,(r=new n(t,e)).sendHandshakeRequest()];case 4:return s.sent(),[2,r];case 5:return[2]}})})},n.prototype.sendHandshakeRequest=function(){return Be(this,void 0,void 0,function(){var t,e=this;return Ne(this,function(i){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),t={channel:So_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:ei.HandshakeRequest}},this.messageChannel.port1.onmessage=function(r){e.onChannelMessage(r)},window.postMessage(t,window.origin,[this.messageChannel.port2]),[2,new Promise(function(r,s){e.handshakeResolvers.set(t.responseId,{resolve:r,reject:s}),e.timeoutId=window.setTimeout(function(){window.removeEventListener("message",e.windowListener,!1),e.messageChannel.port1.close(),e.messageChannel.port2.close(),s(Je.createNativeHandshakeTimeoutError()),e.handshakeResolvers.delete(t.responseId)},e.handshakeTimeoutMs)})]})})},n.prototype.onWindowMessage=function(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source===window){var e=t.data;if(e.channel&&e.channel===So_CHANNEL_ID&&(!e.extensionId||e.extensionId===this.extensionId)&&e.body.method===ei.HandshakeRequest){this.logger.verbose(e.extensionId?"Extension with id: "+e.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var i=this.handshakeResolvers.get(e.responseId);i&&i.reject(Je.createNativeExtensionNotInstalledError())}}},n.prototype.onChannelMessage=function(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var e=t.data,i=this.resolvers.get(e.responseId),r=this.handshakeResolvers.get(e.responseId);try{var s=e.body.method;if(s===ei.Response){if(!i)return;var u=e.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(u)),"Success"!==u.status)i.reject(qa.createError(u.code,u.description,u.ext));else{if(!u.result)throw gt.createUnexpectedError("Event does not contain result.");u.result.code&&u.result.description?i.reject(qa.createError(u.result.code,u.result.description,u.result.ext)):i.resolve(u.result)}this.resolvers.delete(e.responseId)}else if(s===ei.HandshakeResponse){if(!r)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),r.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(h){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+h.toString()),this.logger.errorPii("Unable to parse "+t),i?i.reject(h):r&&r.reject(h)}},n.isNativeAvailable=function(t,e,i,r){if(e.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return e.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!i)return e.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case te.BEARER:case te.POP:return e.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},n}(),mw=function(){function n(t,e,i,r){this.authModule=t,this.browserStorage=e,this.authCodeRequest=i,this.logger=r}return n.prototype.handleCodeResponseFromHash=function(t,e,i,r){return Be(this,void 0,void 0,function(){var s,u,h;return Ne(this,function(p){if(this.logger.verbose("InteractionHandler.handleCodeResponse called"),ze.isEmpty(t))throw Je.createEmptyHashError(t);if(s=this.browserStorage.generateStateKey(e),!(u=this.browserStorage.getTemporaryCache(s)))throw ct.createStateNotFoundError("Cached State");try{h=this.authModule.handleFragmentResponse(t,u)}catch(v){throw v instanceof Ku&&v.subError===Fe_userCancelledError_code?Je.createUserCancelledError():v}return[2,this.handleCodeResponseFromServer(h,e,i,r)]})})},n.prototype.handleCodeResponseFromServer=function(t,e,i,r,s){return void 0===s&&(s=!0),Be(this,void 0,void 0,function(){var u,h,p,v,w,D;return Ne(this,function(k){switch(k.label){case 0:if(this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),u=this.browserStorage.generateStateKey(e),!(h=this.browserStorage.getTemporaryCache(u)))throw ct.createStateNotFoundError("Cached State");return p=this.browserStorage.generateNonceKey(h),v=this.browserStorage.getTemporaryCache(p),this.authCodeRequest.code=t.code,t.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(t.cloud_instance_host_name,i,r)]:[3,2];case 1:k.sent(),k.label=2;case 2:return s&&(t.nonce=v||void 0),t.state=h,t.client_info?this.authCodeRequest.clientInfo=t.client_info:(w=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=w),[4,this.authModule.acquireToken(this.authCodeRequest,t)];case 3:return D=k.sent(),this.browserStorage.cleanRequestByState(e),[2,D]}})})},n.prototype.updateTokenEndpointAuthority=function(t,e,i){return Be(this,void 0,void 0,function(){var s;return Ne(this,function(u){switch(u.label){case 0:return[4,hp.createDiscoveredInstance("https://"+t+"/"+e.tenant+"/",i,this.browserStorage,e.options)];case 1:return s=u.sent(),this.authModule.updateAuthority(s),[2]}})})},n.prototype.checkCcsCredentials=function(){var t=this.browserStorage.getTemporaryCache(qt.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+t)}return null},n}(),pp=function(n){function t(e,i,r,s,u,h,p,v,w,D){var k=n.call(this,e,i,r,s,u,h,p,w,D)||this;return k.unloadWindow=k.unloadWindow.bind(k),k.nativeStorage=v,k}return Hi(t,n),t.prototype.acquireToken=function(e){try{var i=this.generatePopupName(e.scopes||kc,e.authority||this.config.auth.authority),r=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,r);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var s=this.openSizedPopup("about:blank",i,r);return this.acquireTokenPopupAsync(e,i,r,s)}catch(u){return Promise.reject(u)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var i=this.initializeLogoutRequest(e),r=this.generateLogoutPopupName(i),s=e&&e.authority,u=e&&e.mainWindowRedirectUri,h=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(i,r,h,s,void 0,u);this.logger.verbose("asyncPopup set to false, opening popup");var p=this.openSizedPopup("about:blank",r,h);return this.logoutPopupAsync(i,r,h,s,p,u)}catch(v){return Promise.reject(v)}},t.prototype.acquireTokenPopupAsync=function(e,i,r,s){return Be(this,void 0,void 0,function(){var u,h,p,v,w,D,k,P,j,ae,Ee,Ve,Ke,tt,pn,Gn=this;return Ne(this,function(zn){switch(zn.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),u=this.initializeServerTelemetryManager(cn.acquireTokenPopup),[4,this.initializeAuthorizationRequest(e,Qe.Popup)];case 1:h=zn.sent(),this.browserStorage.updateCacheEntries(h.state,h.nonce,h.authority,h.loginHint||ne.EMPTY_STRING,h.account||null),zn.label=2;case 2:return zn.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(h)];case 3:return p=zn.sent(),[4,this.createAuthCodeClient(u,h.authority,h.azureCloudOptions)];case 4:return v=zn.sent(),this.logger.verbose("Auth code client created"),w=Yo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),D=void 0,w&&(D=this.performanceClient.startMeasurement(tr.FetchAccountIdWithNativeBroker,e.correlationId)),[4,v.getAuthCodeUrl(mt(mt({},h),{nativeBroker:w}))];case 5:return k=zn.sent(),P=new mw(v,this.browserStorage,p,this.logger),j=this.initiateAuthRequest(k,{popup:s,popupName:i,popupWindowAttributes:r}),this.eventHandler.emitEvent(pt.POPUP_OPENED,Qe.Popup,{popupWindow:j},null),[4,this.monitorPopupForHash(j)];case 6:if(ae=zn.sent(),Ee=Qt.getDeserializedHash(ae),Ve=this.validateAndExtractStateFromHash(Ee,Qe.Popup,h.correlationId),Qu.removeThrottle(this.browserStorage,this.config.auth.clientId,p),Ee.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),D&&D.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Je.createNativeConnectionNotEstablishedError();return Ke=new Gl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,Ee.accountId,this.nativeStorage,h.correlationId),tt=Hl.parseRequestState(this.browserCrypto,Ve).userRequestState,[2,Ke.acquireToken(mt(mt({},h),{state:tt,prompt:void 0})).finally(function(){Gn.browserStorage.cleanRequestByState(Ve)})]}return[4,P.handleCodeResponseFromHash(ae,Ve,v.authority,this.networkClient)];case 7:return[2,zn.sent()];case 8:throw pn=zn.sent(),s&&s.close(),pn instanceof gt&&pn.setCorrelationId(this.correlationId),u.cacheFailedRequest(pn),this.browserStorage.cleanRequestByState(h.state),pn;case 9:return[2]}})})},t.prototype.logoutPopupAsync=function(e,i,r,s,u,h){return Be(this,void 0,void 0,function(){var p,v,w,D,k,P,U;return Ne(this,function(j){switch(j.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(pt.LOGOUT_START,Qe.Popup,e),p=this.initializeServerTelemetryManager(cn.logoutPopup),j.label=1;case 1:return j.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return j.sent(),[4,this.createAuthCodeClient(p,s)];case 3:return v=j.sent(),this.logger.verbose("Auth code client created"),w=v.getLogoutUri(e),this.eventHandler.emitEvent(pt.LOGOUT_SUCCESS,Qe.Popup,e),D=this.openPopup(w,{popupName:i,popupWindowAttributes:r,popup:u}),this.eventHandler.emitEvent(pt.POPUP_OPENED,Qe.Popup,{popupWindow:D},null),[4,this.waitForLogoutPopup(D)];case 4:return j.sent(),h?(k={apiId:cn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},P=Qt.getAbsoluteUrl(h,_n.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+P),this.navigationClient.navigateInternal(P,k)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw U=j.sent(),u&&u.close(),U instanceof gt&&U.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(pt.LOGOUT_FAILURE,Qe.Popup,null,U),this.eventHandler.emitEvent(pt.LOGOUT_END,Qe.Popup),p.cacheFailedRequest(U),U;case 6:return this.eventHandler.emitEvent(pt.LOGOUT_END,Qe.Popup),[2]}})})},t.prototype.initiateAuthRequest=function(e,i){if(ze.isEmpty(e))throw this.logger.error("Navigate url is empty"),Je.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,i)},t.prototype.monitorPopupForHash=function(e){var i=this;return new Promise(function(r,s){var u=i.config.system.windowHashTimeout/50,h=0;i.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var p=setInterval(function(){if(e.closed)return i.logger.error("PopupHandler.monitorPopupForHash - window closed"),i.cleanPopup(),clearInterval(p),void s(Je.createUserCancelledError());var v=ne.EMPTY_STRING,w=ne.EMPTY_STRING;try{v=e.location.href,w=e.location.hash}catch{}ze.isEmpty(v)||"about:blank"===v||(i.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),h++,w?(i.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(p),i.cleanPopup(e),Qt.hashContainsKnownProperties(w)?(i.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),r(w)):(i.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),i.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+w),s(Je.createHashDoesNotContainKnownPropertiesError()))):h>u&&(i.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(p),s(Je.createMonitorPopupTimeoutError())))},50)})},t.prototype.waitForLogoutPopup=function(e){var i=this;return new Promise(function(r){i.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var s=setInterval(function(){e.closed&&(i.logger.error("PopupHandler.waitForLogoutPopup - window closed"),i.cleanPopup(),clearInterval(s),r());var u=ne.EMPTY_STRING;try{u=e.location.href}catch{}ze.isEmpty(u)||"about:blank"===u||(i.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(s),i.cleanPopup(e),r())},50)})},t.prototype.openPopup=function(e,i){try{var r=void 0;if(i.popup?(r=i.popup,this.logger.verbosePii("Navigating popup window to: "+e),r.location.assign(e)):typeof i.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+e),r=this.openSizedPopup(e,i.popupName,i.popupWindowAttributes)),!r)throw Je.createEmptyWindowCreatedError();return r.focus&&r.focus(),this.currentWindow=r,window.addEventListener("beforeunload",this.unloadWindow),r}catch(s){throw this.logger.error("error opening popup "+s.message),this.browserStorage.setInteractionInProgress(!1),Je.createPopupWindowError(s.toString())}},t.prototype.openSizedPopup=function(e,i,r){var s,u,h,p,v=window.screenLeft?window.screenLeft:window.screenX,w=window.screenTop?window.screenTop:window.screenY,D=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,k=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,P=null===(s=r.popupSize)||void 0===s?void 0:s.width,U=null===(u=r.popupSize)||void 0===u?void 0:u.height,j=null===(h=r.popupPosition)||void 0===h?void 0:h.top,ae=null===(p=r.popupPosition)||void 0===p?void 0:p.left;return(!P||P<0||P>D)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),P=483),(!U||U<0||U>k)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),U=600),(!j||j<0||j>k)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),j=Math.max(0,k/2-300+w)),(!ae||ae<0||ae>D)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),ae=Math.max(0,D/2-241.5+v)),window.open(e,i,"width="+P+", height="+U+", top="+j+", left="+ae+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(Qe.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,i){return"msal."+this.config.auth.clientId+"."+e.join("-")+"."+i+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){return"msal."+this.config.auth.clientId+"."+(e.account&&e.account.homeAccountId)+"."+this.correlationId},t}(qc),gw=function(n){function t(e,i,r,s,u){var h=n.call(this,e,i,r,s)||this;return h.browserCrypto=u,h}return Hi(t,n),t.prototype.initiateAuthRequest=function(e,i){return Be(this,void 0,void 0,function(){var r;return Ne(this,function(u){switch(u.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),ze.isEmpty(e)?[3,7]:(i.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(qt.ORIGIN_URI,i.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(qt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),r={apiId:cn.acquireTokenRedirect,timeout:i.redirectTimeout,noHistory:!1},"function"!=typeof i.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===i.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,i.navigationClient.navigateExternal(e,r)])));case 1:case 5:return u.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,i.navigationClient.navigateExternal(e,r)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Je.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponseFromHash=function(e,i,r,s){return Be(this,void 0,void 0,function(){var u,h,p,v,w,D,k;return Ne(this,function(P){switch(P.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),ze.isEmpty(e))throw Je.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),u=this.browserStorage.generateStateKey(i),!(h=this.browserStorage.getTemporaryCache(u)))throw ct.createStateNotFoundError("Cached State");try{p=this.authModule.handleFragmentResponse(e,h)}catch(U){throw U instanceof Ku&&U.subError===Fe_userCancelledError_code?Je.createUserCancelledError():U}return v=this.browserStorage.generateNonceKey(h),w=this.browserStorage.getTemporaryCache(v),this.authCodeRequest.code=p.code,p.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(p.cloud_instance_host_name,r,s)]:[3,2];case 1:P.sent(),P.label=2;case 2:return p.nonce=w||void 0,p.state=h,p.client_info?this.authCodeRequest.clientInfo=p.client_info:(D=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=D),[4,this.authModule.acquireToken(this.authCodeRequest,p)];case 3:return k=P.sent(),this.browserStorage.cleanRequestByState(i),[2,k]}})})},t}(mw),RT=function(n){function t(e,i,r,s,u,h,p,v,w,D){var k=n.call(this,e,i,r,s,u,h,p,w,D)||this;return k.nativeStorage=v,k}return Hi(t,n),t.prototype.acquireToken=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h,p,v,w,D,k=this;return Ne(this,function(P){switch(P.label){case 0:return[4,this.initializeAuthorizationRequest(e,Qe.Redirect)];case 1:i=P.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||ne.EMPTY_STRING,i.account||null),r=this.initializeServerTelemetryManager(cn.acquireTokenRedirect),s=function(U){U.persisted&&(k.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),k.browserStorage.cleanRequestByState(i.state))},P.label=2;case 2:return P.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(i)];case 3:return u=P.sent(),[4,this.createAuthCodeClient(r,i.authority,i.azureCloudOptions)];case 4:return h=P.sent(),this.logger.verbose("Auth code client created"),p=new gw(h,this.browserStorage,u,this.logger,this.browserCrypto),[4,h.getAuthCodeUrl(mt(mt({},i),{nativeBroker:Yo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return v=P.sent(),w=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+w),window.addEventListener("pageshow",s),[4,p.initiateAuthRequest(v,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:w,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,P.sent()];case 7:throw(D=P.sent())instanceof gt&&D.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",s),r.cacheFailedRequest(D),this.browserStorage.cleanRequestByState(i.state),D;case 8:return[2]}})})},t.prototype.handleRedirectPromise=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h,p,v,w,D,k,P,U;return Ne(this,function(j){switch(j.label){case 0:i=this.initializeServerTelemetryManager(cn.handleRedirectPromise),j.label=1;case 1:if(j.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(r=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(Qe.Redirect),[2,null];s=void 0;try{u=Qt.getDeserializedHash(r),s=this.validateAndExtractStateFromHash(u,Qe.Redirect),this.logger.verbose("State extracted from hash")}catch(ae){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+ae),this.browserStorage.cleanRequestByInteractionType(Qe.Redirect),[2,null]}return h=this.browserStorage.getTemporaryCache(qt.ORIGIN_URI,!0)||ne.EMPTY_STRING,p=Qt.removeHashFromUrl(h),v=Qt.removeHashFromUrl(window.location.href),p===v&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(r,s,i)]):[3,3];case 2:return w=j.sent(),h.indexOf("#")>-1&&_n.replaceHash(h),[2,w];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(r,s,i)]);case 4:return!_n.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(qt.URL_HASH,r,!0),D={apiId:cn.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},k=!0,h&&"null"!==h?[3,6]:(P=_n.getHomepage(),this.browserStorage.setTemporaryCache(qt.ORIGIN_URI,P,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(P,D)])):[3,9];case 5:return k=j.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+h),[4,this.navigationClient.navigateInternal(h,D)];case 7:k=j.sent(),j.label=8;case 8:if(!k)return[2,this.handleHash(r,s,i)];j.label=9;case 9:return[2,null];case 10:throw(U=j.sent())instanceof gt&&U.setCorrelationId(this.correlationId),i.cacheFailedRequest(U),this.browserStorage.cleanRequestByInteractionType(Qe.Redirect),U;case 11:return[2]}})})},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),Qt.hashContainsKnownProperties(e))return _n.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var r=this.browserStorage.getTemporaryCache(qt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(qt.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),r},t.prototype.handleHash=function(e,i,r){return Be(this,void 0,void 0,function(){var s,u,h,p,v,w,k=this;return Ne(this,function(P){switch(P.label){case 0:if(s=this.browserStorage.getCachedRequest(i,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(u=Qt.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Je.createNativeConnectionNotEstablishedError();return h=new Gl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,s.correlationId),p=Hl.parseRequestState(this.browserCrypto,i).userRequestState,[2,h.acquireToken(mt(mt({},s),{state:p,prompt:void 0})).finally(function(){k.browserStorage.cleanRequestByState(i)})]}if(!(v=this.browserStorage.getCachedAuthority(i)))throw Je.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(r,v)];case 1:return w=P.sent(),this.logger.verbose("Auth code client created"),Qu.removeThrottle(this.browserStorage,this.config.auth.clientId,s),[4,new gw(w,this.browserStorage,s,this.logger,this.browserCrypto).handleCodeResponseFromHash(e,i,w.authority,this.networkClient)];case 2:return[2,P.sent()]}})})},t.prototype.logout=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h,v;return Ne(this,function(w){switch(w.label){case 0:this.logger.verbose("logoutRedirect called"),i=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(cn.logout),w.label=1;case 1:return w.trys.push([1,10,,11]),this.eventHandler.emitEvent(pt.LOGOUT_START,Qe.Redirect,e),[4,this.clearCacheOnLogout(i.account)];case 2:return w.sent(),s={apiId:cn.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(r,e&&e.authority)];case 3:return u=w.sent(),this.logger.verbose("Auth code client created"),h=u.getLogoutUri(i),this.eventHandler.emitEvent(pt.LOGOUT_SUCCESS,Qe.Redirect,i),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(h)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(h,s)]):[3,7];case 4:return w.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),w.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(h,s)];case 8:return w.sent(),[2];case 9:return[3,11];case 10:throw(v=w.sent())instanceof gt&&v.setCorrelationId(this.correlationId),r.cacheFailedRequest(v),this.eventHandler.emitEvent(pt.LOGOUT_FAILURE,Qe.Redirect,null,v),this.eventHandler.emitEvent(pt.LOGOUT_END,Qe.Redirect),v;case 11:return this.eventHandler.emitEvent(pt.LOGOUT_END,Qe.Redirect),[2]}})})},t.prototype.getRedirectStartPage=function(e){var i=e||window.location.href;return Qt.getAbsoluteUrl(i,_n.getCurrentUri())},t}(qc),Xm=function(n){function t(e,i,r,s,u){var h=n.call(this,e,i,r,s)||this;return h.navigateFrameWait=u,h}return Hi(t,n),t.prototype.initiateAuthRequest=function(e){return Be(this,void 0,void 0,function(){var i;return Ne(this,function(r){switch(r.label){case 0:if(ze.isEmpty(e))throw this.logger.info("Navigate url is empty"),Je.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return i=r.sent(),[3,3];case 2:i=this.loadFrameSync(e),r.label=3;case 3:return[2,i]}})})},t.prototype.monitorIframeForHash=function(e,i){var r=this;return new Promise(function(s,u){i<6e3&&r.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+i+"ms) than the default (6000ms). This may result in timeouts.");var p=window.performance.now()+i,v=setInterval(function(){if(window.performance.now()>p)return r.removeHiddenIframe(e),clearInterval(v),void u(Je.createMonitorIframeTimeoutError());var w=ne.EMPTY_STRING,D=e.contentWindow;try{w=D?D.location.href:ne.EMPTY_STRING}catch{}if(!ze.isEmpty(w)){var k=D?D.location.hash:ne.EMPTY_STRING;if(Qt.hashContainsKnownProperties(k))return r.removeHiddenIframe(e),clearInterval(v),void s(k)}},50)})},t.prototype.loadFrame=function(e){var i=this;return new Promise(function(r,s){var u=i.createHiddenIframe();setTimeout(function(){u?(u.src=e,r(u)):s("Unable to load iframe")},i.navigateFrameWait)})},t.prototype.loadFrameSync=function(e){var i=this.createHiddenIframe();return i.src=e,i},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(mw),xT=function(n){function t(e,i,r,s,u,h,p,v,w,D,k){var P=n.call(this,e,i,r,s,u,h,v,D,k)||this;return P.apiId=p,P.nativeStorage=w,P}return Hi(t,n),t.prototype.acquireToken=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h;return Ne(this,function(p){switch(p.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),i=this.performanceClient.startMeasurement(tr.SilentIframeClientAcquireToken,e.correlationId),ze.isEmpty(e.loginHint)&&ze.isEmpty(e.sid)&&(!e.account||ze.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==wi.NONE)throw i.endMeasurement({success:!1}),Je.createSilentPromptValueError(e.prompt);return[4,this.initializeAuthorizationRequest(mt(mt({},e),{prompt:wi.NONE}),Qe.Silent)];case 1:r=p.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||ne.EMPTY_STRING,r.account||null),s=this.initializeServerTelemetryManager(this.apiId),p.label=2;case 2:return p.trys.push([2,5,,6]),[4,this.createAuthCodeClient(s,r.authority,r.azureCloudOptions)];case 3:return u=p.sent(),this.logger.verbose("Auth code client created"),[4,this.silentTokenHelper(u,r).then(function(v){return i.endMeasurement({success:!0,fromCache:!1}),v})];case 4:return[2,p.sent()];case 5:throw(h=p.sent())instanceof gt&&h.setCorrelationId(this.correlationId),s.cacheFailedRequest(h),this.browserStorage.cleanRequestByState(r.state),i.endMeasurement({errorCode:h instanceof gt&&h.errorCode||void 0,subErrorCode:h instanceof gt&&h.subError||void 0,success:!1}),h;case 6:return[2]}})})},t.prototype.logout=function(){return Promise.reject(Je.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,i){return Be(this,void 0,void 0,function(){var r,s,u,h,p,v,w,D,k,P=this;return Ne(this,function(U){switch(U.label){case 0:return[4,this.initializeAuthorizationCodeRequest(i)];case 1:return r=U.sent(),[4,e.getAuthCodeUrl(mt(mt({},i),{nativeBroker:Yo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,i.authenticationScheme)}))];case 2:return s=U.sent(),[4,(u=new Xm(e,this.browserStorage,r,this.logger,this.config.system.navigateFrameWait)).initiateAuthRequest(s)];case 3:return h=U.sent(),[4,u.monitorIframeForHash(h,this.config.system.iframeHashTimeout)];case 4:if(p=U.sent(),v=Qt.getDeserializedHash(p),w=this.validateAndExtractStateFromHash(v,Qe.Silent,r.correlationId),v.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Je.createNativeConnectionNotEstablishedError();return D=new Gl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,v.accountId,this.browserStorage,this.correlationId),k=Hl.parseRequestState(this.browserCrypto,w).userRequestState,[2,D.acquireToken(mt(mt({},i),{state:k,prompt:wi.NONE})).finally(function(){P.browserStorage.cleanRequestByState(w)})]}return[2,u.handleCodeResponseFromHash(p,w,e.authority,this.networkClient)]}})})},t}(qc),$a=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Hi(t,n),t.prototype.acquireToken=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h,p=this;return Ne(this,function(v){switch(v.label){case 0:return r=[mt({},e)],[4,this.initializeBaseRequest(e)];case 1:return i=mt.apply(void 0,r.concat([v.sent()])),s=this.performanceClient.startMeasurement(tr.SilentRefreshClientAcquireToken,i.correlationId),u=this.initializeServerTelemetryManager(cn.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(u,i.authority,i.azureCloudOptions)];case 2:return h=v.sent(),this.logger.verbose("Refresh token client created"),[2,h.acquireTokenByRefreshToken(i).then(function(w){return s.endMeasurement({success:!0,fromCache:w.fromCache}),w}).catch(function(w){throw w instanceof gt&&w.setCorrelationId(p.correlationId),u.cacheFailedRequest(w),s.endMeasurement({errorCode:w.errorCode,subErrorCode:w.subError,success:!1}),w})]}})})},t.prototype.logout=function(){return Promise.reject(Je.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,i,r){return Be(this,void 0,void 0,function(){var s;return Ne(this,function(u){switch(u.label){case 0:return[4,this.getClientConfiguration(e,i,r)];case 1:return s=u.sent(),[2,new fw(s)]}})})},t}(qc),mp=function(){function n(t,e,i,r){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=i,this.cryptoObj=r}return n.prototype.loadExternalTokens=function(t,e,i){if(this.logger.info("TokenCache - loadExternalTokens called"),!e.id_token)throw Je.createUnableToLoadTokenError("Please ensure server response includes id token.");if(t.account)this.loadIdToken(e.id_token,t.account.homeAccountId,t.account.environment,t.account.tenantId,i),this.loadAccessToken(t,e,t.account.homeAccountId,t.account.environment,t.account.tenantId,i);else{if(!t.authority)throw Je.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var r=Lv.generateAuthority(t.authority,t.azureCloudOptions),u=new Lv(r,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache});if(i.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),this.loadIdToken(e.id_token,i.clientInfo,u.hostnameAndPort,u.tenant,i),this.loadAccessToken(t,e,i.clientInfo,u.hostnameAndPort,u.tenant,i);else{if(!e.client_info)throw Je.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),this.loadIdToken(e.id_token,e.client_info,u.hostnameAndPort,u.tenant,i),this.loadAccessToken(t,e,e.client_info,u.hostnameAndPort,u.tenant,i)}}},n.prototype.loadIdToken=function(t,e,i,r,s){var u=cp.createIdTokenEntity(e,i,t,this.config.auth.clientId,r),h=new Ul(t,this.cryptoObj),p=s.clientInfo?lo.createAccount(s.clientInfo,e,h,void 0,void 0,void 0,i):lo.createGenericAccount(e,h,void 0,void 0,void 0,i);if(!this.isBrowserEnvironment)throw Je.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading id token"),this.storage.setAccount(p),this.storage.setIdTokenCredential(u)},n.prototype.loadAccessToken=function(t,e,i,r,s,u){if(e.access_token){if(!e.expires_in)throw Je.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!u.extendedExpiresOn)throw Je.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var h=new Vr(t.scopes).printScopes(),p=u.expiresOn||e.expires_in+(new Date).getTime()/1e3,w=up.createAccessTokenEntity(i,r,e.access_token,this.config.auth.clientId,s,h,p,u.extendedExpiresOn,this.cryptoObj);if(!this.isBrowserEnvironment)throw Je.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(w)}else this.logger.verbose("TokenCache - No access token provided for caching")},n}(),jr=function(n){function t(e){var i=n.call(this,e)||this;return i.includeRedirectUri=!1,i}return Hi(t,n),t}(DT),ed=function(n){function t(e,i,r,s,u,h,p,v,w,D){var k=n.call(this,e,i,r,s,u,h,v,w,D)||this;return k.apiId=p,k}return Hi(t,n),t.prototype.acquireToken=function(e){return Be(this,void 0,void 0,function(){var i,r,s,u,h,v;return Ne(this,function(w){switch(w.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw Je.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(e,Qe.Silent)];case 1:i=w.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||ne.EMPTY_STRING,i.account||null),r=this.initializeServerTelemetryManager(this.apiId),w.label=2;case 2:return w.trys.push([2,4,,5]),s=mt(mt({},i),{code:e.code}),[4,this.getClientConfiguration(r,i.authority)];case 3:return u=w.sent(),h=new jr(u),this.logger.verbose("Auth code client created"),[2,new Xm(h,this.browserStorage,s,this.logger,this.config.system.navigateFrameWait).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},i.state,h.authority,this.networkClient,!1)];case 4:throw(v=w.sent())instanceof gt&&v.setCorrelationId(this.correlationId),r.cacheFailedRequest(v),this.browserStorage.cleanRequestByState(i.state),v;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(Je.createSilentLogoutUnsupportedError())},t}(qc),eg=function(){function n(t,e){this.correlationId=e,this.measureName="msal.measure."+t+"."+this.correlationId,this.startMark="msal.start."+t+"."+this.correlationId,this.endMark="msal.end."+t+"."+this.correlationId}return n.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},n.prototype.startMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},n.prototype.endMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},n.prototype.flushMeasurement=function(){if(n.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var e=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),e}}catch{}return null},n}(),ys=function(n){function t(e,i,r,s,u,h){var p=n.call(this,e,i,r,s,u,h)||this;return p.browserCrypto=new Wu(p.logger),p.guidGenerator=new JC(p.browserCrypto),p}return Hi(t,n),t.prototype.startPerformanceMeasuremeant=function(e,i){return new eg(e,i)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.startMeasurement=function(e,i){var r=this,s=this.getPageVisibility(),u=n.prototype.startMeasurement.call(this,e,i);return mt(mt({},u),{endMeasurement:function(h){return u.endMeasurement(mt({startPageVisibility:s,endPageVisibility:r.getPageVisibility()},h))}})},t}(jm),bh=function(n){function t(e){var i=n.call(this,e)||this;return i.activeSilentTokenRequests=new Map,i}return Hi(t,n),t.prototype.loginRedirect=function(e){return Be(this,void 0,void 0,function(){var i;return Ne(this,function(r){return i=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",i),[2,this.acquireTokenRedirect(mt({correlationId:i},e||dm))]})})},t.prototype.loginPopup=function(e){var i=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",i),this.acquireTokenPopup(mt({correlationId:i},e||dm))},t.prototype.acquireTokenSilent=function(e){return Be(this,void 0,void 0,function(){var i,r,s,h,p,v,w=this;return Ne(this,function(D){if(i=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(tr.AcquireTokenSilent,i),this.preflightBrowserEnvironmentCheck(Qe.Silent),this.logger.verbose("acquireTokenSilent called",i),!(s=e.account||this.getActiveAccount()))throw Je.createNoAccountError();return h=JSON.stringify({clientId:this.config.auth.clientId,authority:e.authority||ne.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:s.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}),typeof(p=this.activeSilentTokenRequests.get(h))>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",i),v=this.acquireTokenSilentAsync(mt(mt({},e),{correlationId:i}),s).then(function(k){return w.activeSilentTokenRequests.delete(h),r.endMeasurement({success:!0,fromCache:k.fromCache,accessTokenSize:k.accessToken.length,idTokenSize:k.idToken.length,isNativeBroker:k.fromNativeBroker}),r.flushMeasurement(),k}).catch(function(k){throw w.activeSilentTokenRequests.delete(h),r.endMeasurement({success:!1}),r.flushMeasurement(),k}),this.activeSilentTokenRequests.set(h,v),[2,v]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",i),r.endMeasurement({success:!0}),r.discardMeasurement(),[2,p])})})},t.prototype.acquireTokenSilentAsync=function(e,i){return Be(this,void 0,void 0,function(){var r,s,u,h,p,v=this;return Ne(this,function(w){switch(w.label){case 0:return this.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_START,Qe.Silent,e),r=this.performanceClient.startMeasurement(tr.AcquireTokenSilentAsync,e.correlationId),Yo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&i.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),u=mt(mt({},e),{account:i}),s=this.acquireTokenNative(u,cn.acquireTokenSilent_silentFlow).catch(function(D){return Be(v,void 0,void 0,function(){return Ne(this,function(P){if(D instanceof qa&&D.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw D})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),[4,(h=this.createSilentCacheClient(e.correlationId)).initializeSilentRequest(e,i)];case 2:p=w.sent(),s=h.acquireToken(p).catch(function(){return Be(v,void 0,void 0,function(){return Ne(this,function(D){return[2,this.acquireTokenByRefreshToken(p)]})})}),w.label=3;case 3:return[2,s.then(function(D){return v.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_SUCCESS,Qe.Silent,D),r.endMeasurement({success:!0,fromCache:D.fromCache,accessTokenSize:D.accessToken.length,idTokenSize:D.idToken.length,isNativeBroker:D.fromNativeBroker}),D}).catch(function(D){throw v.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_FAILURE,Qe.Silent,null,D),r.endMeasurement({errorCode:D.errorCode,subErrorCode:D.subError,success:!1}),D})]}})})},t}(function(){function n(t){this.isBrowserEnvironment=typeof window<"u",this.config=function lw(n,t){var e=n.auth,i=n.cache,r=n.system,s=n.telemetry,u={clientId:ne.EMPTY_STRING,authority:""+ne.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:ne.EMPTY_STRING,authorityMetadata:ne.EMPTY_STRING,redirectUri:ne.EMPTY_STRING,postLogoutRedirectUri:ne.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:_h.AAD,azureCloudOptions:{azureCloudInstance:vh.None,tenant:ne.EMPTY_STRING},skipAuthorityMetadataCache:!1},h={cacheLocation:ti.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},p={loggerCallback:function(){},logLevel:Qi.Info,piiLoggingEnabled:!1},v=mt(mt({},iw),{loggerOptions:p,networkClient:t?_n.getBrowserNetworkClient():fx,navigationClient:new Nv,loadFrameTimeout:0,windowHashTimeout:r?.loadFrameTimeout||6e4,iframeHashTimeout:r?.loadFrameTimeout||6e3,navigateFrameWait:t&&_n.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:r?.nativeBrokerHandshakeTimeout||2e3}),w={application:{appName:ne.EMPTY_STRING,appVersion:ne.EMPTY_STRING}};return{auth:mt(mt({},u),e),cache:mt(mt({},h),i),system:mt(mt({},v),r),telemetry:mt(mt({},w),s)}}(t,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Iv(this.config.system.loggerOptions,Km,Zu),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new ys(this.config.auth.clientId,this.config.auth.authority,this.logger,Km,Zu,this.config.telemetry.application):new ux(this.config.auth.clientId,this.config.auth.authority,this.logger,Km,Zu,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new Tv(this.logger,this.performanceClient):Gm,this.eventHandler=new Vl(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Rv(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(n,t){return new Rv(n,{cacheLocation:ti.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},Gm,t)}(this.config.auth.clientId,this.logger),this.nativeInternalStorage=new Rv(this.config.auth.clientId,{cacheLocation:ti.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},this.browserCrypto,this.logger),this.tokenCache=new mp(this.config,this.browserStorage,this.logger,this.browserCrypto)}return n.prototype.initialize=function(){return Be(this,void 0,void 0,function(){var t,e;return Ne(this,function(i){switch(i.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(this.eventHandler.emitEvent(pt.INITIALIZE_START),!this.config.system.allowNativeBroker)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),t=this,[4,Yo.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout)];case 2:return t.nativeExtensionProvider=i.sent(),[3,4];case 3:return e=i.sent(),this.logger.verbose(e),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(pt.INITIALIZE_END),[2]}})})},n.prototype.handleRedirectPromise=function(t){return Be(this,void 0,void 0,function(){var e,i,r,s,u,h,p,v,w=this;return Ne(this,function(D){return this.logger.verbose("handleRedirectPromise called"),_n.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e=this.getAllAccounts(),this.isBrowserEnvironment?(typeof(r=this.redirectResponse.get(i=t||ne.EMPTY_STRING))>"u"?(this.eventHandler.emitEvent(pt.HANDLE_REDIRECT_START,Qe.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),s=this.browserStorage.getCachedNativeRequest(),u=void 0,s&&Yo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),h=new Gl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,s.accountId,this.nativeInternalStorage,s.correlationId),u=h.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),p=this.browserStorage.getTemporaryCache(qt.CORRELATION_ID,!0)||ne.EMPTY_STRING,v=this.createRedirectClient(p),u=v.handleRedirectPromise(t)),r=u.then(function(k){return k&&(e.length<w.getAllAccounts().length?(w.eventHandler.emitEvent(pt.LOGIN_SUCCESS,Qe.Redirect,k),w.logger.verbose("handleRedirectResponse returned result, login success")):(w.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_SUCCESS,Qe.Redirect,k),w.logger.verbose("handleRedirectResponse returned result, acquire token success"))),w.eventHandler.emitEvent(pt.HANDLE_REDIRECT_END,Qe.Redirect),k}).catch(function(k){throw w.eventHandler.emitEvent(e.length>0?pt.ACQUIRE_TOKEN_FAILURE:pt.LOGIN_FAILURE,Qe.Redirect,null,k),w.eventHandler.emitEvent(pt.HANDLE_REDIRECT_END,Qe.Redirect),k}),this.redirectResponse.set(i,r)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,r]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},n.prototype.acquireTokenRedirect=function(t){return Be(this,void 0,void 0,function(){var e,i,r,s,u,h=this;return Ne(this,function(p){return e=this.getRequestCorrelationId(t),this.logger.verbose("acquireTokenRedirect called",e),this.preflightBrowserEnvironmentCheck(Qe.Redirect),i=this.getAllAccounts().length>0,this.eventHandler.emitEvent(i?pt.ACQUIRE_TOKEN_START:pt.LOGIN_START,Qe.Redirect,t),this.nativeExtensionProvider&&this.canUseNative(t)?(s=new Gl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId),r=s.acquireTokenRedirect(t).catch(function(v){if(v instanceof qa&&v.isFatal())return h.nativeExtensionProvider=void 0,h.createRedirectClient(t.correlationId).acquireToken(t);if(v instanceof vs)return h.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),h.createRedirectClient(t.correlationId).acquireToken(t);throw h.browserStorage.setInteractionInProgress(!1),v})):(u=this.createRedirectClient(t.correlationId),r=u.acquireToken(t)),[2,r.catch(function(v){throw h.eventHandler.emitEvent(i?pt.ACQUIRE_TOKEN_FAILURE:pt.LOGIN_FAILURE,Qe.Redirect,null,v),v})]})})},n.prototype.acquireTokenPopup=function(t){var e=this,i=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(tr.AcquireTokenPopup,i);try{this.logger.verbose("acquireTokenPopup called",i),this.preflightBrowserEnvironmentCheck(Qe.Popup)}catch(p){return Promise.reject(p)}var s=this.getAllAccounts();return this.eventHandler.emitEvent(s.length>0?pt.ACQUIRE_TOKEN_START:pt.LOGIN_START,Qe.Popup,t),(this.canUseNative(t)?this.acquireTokenNative(t,cn.acquireTokenPopup).then(function(p){return e.browserStorage.setInteractionInProgress(!1),r.endMeasurement({success:!0,isNativeBroker:!0,accessTokenSize:p.accessToken.length,idTokenSize:p.idToken.length}),r.flushMeasurement(),p}).catch(function(p){if(p instanceof qa&&p.isFatal())return e.nativeExtensionProvider=void 0,e.createPopupClient(t.correlationId).acquireToken(t);if(p instanceof vs)return e.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),e.createPopupClient(t.correlationId).acquireToken(t);throw e.browserStorage.setInteractionInProgress(!1),p}):this.createPopupClient(t.correlationId).acquireToken(t)).then(function(p){var v=s.length<e.getAllAccounts().length;return e.eventHandler.emitEvent(v?pt.LOGIN_SUCCESS:pt.ACQUIRE_TOKEN_SUCCESS,Qe.Popup,p),r.endMeasurement({success:!0,accessTokenSize:p.accessToken.length,idTokenSize:p.idToken.length}),r.flushMeasurement(),p}).catch(function(p){return e.eventHandler.emitEvent(s.length>0?pt.ACQUIRE_TOKEN_FAILURE:pt.LOGIN_FAILURE,Qe.Popup,null,p),r.endMeasurement({errorCode:p.errorCode,subErrorCode:p.subError,success:!1}),r.flushMeasurement(),Promise.reject(p)})},n.prototype.ssoSilent=function(t){return Be(this,void 0,void 0,function(){var e,i,r,s,u,h=this;return Ne(this,function(p){return e=this.getRequestCorrelationId(t),i=mt(mt({},t),{prompt:wi.NONE,correlationId:e}),this.preflightBrowserEnvironmentCheck(Qe.Silent),r=this.performanceClient.startMeasurement(tr.SsoSilent,e),this.logger.verbose("ssoSilent called",e),this.eventHandler.emitEvent(pt.SSO_SILENT_START,Qe.Silent,i),this.canUseNative(i)?s=this.acquireTokenNative(i,cn.ssoSilent).catch(function(v){if(v instanceof qa&&v.isFatal())return h.nativeExtensionProvider=void 0,h.createSilentIframeClient(i.correlationId).acquireToken(i);throw v}):(u=this.createSilentIframeClient(i.correlationId),s=u.acquireToken(i)),[2,s.then(function(v){return h.eventHandler.emitEvent(pt.SSO_SILENT_SUCCESS,Qe.Silent,v),r.endMeasurement({success:!0,isNativeBroker:v.fromNativeBroker,accessTokenSize:v.accessToken.length,idTokenSize:v.idToken.length}),r.flushMeasurement(),v}).catch(function(v){throw h.eventHandler.emitEvent(pt.SSO_SILENT_FAILURE,Qe.Silent,null,v),r.endMeasurement({errorCode:v.errorCode,subErrorCode:v.subError,success:!1}),r.flushMeasurement(),v})]})})},n.prototype.acquireTokenByCode=function(t){return Be(this,void 0,void 0,function(){var e,i,r,s,u=this;return Ne(this,function(h){e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(Qe.Silent),this.logger.trace("acquireTokenByCode called",e),this.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_BY_CODE_START,Qe.Silent,t),i=this.performanceClient.startMeasurement(tr.AcquireTokenByCode,t.correlationId);try{if(t.code)return(s=this.hybridAuthCodeResponses.get(r=t.code))?(this.logger.verbose("Existing acquireTokenByCode request found",t.correlationId),i.endMeasurement({success:!0}),i.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",e),s=this.acquireTokenByCodeAsync(mt(mt({},t),{correlationId:e})).then(function(p){return u.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Qe.Silent,p),u.hybridAuthCodeResponses.delete(r),i.endMeasurement({success:!0,accessTokenSize:p.accessToken.length,idTokenSize:p.idToken.length,isNativeBroker:p.fromNativeBroker}),i.flushMeasurement(),p}).catch(function(p){throw u.hybridAuthCodeResponses.delete(r),u.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_BY_CODE_FAILURE,Qe.Silent,null,p),i.endMeasurement({errorCode:p.errorCode,subErrorCode:p.subError,success:!1}),i.flushMeasurement(),p}),this.hybridAuthCodeResponses.set(r,s)),[2,s];if(t.nativeAccountId){if(this.canUseNative(t,t.nativeAccountId))return[2,this.acquireTokenNative(t,cn.acquireTokenByCode,t.nativeAccountId).catch(function(p){throw p instanceof qa&&p.isFatal()&&(u.nativeExtensionProvider=void 0),p})];throw Je.createUnableToAcquireTokenFromNativePlatformError()}throw Je.createAuthCodeOrNativeAccountIdRequiredError()}catch(p){throw this.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_BY_CODE_FAILURE,Qe.Silent,null,p),i.endMeasurement({errorCode:p instanceof gt&&p.errorCode||void 0,subErrorCode:p instanceof gt&&p.subError||void 0,success:!1}),p}return[2]})})},n.prototype.acquireTokenByCodeAsync=function(t){return Be(this,void 0,void 0,function(){return Ne(this,function(r){switch(r.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),[4,this.createSilentAuthCodeClient(t.correlationId).acquireToken(t)];case 1:return[2,r.sent()]}})})},n.prototype.acquireTokenByRefreshToken=function(t){return Be(this,void 0,void 0,function(){var e,r=this;return Ne(this,function(s){return _n.blockReloadInHiddenIframes(),e=this.performanceClient.startMeasurement(tr.AcquireTokenByRefreshToken,t.correlationId),this.eventHandler.emitEvent(pt.ACQUIRE_TOKEN_NETWORK_START,Qe.Silent,t),[2,this.createSilentRefreshClient(t.correlationId).acquireToken(t).then(function(u){return e.endMeasurement({success:!0,fromCache:u.fromCache,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),u}).catch(function(u){if(u instanceof Ku&&"invalid_grant"===u.errorCode&&!(u instanceof vs))return r.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe",t.correlationId),r.createSilentIframeClient(t.correlationId).acquireToken(t).then(function(D){return e.endMeasurement({success:!0,fromCache:D.fromCache,accessTokenSize:D.accessToken.length,idTokenSize:D.idToken.length}),D}).catch(function(D){throw e.endMeasurement({errorCode:D.errorCode,subErrorCode:D.subError,success:!1}),D});throw e.endMeasurement({success:!1}),u})]})})},n.prototype.logout=function(t){return Be(this,void 0,void 0,function(){var e;return Ne(this,function(i){return e=this.getRequestCorrelationId(t),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",e),[2,this.logoutRedirect(mt({correlationId:e},t))]})})},n.prototype.logoutRedirect=function(t){return Be(this,void 0,void 0,function(){var e;return Ne(this,function(r){return e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(Qe.Redirect),[2,this.createRedirectClient(e).logout(t)]})})},n.prototype.logoutPopup=function(t){try{var e=this.getRequestCorrelationId(t);return this.preflightBrowserEnvironmentCheck(Qe.Popup),this.createPopupClient(e).logout(t)}catch(r){return Promise.reject(r)}},n.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},n.prototype.getAccountByUsername=function(t){var e=this.getAllAccounts();return!ze.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+t),e.filter(function(i){return i.username.toLowerCase()===t.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},n.prototype.getAccountByHomeId=function(t){var e=this.getAllAccounts();return!ze.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+t),e.filter(function(i){return i.homeAccountId===t})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},n.prototype.getAccountByLocalId=function(t){var e=this.getAllAccounts();return!ze.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+t),e.filter(function(i){return i.localAccountId===t})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},n.prototype.setActiveAccount=function(t){this.browserStorage.setActiveAccount(t)},n.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},n.prototype.preflightBrowserEnvironmentCheck=function(t,e){if(void 0===e&&(e=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),_n.blockNonBrowserEnvironment(this.isBrowserEnvironment),_n.blockRedirectInIframe(t,this.config.system.allowRedirectInIframe),_n.blockReloadInHiddenIframes(),_n.blockAcquireTokenInPopups(),_n.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t===Qe.Redirect&&this.config.cache.cacheLocation===ti.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Ua.createInMemoryRedirectUnavailableError();(t===Qe.Redirect||t===Qe.Popup)&&this.preflightInteractiveRequest(e)},n.prototype.preflightInteractiveRequest=function(t){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),_n.blockReloadInHiddenIframes(),t&&this.browserStorage.setInteractionInProgress(!0)},n.prototype.acquireTokenNative=function(t,e,i){return Be(this,void 0,void 0,function(){return Ne(this,function(s){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Je.createNativeConnectionNotEstablishedError();return[2,new Gl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e,this.performanceClient,this.nativeExtensionProvider,i||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t)]})})},n.prototype.canUseNative=function(t,e){if(this.logger.trace("canUseNative called"),!Yo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case wi.NONE:case wi.CONSENT:case wi.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+t.prompt+" is not compatible with native flow, returning false"),!1}return!(!e&&!this.getNativeAccountId(t)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},n.prototype.getNativeAccountId=function(t){var e=t.account||this.browserStorage.getAccountInfoByHints(t.loginHint,t.sid)||this.getActiveAccount();return e&&e.nativeAccountId||""},n.prototype.createPopupClient=function(t){return new pp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createRedirectClient=function(t){return new RT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentIframeClient=function(t){return new xT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentCacheClient=function(t){return new pw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentRefreshClient=function(t){return new $a(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentAuthCodeClient=function(t){return new ed(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.addEventCallback=function(t){return this.eventHandler.addEventCallback(t)},n.prototype.removeEventCallback=function(t){this.eventHandler.removeEventCallback(t)},n.prototype.addPerformanceCallback=function(t){return this.performanceClient.addPerformanceCallback(t)},n.prototype.removePerformanceCallback=function(t){return this.performanceClient.removePerformanceCallback(t)},n.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},n.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},n.prototype.getTokenCache=function(){return this.tokenCache},n.prototype.getLogger=function(){return this.logger},n.prototype.setLogger=function(t){this.logger=t},n.prototype.initializeWrapperLibrary=function(t,e){this.browserStorage.setWrapperMetadata(t,e)},n.prototype.setNavigationClient=function(t){this.navigationClient=t},n.prototype.getConfiguration=function(){return this.config},n.prototype.getRequestCorrelationId=function(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():ne.EMPTY_STRING},n}());let $c;try{$c=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$c=!1}let ta,pi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Er(n){return n===Pn}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$c)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const td=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nd(){if(ta)return ta;if("object"!=typeof document||!document)return ta=new Set(td),ta;let n=document.createElement("input");return ta=new Set(td.filter(t=>(n.setAttribute("type",t),n.type===t))),ta}let Wa,_p,Wc,tg;function id(n){return function Ch(){if(null==Wa&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wa=!0}))}finally{Wa=Wa||!1}return Wa}()?n:!!n.capture}function Hv(){if(null==Wc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wc=!1,Wc;if("scrollBehavior"in document.documentElement.style)Wc=!0;else{const n=Element.prototype.scrollTo;Wc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wc}function wh(){if("object"!=typeof document||!document)return 0;if(null==_p){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),_p=0,0===n.scrollLeft&&(n.scrollLeft=1,_p=0===n.scrollLeft?1:2),n.remove()}return _p}function Eh(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function rd(n){return n.composedPath?n.composedPath()[0]:n.target}function Vv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function co(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Th=F(4986);function ad(n,t=Th.z){return(0,Wn.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function p(){const v=u+n,w=t.now();if(w<v)return r=this.schedule(void 0,v-w),void i.add(r);h()}e.subscribe((0,Rn.x)(i,v=>{s=v,u=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function Qc(n){return fn((t,e)=>n<=e)}function rg(n,t=hs.y){return n=n??DI,(0,Wn.e)((e,i)=>{let r,s=!0;e.subscribe((0,Rn.x)(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function DI(n,t){return n===t}var ld=F(5032);function un(n){return(0,Wn.e)((t,e)=>{(0,Ha.Xf)(n).subscribe((0,Rn.x)(e,()=>e.complete(),ld.Z)),!e.closed&&t.subscribe(e)})}function Ht(n){return null!=n&&"false"!=`${n}`}function cd(n,t=0){return qv(n)?Number(n):t}function qv(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function yp(n){return Array.isArray(n)?n:[n]}function nr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _t(n){return n instanceof o.SBq?n.nativeElement:n}let Rw=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),II=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=_t(e);return new ui.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Xe.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Rw))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ih=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=cd(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ad(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(II),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),$v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Rw]}),n})();const bp=new Set;let jn,Jx=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ow}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function xw(n){if(!bp.has(n))try{jn||(jn=document.createElement("style"),jn.setAttribute("type","text/css"),document.head.appendChild(jn)),jn.sheet&&(jn.sheet.insertRule(`@media ${n} {body{ }}`,0),bp.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ow(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Kv=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Xe.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Zv(yp(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=kl(Zv(yp(e)).map(u=>this._registerQuery(u).observable));return s=Rl(s.pipe(Zn(1)),s.pipe(Qc(1),ad(0))),s.pipe((0,ot.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:p,query:v})=>{h.matches=h.matches||p,h.breakpoints[v]=p}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ui.y(u=>{const h=p=>this._zone.run(()=>u.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Vi(i),(0,ot.U)(({matches:u})=>({query:e,matches:u})),un(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Jx),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zv(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class Fw extends class Xv{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Xe.x,this._typeaheadSubscription=xi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Xe.x,this.change=new Xe.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Oi.b)(e=>this._pressedLetters.push(e)),ad(t),fn(()=>this._pressedLetters.length>0),(0,ot.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||co(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let ql=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function OI(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function xI(n){try{return n.frameElement}catch{return null}}(function rO(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Hw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Hw(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function FI(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function iO(n){return!function Lw(n){return function Uw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function PI(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Bw(n){return function NI(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ey(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ey(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Hw(n){if(!ey(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class oO{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Zn(1)).subscribe(t)}}let sg=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new oO(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ql),o.LFG(o.R0b),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vw=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Ht(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Ht(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Eh(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(sg),o.Y36(ie))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function jw(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Gw(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const BI=new o.OlP("cdk-input-modality-detector-options"),UI={ignoreKeys:[18,17,224,91,16]},ud=id({passive:!0,capture:!0});let HI=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Zi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rd(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jw(u)?"keyboard":"mouse"),this._mostRecentTarget=rd(u))},this._onTouchstart=u=>{Gw(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rd(u))},this._options={...UI,...s},this.modalityDetected=this._modality.pipe(Qc(1)),this.modalityChanged=this.modalityDetected.pipe(rg()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ud),r.addEventListener("mousedown",this._onMousedown,ud),r.addEventListener("touchstart",this._onTouchstart,ud)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ud),document.removeEventListener("mousedown",this._onMousedown,ud),document.removeEventListener("touchstart",this._onTouchstart,ud))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi),o.LFG(o.R0b),o.LFG(ie),o.LFG(BI,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VI=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ah(){return null}}),jI=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let lg=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VI,8),o.LFG(o.R0b),o.LFG(ie),o.LFG(jI,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=new o.OlP("cdk-focus-monitor-default-options"),cg=id({passive:!0,capture:!0});let Qa=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xe.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=rd(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=_t(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ae(null);const s=function vw(n){if(function _w(){if(null==tg){const n=typeof document<"u"?document.head:null;tg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return tg}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Xe.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=_t(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=_t(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=rd(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(un(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(pi),o.LFG(HI),o.LFG(ie,8),o.LFG(Yw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GI=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Qa))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const ug="cdk-high-contrast-black-on-white",qw="cdk-high-contrast-white-on-black",dg="cdk-high-contrast-active";let ny=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(Kv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(dg,ug,qw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(dg,ug):2===i&&e.add(dg,qw)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iy=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ny))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[$v]}),n})();const zI=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function YI(){return(0,o.f3M)(ie)}}),ry=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let uo=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function qI(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?ry.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zI,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function $I(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function WI(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const KI=["*"],Kw=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function QI(){return!0}});let nn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Vv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ny),o.LFG(Kw,8),o.LFG(ie))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[wp,wp]}),n})();function Mh(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ht(t)}}}function kh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Jc(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ht(t)}}}function Qw(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?cd(e):this.defaultTabIndex}}}function Jw(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const JI=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function eE(){return(0,o.f3M)(o.soG)}});class Pi{constructor(){this._localeChanges=new Xe.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Xc=new o.OlP("mat-date-formats"),XI=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tE(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let nE=(()=>{class n extends Pi{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return tE(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tE(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return tE(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(XI.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(JI,8),o.LFG(pi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const sy={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let eA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Pi,useClass:nE}]}),n})(),ay=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Xc,useValue:sy}],imports:[eA]}),n})(),ly=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Rh(n,t,e){n.nativeElement.classList.toggle(t,e)}let uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn,nn]}),n})();class iE{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rE={enterDuration:225,exitDuration:150},dy=id({passive:!0}),oE=["mousedown","touchstart"],hy=["mouseup","mouseleave","touchend","touchcancel"];class mO{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_t(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...rE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function sE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,p=e-r.top,v=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-u+"px",w.style.top=p-u+"px",w.style.height=2*u+"px",w.style.width=2*u+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(w);const D=window.getComputedStyle(w),P=D.transitionDuration,U="none"===D.transitionProperty||"0s"===P||"0s, 0s"===P,j=new iE(this,w,i,U);w.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let ae=null;return!U&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ee=()=>this._finishRippleTransition(j),Ve=()=>this._destroyRipple(j);w.addEventListener("transitionend",Ee),w.addEventListener("transitioncancel",Ve),ae={onTransitionEnd:Ee,onTransitionCancel:Ve}}),this._activeRipples.set(j,ae),(U||!v)&&this._finishRippleTransition(j),j}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...rE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=_t(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(oE))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hy),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=jw(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Gw(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,dy)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(oE.forEach(t=>{this._triggerElement.removeEventListener(t,this,dy)}),this._pointerUpEventsRegistered&&hy.forEach(t=>{this._triggerElement.removeEventListener(t,this,dy)}))}}const nA=new o.OlP("mat-ripple-global-options");let xh=(()=>{class n{constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new mO(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(pi),o.Y36(nA,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),fy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn,nn]}),n})(),iA=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),py=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn]}),n})();const aE=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),lE=new o.OlP("MatOptgroup");let oA=0;class sA{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let aA=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+oA++,this.onSelectionChange=new o.vpe,this._stateChanges=new Xe.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ht(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!co(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new sA(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Ep=(()=>{class n extends aA{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(aE,8),o.Y36(lE,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:KI,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,$I,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,WI,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[xh,Mn,iA],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function cE(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[s]&&s++;return s}return 0}let my=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fy,ci,nn,py]}),n})();const uE=["*",[["mat-toolbar-row"]]],dE=["*","mat-toolbar-row"],hE=kh(class{constructor(n){this._elementRef=n}});let fE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),pE=(()=>{class n extends hE{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(pi),o.Y36(ie))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,fE,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:dE,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(uE),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn,nn]}),n})();const mE=["mat-button",""],gy=["*"],dA=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Dp=kh(Mh(Jc(class{constructor(n){this._elementRef=n}})));let Tp=(()=>{class n extends Dp{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of dA)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Qa),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(xh,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:mE,ngContentSelectors:gy,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[xh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),_y=(()=>{class n extends Tp{constructor(e,i,r,s){super(i,e,r),this._ngZone=s,this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qa),o.Y36(o.SBq),o.Y36(o.QbO,8),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:mE,ngContentSelectors:gy,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[xh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),ws=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fy,nn,nn]}),n})();const hA=["*",[["mat-card-footer"]]],fg=["*","mat-card-footer"];let mg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),gE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),dd=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:fg,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(hA),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn,nn]}),n})();function yy(n){return n&&"function"==typeof n.connect}class yE{applyChanges(t,e,i,r,s){t.forEachOperation((u,h,p)=>{let v,w;if(null==u.previousIndex){const D=i(u,h,p);v=e.createEmbeddedView(D.templateRef,D.context,D.index),w=1}else null==p?(e.remove(h),w=3):(v=e.get(h),e.move(v,p),w=2);s&&s({context:v?.context,operation:w,record:u})})}detach(){}}class gg{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xe.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const Oh=new o.OlP("_ViewRepeater");let Cy=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),hd=(()=>{class n extends Cy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const To=new o.OlP("NgValueAccessor"),SE={provide:To,useExisting:(0,o.Gpc)(()=>Ja),multi:!0},ho=new o.OlP("CompositionEventMode");let Ja=(()=>{class n extends Cy{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _A(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(ho,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([SE]),o.qOj]}),n})();function tu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function yA(n){return null!=n&&"number"==typeof n.length}const Gr=new o.OlP("NgValidators"),$l=new o.OlP("NgAsyncValidators"),DE=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gr{static min(t){return function TE(n){return t=>{if(tu(t.value)||tu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function _g(n){return t=>{if(tu(t.value)||tu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function IE(n){return tu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function wy(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function AE(n){return tu(n.value)||DE.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ME(n){return t=>tu(t.value)||!yA(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function fd(n){return t=>yA(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function kE(n){if(!n)return Ph;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(tu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return RE(t)}static composeAsync(t){return pd(t)}}function Ph(n){return null}function Ey(n){return null!=n}function Sy(n){return(0,o.QGY)(n)?(0,zt.D)(n):n}function Ap(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function vg(n,t){return t.map(e=>e(n))}function Dy(n){return n.map(t=>function AO(n){return!n.validate}(t)?t:e=>t.validate(e))}function RE(n){if(!n)return null;const t=n.filter(Ey);return 0==t.length?null:function(e){return Ap(vg(e,t))}}function yg(n){return null!=n?RE(Dy(n)):null}function pd(n){if(!n)return null;const t=n.filter(Ey);return 0==t.length?null:function(e){return function by(...n){const t=(0,Lr.jO)(n),{args:e,keys:i}=S_(n),r=new ui.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let p=u,v=u;for(let w=0;w<u;w++){let D=!1;(0,Ha.Xf)(e[w]).subscribe((0,Rn.x)(s,k=>{D||(D=!0,v--),h[w]=k},()=>p--,void 0,()=>{(!p||!D)&&(v||s.next(i?kf(i,h):h),s.complete())}))}});return t?r.pipe(Ml(t)):r}(vg(e,t).map(Sy)).pipe((0,ot.U)(Ap))}}function Ty(n){return null!=n?pd(Dy(n)):null}function Iy(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function bg(n){return n._rawValidators}function bA(n){return n._rawAsyncValidators}function Ay(n){return n?Array.isArray(n)?n:[n]:[]}function My(n,t){return Array.isArray(n)?n.includes(t):n===t}function xE(n,t){const e=Ay(t);return Ay(n).forEach(r=>{My(e,r)||e.push(r)}),e}function OE(n,t){return Ay(t).filter(e=>!My(n,e))}class PE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ty(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class zr extends PE{get formDirective(){return null}get path(){return null}}class ra extends PE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NE{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mp=(()=>{class n extends NE{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ra,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),kp=(()=>{class n extends NE{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const nu="VALID",ky="INVALID",md="PENDING",iu="DISABLED";function Sg(n){return(Rp(n)?n.validators:n)||null}function Ry(n){return Array.isArray(n)?yg(n):n||null}function UE(n,t){return(Rp(t)?t.asyncValidators:n)||null}function Dg(n){return Array.isArray(n)?Ty(n):n||null}function Rp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function HE(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function xy(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class Oy{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ry(this._rawValidators),this._composedAsyncValidatorFn=Dg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===nu}get invalid(){return this.status===ky}get pending(){return this.status==md}get disabled(){return this.status===iu}get enabled(){return this.status!==iu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ry(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Dg(t)}addValidators(t){this.setValidators(xE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(OE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(OE(t,this._rawAsyncValidators))}hasValidator(t){return My(this._rawValidators,t)}hasAsyncValidator(t){return My(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=md,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iu,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nu,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nu||this.status===md)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iu:nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=md,this._hasOwnPendingAsyncValidator=!0;const e=Sy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?iu:this.errors?ky:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(md)?md:this._anyControlsHaveStatus(ky)?ky:nu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Xa extends Oy{constructor(t,e,i){super(Sg(e),UE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){xy(this,0,t),Object.keys(t).forEach(i=>{HE(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Ig(n,t){Fy(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function IA(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&By(n,t)})}(n,t),function BO(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function VE(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&By(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function TA(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ny(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ly(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ag(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Fy(n,t){const e=bg(n);null!==t.validator?n.setValidators(Iy(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=bA(n);null!==t.asyncValidator?n.setAsyncValidators(Iy(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ag(t._rawValidators,r),Ag(t._rawAsyncValidators,r)}function Ly(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=bg(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=bA(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ag(t._rawValidators,i),Ag(t._rawAsyncValidators,i),e}function By(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Es(n,t){Fy(n,t)}function GE(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const xA={provide:zr,useExisting:(0,o.Gpc)(()=>Fh)},Nh=(()=>Promise.resolve(null))();let Fh=(()=>{class n extends zr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Xa({},yg(e),Ty(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Nh.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ig(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Nh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Nh.then(()=>{const i=this._findContainer(e.path),r=new Xa({});Es(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Nh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Nh.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,GE(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Gr,10),o.Y36($l,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([xA]),o.qOj]}),n})();function YE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Uy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vn=class extends Oy{constructor(t=null,e,i){super(Sg(e),UE(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Uy(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){YE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){YE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Uy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Mg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),kg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Rg=new o.OlP("NgModelWithFormControlWarning"),e0={provide:zr,useExisting:(0,o.Gpc)(()=>Wl)};let Wl=(()=>{class n extends zr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ly(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ig(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ny(e.control||null,e,!1),function zE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,GE(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Ny(i||null,e),(n=>n instanceof vn)(r)&&(Ig(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Es(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function AA(n,t){return Ly(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fy(this.form,this),this._oldForm&&Ly(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Gr,10),o.Y36($l,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([e0]),o.qOj,o.TTD]}),n})();const VO={provide:ra,useExisting:(0,o.Gpc)(()=>gd)};let gd=(()=>{class n extends ra{constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Op(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ja?e=s:function kA(n){return Object.getPrototypeOf(n.constructor)===hd}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function xp(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Py(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(zr,13),o.Y36(Gr,10),o.Y36($l,10),o.Y36(To,10),o.Y36(Rg,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([VO]),o.qOj,o.TTD]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[kg]}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[u0]}),n})(),Ng=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Rg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[u0]}),n})();class Fg extends Oy{constructor(t,e,i){super(Sg(e),UE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){xy(this,0,t),t.forEach((i,r)=>{HE(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Lg(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Uh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return Lg(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Xa(r,s)}control(e,i,r){let s={};return this.useNonNullable?(Lg(i)?s=i:(s.validators=i,s.asyncValidators=r),new vn(e,{...s,nonNullable:!0})):new vn(e,i,r)}array(e,i,r){const s=e.map(u=>this._createControl(u));return new Fg(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof vn||e instanceof Oy?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:Ng}),n})(),Zy=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Ht(e)}get inset(){return this._inset}set inset(e){this._inset=Ht(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),h0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn,nn]}),n})();const f0=["*"],KO=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],ZO=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],eP=Mh(Jc(class{})),tP=Jc(class{}),JA=new o.OlP("MatList"),nP=new o.OlP("MatNavList");let a=(()=>{class n extends eP{constructor(e){super(),this._elementRef=e,this._stateChanges=new Xe.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[o._Bn([{provide:JA,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:f0,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),l=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),f=(()=>{class n extends tP{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Xe.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(un(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Ht(e)}ngAfterContentInit(){!function cy(n,t,e="mat"){n.changes.pipe(Vi(n)).subscribe(({length:i})=>{Rh(t,`${e}-2-line`,!1),Rh(t,`${e}-3-line`,!1),Rh(t,`${e}-multi-line`,!1),2===i||3===i?Rh(t,`${e}-${i}-line`,!0):i>3&&Rh(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(nP,8),o.Y36(JA,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,l,5),o.Suo(r,c,5),o.Suo(r,hg,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:ZO,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(KO),o.TgZ(0,"span",0),o._UZ(1,"span",1),o.Hsn(2),o.TgZ(3,"span",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[xh],encapsulation:2,changeDetection:0}),n})(),L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[uy,fy,nn,py,ci,uy,nn,py,h0]}),n})();var Z=F(1144);const oe=["addListener","removeListener"],we=["addEventListener","removeEventListener"],Oe=["on","off"];function We(n,t,e,i){if((0,Ki.m)(e)&&(i=e,e=void 0),i)return We(n,t,e).pipe(Ml(i));const[r,s]=function St(n){return(0,Ki.m)(n.addEventListener)&&(0,Ki.m)(n.removeEventListener)}(n)?we.map(u=>h=>n[u](t,h,e)):function Mt(n){return(0,Ki.m)(n.addListener)&&(0,Ki.m)(n.removeListener)}(n)?oe.map(st(n,t)):function xe(n){return(0,Ki.m)(n.on)&&(0,Ki.m)(n.off)}(n)?Oe.map(st(n,t)):[];if(!r&&(0,Z.z)(n))return(0,Hn.z)(u=>We(u,t,e))((0,Ha.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ui.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function st(n,t){return e=>i=>n[e](t,i)}var rn=F(4408);const On={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=On;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new xi.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=On;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=On;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Bg=F(7565);new class Qy extends Bg.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class _d extends rn.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=On.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(On.cancelAnimationFrame(e),t._scheduled=void 0)}});let Np,Xy=1;const Hh={};function Ug(n){return n in Hh&&(delete Hh[n],!0)}const eb={setImmediate(n){const t=Xy++;return Hh[t]=!0,Np||(Np=Promise.resolve()),Np.then(()=>Ug(t)&&n()),t},clearImmediate(n){Ug(n)}},{setImmediate:f2,clearImmediate:p2}=eb,m0={setImmediate(...n){const{delegate:t}=m0;return(t?.setImmediate||f2)(...n)},clearImmediate(n){const{delegate:t}=m0;return(t?.clearImmediate||p2)(n)},delegate:void 0};new class g2 extends Bg.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class m2 extends rn.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=m0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(m0.clearImmediate(e),t._scheduled=void 0)}});var y2=F(3532);function iP(n,t=Th.z){return function v2(n){return(0,Wn.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},p=()=>{s=null,u&&e.complete()};t.subscribe((0,Rn.x)(e,v=>{i=!0,r=v,s||(0,Ha.Xf)(n(v)).subscribe(s=(0,Rn.x)(e,h,p))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function C2(n=0,t,e=Th.P){let i=-1;return null!=t&&((0,y2.K)(t)?e=t:i=t),new ui.y(r=>{let s=function b2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let XA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Xe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ui.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(iP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ae()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(fn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=_t(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>We(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(pi),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eM=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Xe.x,this._elementScrolled=new ui.y(u=>this.ngZone.runOutsideAngular(()=>We(this.elementRef.nativeElement,"scroll").pipe(un(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=wh()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==wh()?e.left=e.right:1==wh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Hv()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==wh()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==wh()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(XA),o.Y36(o.R0b),o.Y36(uo,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),tb=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Xe.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(iP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi),o.LFG(o.R0b),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),tM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[wp,Hg,wp,Hg]}),n})();const D2=[[["caption"]],[["colgroup"],["col"]]],T2=["caption","colgroup, col"];function nM(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ht(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Vg=new o.OlP("CDK_TABLE");let jg=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Gg=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),g0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class k2{}const R2=nM(k2);let vd=(()=>{class n extends R2{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Ht(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vg,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,jg,5),o.Suo(r,Gg,5),o.Suo(r,g0,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class iM{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let rM=(()=>{class n extends iM{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vd),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),oM=(()=>{class n extends iM{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vd),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class oP{constructor(){this.tasks=[],this.endTasks=[]}}const sM=new o.OlP("_COALESCED_STYLE_SCHEDULER");let sP=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Xe.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new oP,this._getScheduleObservable().pipe(un(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new oP;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,zt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Zn(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),aM=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof nb?e.headerCell.template:this instanceof ib?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class x2 extends aM{}const O2=nM(x2);let nb=(()=>{class n extends O2{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Vg,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class P2 extends aM{}const N2=nM(P2);let ib=(()=>{class n extends N2{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Vg,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),_0=(()=>{class n extends aM{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Vg,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),yd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),lM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[yd],encapsulation:2}),n})(),uM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[yd],encapsulation:2}),n})(),v0=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const aP=["top","bottom","left","right"];class F2{constructor(t,e,i,r,s=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(k=>k)&&!i.some(k=>k))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],u=s.children.length,h=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(h,e),v=this._getStickyEndColumnPositions(h,i),w=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const k="rtl"===this.direction,P=k?"right":"left",U=k?"left":"right";for(const j of t)for(let ae=0;ae<u;ae++){const Ee=j.children[ae];e[ae]&&this._addStickyStyle(Ee,P,p[ae],ae===w),i[ae]&&this._addStickyStyle(Ee,U,v[ae],ae===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:h.slice(0,w+1).map((j,ae)=>e[ae]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:h.slice(D).map((j,ae)=>i[ae+D]?j:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,u=[],h=[],p=[];for(let w=0,D=0;w<r.length;w++){if(!s[w])continue;u[w]=D;const k=r[w];p[w]=this._isNativeHtmlTable?Array.from(k.children):[k];const P=k.getBoundingClientRect().height;D+=P,h[w]=P}const v=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let w=0;w<r.length;w++){if(!s[w])continue;const D=u[w],k=w===v;for(const P of p[w])this._addStickyStyle(P,i,D,k)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);aP.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of aP)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const dM=new o.OlP("CDK_SPL");let y0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),b0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),C0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),w0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),E0=(()=>{class n{constructor(e,i,r,s,u,h,p,v,w,D,k,P){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=p,this._viewRepeater=v,this._coalescedStyleScheduler=w,this._viewportRuler=D,this._stickyPositioningListener=k,this._ngZone=P,this._onDestroy=new Xe.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Zi({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ht(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ht(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(un(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),yy(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Zn(1),un(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&u.push(i[h]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<u.length;h++){let p=u[h];const v=this._cachedRenderRowsMap.get(p.data);v.has(p.rowDef)?v.get(p.rowDef).push(p):v.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const p=h.shift();return p.dataIndex=i,p}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),S0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=S0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=S0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=S0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],yy(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;yy(this.dataSource)?e=this.dataSource.connect(this):function S2(n){return!!n&&(n instanceof ui.y||(0,Ki.m)(n.lift)&&(0,Ki.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ae(this.dataSource)),this._renderChangeSubscription=e.pipe(un(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const u=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))yd.mostRecentCellOutlet&&yd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new F2(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ae()).pipe(un(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(uo,8),o.Y36(ie),o.Y36(pi),o.Y36(Oh),o.Y36(sM),o.Y36(tb),o.Y36(dM,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,v0,5),o.Suo(r,vd,5),o.Suo(r,_0,5),o.Suo(r,nb,5),o.Suo(r,ib,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(y0,7),o.Gf(b0,7),o.Gf(C0,7),o.Gf(w0,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:Vg,useExisting:n},{provide:Oh,useClass:yE},{provide:sM,useClass:sP},{provide:dM,useValue:null}])],ngContentSelectors:T2,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(D2),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[y0,b0,C0,w0],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function S0(n,t){return n.concat(Array.from(t))}let B2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tM]}),n})();var Wo=F(6451);const U2=[[["caption"]],[["colgroup"],["col"]]],H2=["caption","colgroup, col"];let hM=(()=>{class n extends E0{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:Oh,useClass:yE},{provide:E0,useExisting:n},{provide:Vg,useExisting:n},{provide:sM,useClass:sP},{provide:dM,useValue:null}]),o.qOj],ngContentSelectors:H2,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(U2),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[y0,b0,C0,w0],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),D0=(()=>{class n extends jg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:jg,useExisting:n}]),o.qOj]}),n})(),T0=(()=>{class n extends Gg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Gg,useExisting:n}]),o.qOj]}),n})(),I0=(()=>{class n extends vd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:vd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),A0=(()=>{class n extends rM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),M0=(()=>{class n extends oM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),fM=(()=>{class n extends nb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:nb,useExisting:n}]),o.qOj]}),n})(),pM=(()=>{class n extends _0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:_0,useExisting:n}]),o.qOj]}),n})(),mM=(()=>{class n extends lM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:lM,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[yd],encapsulation:2}),n})(),gM=(()=>{class n extends uM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:uM,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[yd],encapsulation:2}),n})(),_M=(()=>{class n extends v0{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:v0,useExisting:n}]),o.qOj]}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[B2,nn,nn]}),n})();class cP extends class Z2 extends class vy{}{constructor(t=[]){super(),this._renderData=new Zi([]),this._filter=new Zi(""),this._internalPageChanges=new Xe.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(qv(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((u,h)=>{let p=this.sortingDataAccessor(u,r),v=this.sortingDataAccessor(h,r);const w=typeof p,D=typeof v;w!==D&&("number"===w&&(p+=""),"number"===D&&(v+=""));let k=0;return null!=p&&null!=v?p>v?k=1:p<v&&(k=-1):null!=p?k=1:null!=v&&(k=-1),k*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Zi(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Wo.T)(this._sort.sortChange,this._sort.initialized):Ae(null),e=this._paginator?(0,Wo.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ae(null),r=kl([this._data,this._filter]).pipe((0,ot.U)(([h])=>this._filterData(h))),s=kl([r,t]).pipe((0,ot.U)(([h])=>this._orderData(h))),u=kl([s,e]).pipe((0,ot.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}var oa=F(5861);const k0={headers:new ki({"Content-Type":"application/json",Authorization:"my-auth-token"})};let zg=(()=>{class n{constructor(e){this.http=e,this.baseUrl=" https://skillportalwebapi.azurewebsites.net/api/Skill/api/"}listskill(){return this.http.get(this.baseUrl+"GetAllSkills/?UserId=mary.renjith19@gmail.com")}listExam(){return this.http.get(this.baseUrl+"GetAllExams/?UserId=mary.renjith19@gmail.com")}listSkillName(){return this.http.get(this.baseUrl+"GetSkillNames")}listaAddedSkillNames(){return this.http.get(this.baseUrl+"GetAddedSkillNames/?userId=mary.renjith19@gmail.com")}addSkill(e){const r=JSON.stringify(e);return this.http.post(this.baseUrl+"AddSkillDetails/"+r,r,k0)}addExam(e){const i={headers:new ki({"Content-Type":"application/json"})},s=JSON.stringify(e);return console.log(s),this.http.post(this.baseUrl+"addExamDetails/"+e,s,i)}deleteSkill(e){return this.http.post(this.baseUrl+"deleteSkillDetails/?UserId=mary.renjith19@gmail.com&skillDetailsId="+e,k0)}deleteExam(e){return this.http.post(this.baseUrl+"deleteExamDetails/?UserId=mary.renjith19@gmail.com&examDetailsId="+e,k0)}editSkill(e){console.log(e);const r=JSON.stringify(e);return this.http.post(this.baseUrl+"AddSkillDetails/"+r,r,k0)}checkSkill(e){return this.http.get(this.baseUrl+"checkSkillAdded/?UserId=mary.renjith19@gmail.com&skillId="+e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ic))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Fp extends yM{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class R0 extends yM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Q2 extends yM{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class x0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Fp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof R0?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Q2?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class J2 extends x0{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Lp=(()=>{class n extends x0{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ie))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Bp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const uP=Hv();class X2{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=nr(-this._previousScrollPosition.left),t.style.top=nr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),uP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uP&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class eU{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dP{enable(){}disable(){}attach(){}}function bM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function hP(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class tU{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nU=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new dP,this.close=u=>new eU(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new X2(this._viewportRuler,this._document),this.reposition=u=>new tU(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(XA),o.LFG(tb),o.LFG(o.R0b),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rb{constructor(t){if(this.scrollStrategy=new dP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class iU{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let fP=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rU=(()=>{class n extends fP{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oU=(()=>{class n extends fP{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=rd(s)},this._clickListener=s=>{const u=rd(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const w=p[v];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(u)||w.overlayElement.contains(h))break;const D=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(pi),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O0=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Vv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Vv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(pi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ob{constructor(t,e,i,r,s,u,h,p,v,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=v,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new Xe.x,this._attachments=new Xe.x,this._detachments=new Xe.x,this._locationChanges=xi.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Xe.x,this._outsidePointerEvents=new Xe.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=nr(this._config.width),t.height=nr(this._config.height),t.minWidth=nr(this._config.minWidth),t.minHeight=nr(this._config.minHeight),t.maxWidth=nr(this._config.maxWidth),t.maxHeight=nr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=yp(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(un((0,Wo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const pP="cdk-overlay-connected-position-bounding-box",sU=/([A-Za-z%]+)$/;class mP{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xe.x,this._resizeSubscription=xi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(pP),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(p,e,h),w=this._getOverlayFit(v,e,i,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,v,i)?s.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<w.visibleArea)&&(u={overlayFit:w,overlayPoint:v,originPoint:p,position:h,overlayRect:e})}if(s.length){let h=null,p=-1;for(const v of s){const w=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);w>p&&(p=w,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Up(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=_P(e);let{x:u,y:h}=t,p=this._getOffset(r,"x"),v=this._getOffset(r,"y");p&&(u+=p),v&&(h+=v);let k=0-h,P=h+s.height-i.height,U=this._subtractOverflows(s.width,0-u,u+s.width-i.width),j=this._subtractOverflows(s.height,k,P),ae=U*j;return{visibleArea:ae,isCompletelyWithinViewport:s.width*s.height===ae,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=gP(this._overlayRef.getConfig().minHeight),h=gP(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=_P(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),v=Math.max(s.left-i.left-t.x,0);let w=0,D=0;return w=r.width<=s.width?v||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?p||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:w,y:D},{x:t.x+w,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new iU(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,w,D,k;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;s=2*P,u=t.y-P,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)k=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,w=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;w=2*P,D=t.x-P,w>U&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-U/2)}return{top:u,left:D,bottom:h,right:k,width:w,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=nr(i.height),r.top=nr(i.top),r.bottom=nr(i.bottom),r.width=nr(i.width),r.left=nr(i.left),r.right=nr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=nr(s)),u&&(r.maxWidth=nr(u))}this._lastBoundingBoxSize=i,Up(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Up(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Up(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();Up(i,this._getExactOverlayY(e,t,w)),Up(i,this._getExactOverlayX(e,t,w))}else i.position="static";let h="",p=this._getOffset(e,"x"),v=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=nr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=nr(u.maxWidth):s&&(i.maxWidth="")),Up(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=nr(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=nr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hP(t,i),isOriginOutsideView:bM(t,i),isOverlayClipped:hP(e,i),isOverlayOutsideView:bM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&yp(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Up(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function gP(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(sU);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _P(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vP="cdk-global-overlay-wrapper";class aU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vP),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,D=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let P="",U="",j="";p?j="flex-start":"center"===w?(j="center",k?U=D:P=D):k?"left"===w||"end"===w?(j="flex-end",P=D):("right"===w||"start"===w)&&(j="flex-start",U=D):"left"===w||"start"===w?(j="flex-start",P=D):("right"===w||"end"===w)&&(j="flex-end",U=D),t.position=this._cssPosition,t.marginLeft=p?"0":P,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":U,e.justifyContent=j,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vP),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let lU=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new aU}flexibleConnectedTo(e){return new mP(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tb),o.LFG(ie),o.LFG(pi),o.LFG(O0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cU=0,el=(()=>{class n{constructor(e,i,r,s,u,h,p,v,w,D,k,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=v,this._directionality=w,this._location=D,this._outsideClickDispatcher=k,this._animationsModuleType=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new rb(e);return u.direction=u.direction||this._directionality.value,new ob(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+cU++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new J2(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nU),o.LFG(O0),o.LFG(o._Vd),o.LFG(lU),o.LFG(rU),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ie),o.LFG(uo),o.LFG(_e),o.LFG(oU),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const uU=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],yP=new o.OlP("cdk-connected-overlay-scroll-strategy");let bP=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),CP=(()=>{class n{constructor(e,i,r,s,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=xi.w0.EMPTY,this._attachSubscription=xi.w0.EMPTY,this._detachSubscription=xi.w0.EMPTY,this._positionSubscription=xi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new R0(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ht(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ht(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ht(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ht(e)}get push(){return this._push}set push(e){this._push=Ht(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=uU);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!co(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new rb({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(vm(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(el),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(yP),o.Y36(uo,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const hU={provide:yP,deps:[el],useFactory:function dU(n){return()=>n.scrollStrategies.reposition()}};let sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[el,hU],imports:[wp,Bp,tM,tM]}),n})();class wP{}const bd="*";function Ko(n,t){return{type:7,name:n,definitions:t,options:{}}}function Si(n,t=null){return{type:4,styles:t,timings:n}}function EP(n,t=null){return{type:3,steps:n,options:t}}function SP(n,t=null){return{type:2,steps:n,options:t}}function Ft(n){return{type:6,styles:n,offset:null}}function ii(n,t,e){return{type:0,name:n,styles:t,options:e}}function Yg(n){return{type:5,steps:n}}function ri(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function P0(n=null){return{type:9,options:n}}function N0(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function DP(n){Promise.resolve(null).then(n)}class ab{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class TP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?DP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function pU(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function mU(n,t){}const IP=new o.OlP("MatSnackBarData");class F0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const gU=Math.pow(2,31)-1;class wM{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Xe.x,this._afterOpened=new Xe.x,this._onAction=new Xe.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,gU))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let _U=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(wM),o.Y36(IP))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA(),o.YNc(2,pU,3,1,"div",1)),2&e&&(o.xp6(1),o.Oqu(i.data.message),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Mn,Tp],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const vU={snackBarState:Ko("state",[ii("void, hidden",Ft({transform:"scale(0.8)",opacity:0})),ii("visible",Ft({transform:"scale(1)",opacity:1})),ri("* => visible",Si("150ms cubic-bezier(0, 0, 0.2, 1)")),ri("* => void, * => hidden",Si("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ft({opacity:0})))])};let yU=(()=>{class n extends x0{constructor(e,i,r,s,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Xe.x,this._onExit=new Xe.x,this._onEnter=new Xe.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),p},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Zn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(pi),o.Y36(F0))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Lp,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),bU=(()=>{class n extends yU{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,mU,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",i._live)("role",i._role))},dependencies:[Lp],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[vU.snackBarState]}}),n})(),EM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sb,Bp,ci,ws,nn,nn]}),n})();const L0=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function CU(){return new F0}});let wU=(()=>{class n{constructor(e,i,r,s,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:F0,useValue:i}]}),u=new Fp(this.snackBarContainerComponent,i.viewContainerRef,s),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new F0,...this._defaultConfig,...i},s=this._createOverlay(r),u=this._attachSnackBarContainer(s,r),h=new wM(u,s);if(e instanceof o.Rgc){const p=new R0(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(p)}else{const p=this._createInjector(r,h),v=new Fp(e,void 0,p),w=u.attachComponentPortal(v);h.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(un(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new rb;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wM,useValue:i},{provide:IP,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(el),o.LFG(lg),o.LFG(o.zs3),o.LFG(Kv),o.LFG(n,12),o.LFG(L0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qg=(()=>{class n extends wU{constructor(e,i,r,s,u,h){super(e,i,r,s,u,h),this.simpleSnackBarComponent=_U,this.snackBarContainerComponent=bU,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(el),o.LFG(lg),o.LFG(o.zs3),o.LFG(Kv),o.LFG(n,12),o.LFG(L0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:EM}),n})();var Yr=F(5813),Ao=F(2011),AP=F(3942),Kl=F(9681),B=F(2090),Cd=F(4859);const MP="firebasestorage.googleapis.com",kP="storageBucket";class Ji extends B.ZR{constructor(t,e){super(SM(t),`Firebase Storage: ${e} (${SM(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}_codeEquals(t){return SM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function SM(n){return"storage/"+n}function DM(){return new Ji("unknown","An unknown error occurred, please check the error payload for server response.")}function RP(){return new Ji("canceled","User canceled the upload/download.")}function xP(){return new Ji("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function $g(n){return new Ji("invalid-argument",n)}function OP(){return new Ji("app-deleted","The Firebase app was deleted.")}function PP(n){return new Ji("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lb(n,t){return new Ji("invalid-format","String does not match format '"+n+"': "+t)}function cb(n){throw new Ji("internal-error","Internal error: "+n)}class Mo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Mo.makeFromUrl(t,e)}catch{return new Mo(t,"")}if(""===i.path)return i;throw function xU(n){return new Ji("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(tt){tt.path_=decodeURIComponent(tt.path)}const D=e.replace(/[.]/g,"\\."),Ke=[{regex:h,indices:{bucket:1,path:3},postModify:function s(tt){"/"===tt.path.charAt(tt.path.length-1)&&(tt.path_=tt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===MP?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let tt=0;tt<Ke.length;tt++){const Xt=Ke[tt],pn=Xt.regex.exec(t);if(pn){let zn=pn[Xt.indices.path];zn||(zn=""),i=new Mo(pn[Xt.indices.bucket],zn),Xt.postModify(i);break}}if(null==i)throw function RU(n){return new Ji("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class FU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function B0(n){return"string"==typeof n||n instanceof String}function NP(n){return TM()&&n instanceof Blob}function TM(){return typeof Blob<"u"}function IM(n,t,e,i){if(i<t)throw $g(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw $g(`Invalid value for '${n}'. Expected ${e} or less.`)}function wd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function FP(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Vh=(()=>{return(n=Vh||(Vh={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Vh;var n})();class jU{constructor(t,e,i,r,s,u,h,p,v,w,D){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,P)=>{this.resolve_=k,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function UU(n){return void 0!==n}(p)?s():s(p)}catch(p){u(p)}else if(null!==h){const p=DM();p.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,p):p)}else u(r.canceled?this.appDelete_?OP():RP():function kU(){return new Ji("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new U0(!1,null,!0)):this.backoffId_=function LU(n,t,e){let i=1,r=null,s=null,u=!1,h=0;function p(){return 2===h}let v=!1;function w(...ae){v||(v=!0,t.apply(null,ae))}function D(ae){r=setTimeout(()=>{r=null,n(P,p())},ae)}function k(){s&&clearTimeout(s)}function P(ae,...Ee){if(v)return void k();if(ae)return k(),void w.call(null,ae,...Ee);if(p()||u)return k(),void w.call(null,ae,...Ee);let Ke;i<64&&(i*=2),1===h?(h=2,Ke=0):Ke=1e3*(i+Math.random()),D(Ke)}let U=!1;function j(ae){U||(U=!0,k(),!v&&(null!==r?(ae||(h=2),clearTimeout(r),D(0)):ae||(h=1)))}return D(0),s=setTimeout(()=>{u=!0,j(!0)},e),j}((i,r)=>{if(r)return void i(!1,new U0(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===Vh.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const w=s.getErrorCode()===Vh.ABORT;return void i(!1,new U0(!1,null,w))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new U0(v,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function BU(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class U0{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function KU(...n){const t=function WU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(TM())return new Blob(n);throw new Ji("unsupported-environment","This browser doesn't seem to support creating Blobs")}const sa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class AM{constructor(t,e){this.data=t,this.contentType=e||null}}function MM(n,t){switch(n){case sa.RAW:return new AM(LP(t));case sa.BASE64:case sa.BASE64URL:return new AM(BP(n,t));case sa.DATA_URL:return new AM(function XU(n){const t=new UP(n);return t.base64?BP(sa.BASE64,t.rest):function JU(n){let t;try{t=decodeURIComponent(n)}catch{throw lb(sa.DATA_URL,"Malformed data URL.")}return LP(t)}(t.rest)}(t),function eH(n){return new UP(n).contentType}(t))}throw DM()}function LP(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function BP(n,t){switch(n){case sa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw lb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case sa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw lb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function QU(n){return atob(n)}(t)}catch{throw lb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class UP{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw lb(sa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function tH(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class su{constructor(t,e){let i=0,r="";NP(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(NP(this.data_)){const r=function ZU(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new su(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new su(i,!0)}}static getBlob(...t){if(TM()){const e=t.map(i=>i instanceof su?i.data_:i);return new su(KU.apply(null,e))}{const e=t.map(u=>B0(u)?MM(sa.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[s++]=u[h]}),new su(r,!0)}}uploadData(){return this.data_}}function kM(n){let t;try{t=JSON.parse(n)}catch{return null}return function VU(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function HP(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function rH(n,t){return t}class Zo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||rH}}let H0=null;function ub(){if(H0)return H0;const n=[];n.push(new Zo("bucket")),n.push(new Zo("generation")),n.push(new Zo("metageneration")),n.push(new Zo("name","fullPath",!0));const e=new Zo("name");e.xform=function t(s,u){return function oH(n){return!B0(n)||n.length<2?n:HP(n)}(u)},n.push(e);const r=new Zo("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Zo("timeCreated")),n.push(new Zo("updated")),n.push(new Zo("md5Hash",null,!0)),n.push(new Zo("cacheControl",null,!0)),n.push(new Zo("contentDisposition",null,!0)),n.push(new Zo("contentEncoding",null,!0)),n.push(new Zo("contentLanguage",null,!0)),n.push(new Zo("contentType",null,!0)),n.push(new Zo("metadata","customMetadata",!0)),H0=n,H0}function VP(n,t,e){const i=kM(t);return null===i?null:function aH(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const u=e[s];i[u.local]=u.xform(i,t[u.server])}return function sH(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Mo(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function RM(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const jP="prefixes";class au{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lu(n){if(!n)throw DM()}function V0(n,t){return function e(i,r){const s=VP(n,r,t);return lu(null!==s),s}}function Wg(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function AU(){return new Ji("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function IU(){return new Ji("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function TU(n){return new Ji("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function MU(n){return new Ji("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function db(n){const t=Wg(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function DU(n){return new Ji("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function zP(n,t,e){const r=wd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new au(r,"GET",V0(n,e),u);return h.errorHandler=db(t),h}function fH(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=wd(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,w=new au(h,"GET",function dH(n,t){return function e(i,r){const s=function uH(n,t,e){const i=kM(e);return null===i?null:function cH(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[jP])for(const r of e[jP]){const s=r.replace(/\/$/,""),u=n._makeStorageReference(new Mo(t,s));i.prefixes.push(u)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new Mo(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return lu(null!==s),s}}(n,t.bucket),v);return w.urlParams=s,w.errorHandler=Wg(t),w}function qP(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function _H(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class j0{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function xM(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{lu(!1)}return lu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const CH={STATE_CHANGED:"state_changed"},Qo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function OM(n){switch(n){case"running":case"pausing":case"canceling":return Qo.RUNNING;case"paused":return Qo.PAUSED;case"success":return Qo.SUCCESS;case"canceled":return Qo.CANCELED;default:return Qo.ERROR}}class wH{constructor(t,e,i){if(function HU(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Kg(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class SH extends class EH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw cb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Zl(){return new SH}class ZP{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=ub(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function vH(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u=qP(t,i,r),h={name:u.fullPath},p=wd(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},D=RM(u,e),U=new au(p,"POST",function P(j){let ae;xM(j);try{ae=j.getResponseHeader("X-Goog-Upload-URL")}catch{lu(!1)}return lu(B0(ae)),ae},n.maxUploadRetryTime);return U.urlParams=h,U.headers=w,U.body=D,U.errorHandler=Wg(t),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Zl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function yH(n,t,e,i){const p=new au(e,"POST",function s(v){const w=xM(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{lu(!1)}D||lu(!1);const k=Number(D);return lu(!isNaN(k)),new j0(k,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Wg(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Zl,e,i);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new j0(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let u;try{u=function bH(n,t,e,i,r,s,u,h){const p=new j0(0,0);if(u?(p.current=u.current,p.total=u.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function PU(){return new Ji("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let w=v;r>0&&(w=Math.min(w,r));const D=p.current,U={"X-Goog-Upload-Command":w===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},j=i.slice(D,D+w);if(null===j)throw xP();const Ke=new au(e,"POST",function ae(tt,Xt){const pn=xM(tt,["active","final"]),Gn=p.current+w,zn=i.size();let es;return es="final"===pn?V0(t,s)(tt,Xt):null,new j0(Gn,zn,"final"===pn,es)},t.maxUploadRetryTime);return Ke.headers=U,Ke.body=j.uploadData(),Ke.progressCallback=h||null,Ke.errorHandler=Wg(n),Ke}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Zl,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=zP(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Zl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function $P(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Ke="";for(let tt=0;tt<2;tt++)Ke+=Math.random().toString().slice(2);return Ke}();u["Content-Type"]="multipart/related; boundary="+p;const v=qP(t,i,r),w=RM(v,e),P=su.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw xP();const U={name:v.fullPath},j=wd(s,n.host,n._protocol),Ee=n.maxUploadRetryTime,Ve=new au(j,"POST",V0(n,e),Ee);return Ve.urlParams=U,Ve.headers=u,Ve.body=P.uploadData(),Ve.errorHandler=Wg(t),Ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Zl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=RP(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=OM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new wH(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(OM(this._state)){case Qo.SUCCESS:Kg(this._resolve.bind(null,this.snapshot))();break;case Qo.CANCELED:case Qo.ERROR:Kg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(OM(this._state)){case Qo.RUNNING:case Qo.PAUSED:t.next&&Kg(t.next.bind(t,this.snapshot))();break;case Qo.SUCCESS:t.complete&&Kg(t.complete.bind(t))();break;default:t.error&&Kg(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Hp{constructor(t,e){this._service=t,this._location=e instanceof Mo?e:Mo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Hp(t,e)}get root(){const t=new Mo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HP(this._location.path)}get storage(){return this._service}get parent(){const t=function nH(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Mo(this._location.bucket,t);return new Hp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw PP(t)}}function JP(n,t,e){return PM.apply(this,arguments)}function PM(){return(PM=(0,oa.Z)(function*(n,t,e){const r=yield XP(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield JP(n,t,r.nextPageToken))})).apply(this,arguments)}function XP(n,t){null!=t&&"number"==typeof t.maxResults&&IM("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=fH(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Zl)}function FH(n){n._throwIfRoot("getDownloadURL");const t=function pH(n,t,e){const r=wd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new au(r,"GET",function hH(n,t){return function e(i,r){const s=VP(n,r,t);return lu(null!==s),function lH(n,t,e,i){const r=kM(t);if(null===r||!B0(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(v=>{const D=n.fullPath;return wd("/b/"+u(n.bucket)+"/o/"+u(D),e,i)+FP({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=db(t),h}(n.storage,n._location,ub());return n.storage.makeRequestWithTokens(t,Zl).then(e=>{if(null===e)throw function NU(){return new Ji("no-download-url","The given file does not have any download URLs.")}();return e})}function eN(n,t){const e=function iH(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Mo(n._location.bucket,e);return new Hp(n.storage,i)}function tN(n,t){if(n instanceof NM){const e=n;if(null==e._bucket)throw function OU(){return new Ji("no-default-bucket","No default bucket found. Did you set the '"+kP+"' property when initializing the app?")}();const i=new Hp(e,e._bucket);return null!=t?tN(i,t):i}return void 0!==t?eN(n,t):n}function HH(n,t){if(t&&function BH(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof NM)return function UH(n,t){return new Hp(n,t)}(n,t);throw $g("To use ref(service, url), the first argument must be a Storage instance.")}return tN(n,t)}function nN(n,t){const e=t?.[kP];return null==e?null:Mo.makeFromBucketSpec(e,n)}class NM{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=MP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Mo.makeFromBucketSpec(r,this._host):nN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Mo.makeFromBucketSpec(this._url,t):nN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){IM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){IM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,oa.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,oa.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Hp(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new FU(OP());{const s=function $U(n,t,e,i,r,s){const u=FP(n.urlParams),h=n.url+u,p=Object.assign({},n.headers);return function YU(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function GU(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function zU(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(p,s),function qU(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new jU(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,oa.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const iN="@firebase/storage";function sN(n,t){return HH(n=(0,B.m9)(n),t)}function QH(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new NM(e,i,r,t,Kl.SDK_VERSION)}!function JH(){(0,Kl._registerComponent)(new Cd.wA("storage",QH,"PUBLIC").setMultipleInstances(!0)),(0,Kl.registerVersion)(iN,"0.9.9",""),(0,Kl.registerVersion)(iN,"0.9.9","esm2017")}();class G0{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class aN{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new G0(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new G0(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?u=>e(new G0(u,this,this._ref)):{next:e.next?u=>e.next(new G0(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class lN{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Ed(t,this._service))}get items(){return this._delegate.items.map(t=>new Ed(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ed{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function KH(n,t){return eN(n,t)}(this._delegate,t);return new Ed(e,this.storage)}get root(){return new Ed(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ed(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new aN(function jH(n,t,e){return function RH(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new ZP(n,new su(t),e)}(n=(0,B.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=sa.RAW,i){this._throwIfRoot("putString");const r=MM(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new aN(new ZP(this._delegate,new su(r.data,!0),s),this)}listAll(){return function qH(n){return function OH(n){const t={prefixes:[],items:[]};return JP(n,t).then(()=>t)}(n=(0,B.m9)(n))}(this._delegate).then(t=>new lN(t,this.storage))}list(t){return function YH(n,t){return XP(n=(0,B.m9)(n),t)}(this._delegate,t||void 0).then(e=>new lN(e,this.storage))}getMetadata(){return function GH(n){return function PH(n){n._throwIfRoot("getMetadata");const t=zP(n.storage,n._location,ub());return n.storage.makeRequestWithTokens(t,Zl)}(n=(0,B.m9)(n))}(this._delegate)}updateMetadata(t){return function zH(n,t){return function NH(n,t){n._throwIfRoot("updateMetadata");const e=function mH(n,t,e,i){const s=wd(t.fullServerUrl(),n.host,n._protocol),h=RM(e,i),v=n.maxOperationRetryTime,w=new au(s,"PATCH",V0(n,i),v);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=db(t),w}(n.storage,n._location,t,ub());return n.storage.makeRequestWithTokens(e,Zl)}(n=(0,B.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function $H(n){return FH(n=(0,B.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function WH(n){return function LH(n){n._throwIfRoot("deleteObject");const t=function gH(n,t){const i=wd(t.fullServerUrl(),n.host,n._protocol),h=new au(i,"DELETE",function u(p,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=db(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Zl)}(n=(0,B.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw PP(t)}}class cN{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(uN(t))throw $g("ref() expected a child path but got a URL, use refFromURL instead.");return new Ed(sN(this._delegate,t),this)}refFromURL(t){if(!uN(t))throw $g("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Mo.makeFromUrl(t,this._delegate.host)}catch{throw $g("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ed(sN(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function ZH(n,t,e,i={}){!function VH(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,B.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function uN(n){return/^[A-Za-z]+:\/\//.test(n)}function nV(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new cN(e,i)}!function iV(n){const t={TaskState:Qo,TaskEvent:CH,StringFormat:sa,Storage:cN,Reference:Ed};n.INTERNAL.registerComponent(new Cd.wA("storage-compat",nV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(AP.Z),F(5867);var Y0=F(1877);const hN=new Map,lV={activated:!1,tokenObservers:[]},cV={initialized:!1,enabled:!1};function qr(n){return hN.get(n)||lV}function Ql(n,t){hN.set(n,t)}function q0(){return cV}class pV{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,oa.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function mV(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Jo=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pN(n){if(!qr(n).activated)throw Jo.create("use-before-activation",{appName:n.name})}function UM(n,t){return HM.apply(this,arguments)}function HM(){return(HM=(0,oa.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const P=yield u.getHeartbeatsHeader();P&&(s["X-Firebase-Client"]=P)}const h={method:"POST",body:JSON.stringify(t),headers:s};let p,v;try{p=yield fetch(n,h)}catch(P){throw Jo.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw Jo.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(P){throw Jo.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Jo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const D=1e3*Number(w[1]),k=Date.now();return{token:v.token,expireTimeMillis:k+D,issuedAtTimeMillis:k}})).apply(this,arguments)}function yV(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const hb="firebase-app-check-store";let K0=null;function gN(){return K0||(K0=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Jo.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hb,{keyPath:"compositeKey"})}}catch(i){t(Jo.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),K0)}function VM(){return(VM=(0,oa.Z)(function*(n,t){const i=(yield gN()).transaction(hb,"readwrite"),s=i.objectStore(hb).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=p=>{u()},i.onerror=p=>{var v;h(Jo.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const fb=new Y0.Yd("@firebase/app-check");function bN(n,t){return(0,B.hl)()?function EV(n,t){return function _N(n,t){return VM.apply(this,arguments)}(function yN(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{fb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function CN(){return q0().enabled}function wN(){return YM.apply(this,arguments)}function YM(){return(YM=(0,oa.Z)(function*(){const n=q0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MV={error:"UNKNOWN_ERROR"};function kV(n){return B.US.encodeString(JSON.stringify(n),!1)}function Z0(n){return qM.apply(this,arguments)}function qM(){return(qM=(0,oa.Z)(function*(n,t=!1){const e=n.app;pN(e);const i=qr(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&Q0(p)&&(r=p)}if(!t&&r&&Q0(r))return{token:r.token};let h,u=!1;if(CN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=UM(yV(e,yield wN()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const p=yield i.exchangeTokenPromise;return yield bN(e,p),Ql(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),u=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?fb.warn(p.message):fb.error(p),s=p}return r?(h={token:r.token},Ql(e,Object.assign(Object.assign({},i),{token:r})),yield bN(e,r)):h=xV(s),u&&SN(e,h),h})).apply(this,arguments)}function WM(n,t){const e=qr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ql(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function EN(n){const{app:t}=n,e=qr(t);let i=e.tokenRefresher;i||(i=function RV(n){const{app:t}=n;return new pV((0,oa.Z)(function*(){let i;if(i=qr(t).token?yield Z0(n,!0):yield Z0(n),i.error)throw i.error}),()=>!0,()=>{const e=qr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ql(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function SN(n,t){const e=qr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Q0(n){return n.expireTimeMillis-Date.now()>0}function xV(n){return{token:kV(MV),error:n}}class OV{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=qr(this.app);for(const e of t)WM(this.app,e.next);return Promise.resolve()}}const xN="app-check-internal";!function $V(){(0,Kl._registerComponent)(new Cd.wA("app-check",n=>function PV(n,t){return new OV(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(xN).initialize()})),(0,Kl._registerComponent)(new Cd.wA(xN,n=>function NV(n){return{getToken:t=>Z0(n,t),addTokenListener:t=>function $M(n,t,e,i){const{app:r}=n,s=qr(r),u={next:e,error:i,type:t};if(Ql(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&Q0(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),EN(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>EN(n))}(n,"INTERNAL",t),removeTokenListener:t=>WM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kl.registerVersion)("@firebase/app-check","0.5.12")}();class X0{constructor(){return(0,Yr.vb)("app-check")}}typeof window<"u"&&window;var PN=F(127);function NN(n){const t=function JV(n){return new ui.y(t=>{const e=u=>t.next(u);e(n.snapshot);const s=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){s()}}).pipe(ad(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ot.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function eS(n){return{getDownloadURL:()=>Ae(void 0).pipe(Yr.fc,Vn(()=>n.getDownloadURL()),Yr.iC),getMetadata:()=>Ae(void 0).pipe(Yr.fc,Vn(()=>n.getMetadata()),Yr.iC),delete:()=>(0,zt.D)(n.delete()),child:t=>eS(n.child(t)),updateMetadata:t=>(0,zt.D)(n.updateMetadata(t)),put:(t,e)=>NN(n.put(t,e)),putString:(t,e,i)=>NN(n.putString(t,e,i)),list:t=>(0,zt.D)(n.list(t)),listAll:()=>(0,zt.D)(n.listAll())}}const XV=new o.OlP("angularfire2.storageBucket"),e3=new o.OlP("angularfire2.storage.maxUploadRetryTime"),t3=new o.OlP("angularfire2.storage.maxOperationRetryTime"),n3=new o.OlP("angularfire2.storage.use-emulator");let XM=(()=>{class n{constructor(e,i,r,s,u,h,p,v,w,D){const k=(0,Ao.on)(e,u,i);this.storage=(0,Ao.cc)(`${k.name}.storage.${r}`,"AngularFireStorage",k.name,()=>{const P=u.runOutsideAngular(()=>k.storage(r||void 0)),U=w;return U&&P.useEmulator(...U),p&&P.setMaxUploadRetryTime(p),v&&P.setMaxOperationRetryTime(v),P},[p,v])}ref(e){return eS(this.storage.ref(e))}refFromURL(e){return eS(this.storage.refFromURL(e))}upload(e,i,r){return eS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ao.Dh),o.LFG(Ao.xv,8),o.LFG(XV,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Yr.HU),o.LFG(e3,8),o.LFG(t3,8),o.LFG(n3,8),o.LFG(X0,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),r3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),FN=(()=>{class n{constructor(){PN.Z.registerVersion("angularfire",Yr.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[XM],imports:[r3]}),n})();const o3=["connectionContainer"],s3=["inputContainer"],a3=["label"];function l3(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function c3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function u3(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function d3(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function h3(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function f3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,u3,4,1,"ng-container",12),o.YNc(3,d3,1,0,"ng-content",12),o.YNc(4,h3,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function p3(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function m3(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function g3(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function _3(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function v3(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,_3,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const y3=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],b3=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let C3=0;const LN=new o.OlP("MatError");let ek=(()=>{class n{constructor(e,i){this.id="mat-error-"+C3++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:LN,useExisting:n}])]}),n})();const w3={transitionMessages:Ko("transitionMessages",[ii("enter",Ft({opacity:1,transform:"translateY(0%)"})),ri("void => enter",[Ft({opacity:0,transform:"translateY(-5px)"}),Si("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let tS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),E3=0;const BN=new o.OlP("MatHint");let tk=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+E3++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id)("align",null),o.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:BN,useExisting:n}])]}),n})(),jh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const D3=new o.OlP("MatPrefix"),UN=new o.OlP("MatSuffix");let HN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:UN,useExisting:n}])]}),n})(),VN=0;const I3=kh(class{constructor(n){this._elementRef=n}},"primary"),A3=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),nS=new o.OlP("MatFormField");let Zg=(()=>{class n extends I3{constructor(e,i,r,s,u,h,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Xe.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+VN++,this._labelId="mat-form-field-label-"+VN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ht(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Vi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(un(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(un(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Wo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(un(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,We(this._label.nativeElement,"transitionend").pipe(Zn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<w.length;D++)w[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(w),k=e.children,P=this._getStartEnd(k[0].getBoundingClientRect());let U=0;for(let j=0;j<k.length;j++)U+=k[j].offsetWidth;u=Math.abs(P-D)-5,h=U>0?.75*U+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${u}px`;for(let w=0;w<v.length;w++)v[w].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(uo,8),o.Y36(A3,8),o.Y36(pi),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,tS,5),o.Suo(r,tS,7),o.Suo(r,jh,5),o.Suo(r,jh,7),o.Suo(r,S3,5),o.Suo(r,LN,5),o.Suo(r,BN,5),o.Suo(r,D3,5),o.Suo(r,UN,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(o3,7),o.Gf(s3,5),o.Gf(a3,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:nS,useExisting:n}]),o.qOj],ngContentSelectors:b3,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(y3),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,l3,9,0,"ng-container",3),o.YNc(4,c3,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,f3,5,16,"label",8),o.qZA()(),o.YNc(10,p3,2,0,"div",9),o.qZA(),o.YNc(11,m3,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,g3,2,1,"div",12),o.YNc(14,v3,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Mn,vo,wr,Ih],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[w3.transitionMessages]},changeDetection:0}),n})(),Qg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ci,nn,$v,nn]}),n})();const GN=id({passive:!0});let M3=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ks.E;const i=_t(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Xe.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,GN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,GN)}}),s}stopMonitoring(e){const i=_t(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const YN=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),k3=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let R3=0;const x3=Jw(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Xe.x}});let iS=(()=>{class n extends x3{constructor(e,i,r,s,u,h,p,v,w,D){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+R3++,this.focused=!1,this.stateChanges=new Xe.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>nd().has(U)),this._iOSKeyupListener=U=>{const j=U.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,P=k.nodeName.toLowerCase();this._inputValueAccessor=p||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ht(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(gr.required)??!1}set required(e){this._required=Ht(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&nd().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ht(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){k3.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(pi),o.Y36(ra,10),o.Y36(Fh,8),o.Y36(Wl,8),o.Y36(ly),o.Y36(YN,10),o.Y36(M3),o.Y36(o.R0b),o.Y36(nS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:tS,useExisting:n}]),o.qOj,o.TTD]}),n})(),qN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ly],imports:[zN,Qg,nn,zN,Qg]}),n})();const O3=["trigger"],P3=["panel"];function N3(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function F3(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function L3(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function B3(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,F3,2,1,"span",10),o.YNc(2,L3,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function U3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const H3=[[["mat-select-trigger"]],"*"],V3=["mat-select-trigger","*"],$N={transformPanelWrap:Ko("transformPanelWrap",[ri("* => void",N0("@transformPanel",[P0()],{optional:!0}))]),transformPanel:Ko("transformPanel",[ii("void",Ft({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ii("showing",Ft({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ii("showing-multiple",Ft({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ri("void => *",Si("120ms cubic-bezier(0, 0, 0.2, 1)")),ri("* => void",Si("100ms 25ms linear",Ft({opacity:0})))])};let WN=0;const ZN=new o.OlP("mat-select-scroll-strategy"),Y3=new o.OlP("MAT_SELECT_CONFIG"),q3={provide:ZN,deps:[el],useFactory:function z3(n){return()=>n.scrollStrategies.reposition()}};class $3{constructor(t,e){this.source=t,this.value=e}}const W3=Jc(Qw(Mh(Jw(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Xe.x}})))),K3=new o.OlP("MatSelectTrigger");let Z3=(()=>{class n extends W3{constructor(e,i,r,s,u,h,p,v,w,D,k,P,U,j){super(u,s,p,v,D),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=w,this._liveAnnouncer=U,this._defaultOptions=j,this._panelOpen=!1,this._compareWith=(ae,Ee)=>ae===Ee,this._uid="mat-select-"+WN++,this._triggerAriaLabelledBy=null,this._destroy=new Xe.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+WN++,this._panelDoneAnimatingStream=new Xe.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Zs(()=>{const ae=this.options;return ae?ae.changes.pipe(Vi(ae),Vn(()=>(0,Wo.T)(...ae.map(Ee=>Ee.onSelectionChange)))):this._ngZone.onStable.pipe(Zn(1),Vn(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(fn(ae=>ae),(0,ot.U)(()=>{})),this._closedStream=this.openedChange.pipe(fn(ae=>!ae),(0,ot.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=j?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._scrollStrategyFactory=P,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(k)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(gr.required)??!1}set required(e){this._required=Ht(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ht(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ht(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=cd(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new gg(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(rg(),un(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(un(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Vi(null),un(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&s&&!co(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const p=this.selected;p&&h!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,u=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||co(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(h?p.select():p.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Zn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Fw(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(un(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(un(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Wo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(un(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Wo.T)(...this.options.map(i=>i._stateChanges)).pipe(un(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(tb),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(ly),o.Y36(o.SBq),o.Y36(uo,8),o.Y36(Fh,8),o.Y36(Wl,8),o.Y36(nS,8),o.Y36(ra,10),o.$8M("tabindex"),o.Y36(ZN),o.Y36(lg),o.Y36(Y3,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(O3,5),o.Gf(P3,5),o.Gf(CP,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),oS=(()=>{class n extends Z3{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(un(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Zn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=cE(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function Sp(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new $3(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let v=this._selectionModel.selected[0]||this.options.first;u=v&&v.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?s:0)),p=e.right+u-i.width+(r?0:s);h>0?u+=h+8:p>0&&(u-=p+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),u=(s-this._triggerRect.height)/2,h=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-h))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;v>u?this._adjustPanelUp(v,u):h>s?this._adjustPanelDown(h,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=cE(h,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(h,p,u),this._offsetY=this._calculateOverlayOffsetY(h,p,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,K3,5),o.Suo(r,Ep,5),o.Suo(r,lE,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:tS,useExisting:n},{provide:aE,useExisting:n}]),o.qOj],ngContentSelectors:V3,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(H3),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,N3,2,1,"span",3),o.YNc(5,B3,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,U3,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[ga,vo,wr,ks,CP,bP],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[$N.transformPanelWrap,$N.transformPanel]},changeDetection:0}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[q3],imports:[ci,sb,my,nn,Hg,Qg,my,nn]}),n})();const Q3=["mat-calendar-body",""];function J3(n,t){if(1&n&&(o.TgZ(0,"tr",2)(1,"td",3),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function X3(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function ej(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7)(1,"button",8),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h._cellClicked(u,r))})("focus",function(r){const u=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h._emitActiveDateChange(u,r))}),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._UZ(4,"div",10),o.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.uIk("data-mat-row",r)("data-mat-col",i),o.xp6(1),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function tj(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,X3,2,6,"td",5),o.YNc(2,ej,5,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function nj(n,t){if(1&n&&(o.TgZ(0,"th",5)(1,"span",6),o._uU(2),o.qZA(),o.TgZ(3,"span",7),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.long),o.xp6(2),o.Oqu(e.narrow)}}const ij=["*"];function rj(n,t){}function oj(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("_userSelection",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dateSelected(r))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function sj(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("monthSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"month"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function aj(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("yearSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"year"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function lj(n,t){}const cj=["button"];function uj(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const dj=[[["","matDatepickerToggleIcon",""]]],hj=["[matDatepickerToggleIcon]"];let mb=(()=>{class n{constructor(){this.changes=new Xe.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nk{constructor(t,e,i,r,s={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=u,this.rawValue=h}}let Xg=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this.activeDateChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ik(e,this.startValue,this.endValue)}_isRangeEnd(e){return rk(e,this.startValue,this.endValue)}_isInRange(e){return ok(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ik(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const u=this.rows[i-1];s=u&&u[u.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const u=this.rows[i+1];s=u&&u[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return rk(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return ok(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ik(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return rk(e,this.previewStart,this.previewEnd)}_isInPreview(e){return ok(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(JN(e)?i=e:JN(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:Q3,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,J3,3,6,"tr",0),o.YNc(1,tj,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},dependencies:[ga,Wi,Mn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function JN(n){return"TD"===n.nodeName}function ik(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function rk(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function ok(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Ss{constructor(t,e){this.start=t,this.end=e}}let Gh=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Xe.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fj=(()=>{class n extends Gh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Pi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const XN={provide:Gh,deps:[[new o.FiY,new o.tp0,Gh],Pi],useFactory:function mj(n,t){return n||new fj(t)}},sS=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let eF=(()=>{class n{constructor(e,i,r,s,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=u,this._rerenderSubscription=xi.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Vi(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,u;this._selected instanceof Ss?(s=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):s=u=this._getDateInCurrentMonth(this._selected),(s!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!co(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),p=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new nk(r+1,i[r],p,h,v,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ss?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Xc,8),o.Y36(Pi,8),o.Y36(uo,8),o.Y36(sS,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(Xg,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,nj,5,2,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Wi,Xg],encapsulation:2,changeDetection:0}),n})(),tF=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=xi.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),nF(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Vi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-gb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(u=>this._createCellForYear(u))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-gb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-gb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return gb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new nk(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ss){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Pi,8),o.Y36(uo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(Xg,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Xg],encapsulation:2,changeDetection:0}),n})();function nF(n,t,e,i,r){const s=n.getYear(t),u=n.getYear(e),h=iF(n,i,r);return Math.floor((s-h)/24)===Math.floor((u-h)/24)}function gb(n,t,e,i){return function yj(n,t){return(n%t+t)%t}(n.getYear(t)-iF(n,e,i),24)}function iF(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let rF=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=xi.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Vi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new nk(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ss?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Xc,8),o.Y36(Pi,8),o.Y36(uo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(Xg,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Xg],encapsulation:2,changeDetection:0}),n})(),bj=0,Cj=(()=>{class n{constructor(e,i,r,s,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+bj++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-gb(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):nF(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mb),o.Y36((0,o.Gpc)(()=>lk)),o.Y36(Pi,8),o.Y36(Xc,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ij,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA()(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},dependencies:[Tp],encapsulation:2,changeDetection:0}),n})(),lk=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new Xe.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Fp(this.headerComponent||Cj),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Ss||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mb),o.Y36(Pi,8),o.Y36(Xc,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(eF,5),o.Gf(rF,5),o.Gf(tF,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([XN]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,rj,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,oj,1,8,"mat-month-view",2),o.YNc(3,sj,1,6,"mat-year-view",3),o.YNc(4,aj,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},dependencies:[vo,wr,GI,Lp,eF,rF,tF],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const oF={transformPanel:Ko("transformPanel",[ri("void => enter-dropdown",Si("120ms cubic-bezier(0, 0, 0.2, 1)",Yg([Ft({opacity:0,transform:"scale(1, 0.8)"}),Ft({opacity:1,transform:"scale(1, 1)"})]))),ri("void => enter-dialog",Si("150ms cubic-bezier(0, 0, 0.2, 1)",Yg([Ft({opacity:0,transform:"scale(0.7)"}),Ft({transform:"none",opacity:1})]))),ri("* => void",Si("100ms linear",Ft({opacity:0})))]),fadeInCalendar:Ko("fadeInCalendar",[ii("void",Ft({opacity:0})),ii("enter",Ft({opacity:1})),ri("void => *",Si("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let wj=0;const sF=new o.OlP("mat-datepicker-scroll-strategy"),Sj={provide:sF,deps:[el],useFactory:function Ej(n){return()=>n.scrollStrategies.reposition()}},Dj=kh(class{constructor(n){this._elementRef=n}});let Tj=(()=>{class n extends Dj{constructor(e,i,r,s,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=u,this._subscriptions=new xi.w0,this._animationDone=new Xe.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Ss;if(s&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Gh),o.Y36(Pi),o.Y36(sS,8),o.Y36(mb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(lk,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,lj,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&e){let r;o.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),o.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText)}},dependencies:[ga,Tp,Vw,Lp,lk],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[oF.transformPanel,oF.fadeInCalendar]},changeDetection:0}),n})(),aF=(()=>{class n{constructor(e,i,r,s,u,h,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=p,this._inputStateChanges=xi.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+wj++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Xe.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Ht(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Ht(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Ht(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function TI(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Ht(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof mP&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Eh(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(Zn(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Fp(Tj,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new rb({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const u=s.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Zn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",u="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,Wo.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(fn(i=>27===i.keyCode&&!co(i)||this.datepickerInput&&co(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(el),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(sF),o.Y36(Pi,8),o.Y36(uo,8),o.Y36(Gh))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),lF=(()=>{class n extends aF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([XN,{provide:aF,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class aS{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Ij=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new Xe.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=xi.w0.EMPTY,this._localeSubscription=xi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Ht(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new aS(this,this._elementRef.nativeElement)),this.dateChange.emit(new aS(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function Aj(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new aS(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new aS(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Pi,8),o.Y36(Xc,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const Mj={provide:To,useExisting:(0,o.Gpc)(()=>lS),multi:!0},kj={provide:Gr,useExisting:(0,o.Gpc)(()=>lS),multi:!0};let lS=(()=>{class n extends Ij{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=xi.w0.EMPTY,this._validator=gr.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Pi,8),o.Y36(Xc,8),o.Y36(nS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([Mj,kj,{provide:YN,useExisting:n}]),o.qOj]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),cF=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=xi.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Ht(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Ae(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ae(),r=this.datepicker?(0,Wo.T)(this.datepicker.openedStream,this.datepicker.closedStream):Ae();this._stateChanges.unsubscribe(),this._stateChanges=(0,Wo.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mb),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Rj,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(cj,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:hj,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(dj),o.TgZ(0,"button",0,1),o.YNc(2,uj,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},dependencies:[Mn,Tp],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),xj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[mb,Sj],imports:[ci,ws,sb,iy,Bp,nn,Hg]}),n})();function Oj(n,t){if(1&n&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.SkillId),o.xp6(1),o.hij(" ",e.SkillName," ")}}function Pj(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"You must make a selection"),o.qZA())}function Nj(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Your selection is invalid "),o.qZA())}class Fj{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}let Lj=(()=>{class n{constructor(e,i,r,s,u){this.formBuilder=e,this.skillService=i,this._snackBar=r,this._router=s,this.storage=u,this.value="Clear me",this.fileName="",this.matcher=new Fj,this.downloadURL="",this.addSkillForm=new Xa({}),this.addCertificationForm=new Xa({})}ngOnInit(){this.addCertificationForm=this.formBuilder.group({examDetailId:new vn("0"),skillDetailId:new vn("",[gr.required]),skillName:new vn(""),examDate:new vn("",[gr.required]),expiryDate:new vn("",[gr.required]),examName:new vn("",[gr.required]),fileName:new vn(""),certificateImage:new vn(""),userEmail:new vn("mary.renjith19@gmail.com")}),this.listSkillNames=this.skillService.listaAddedSkillNames().subscribe(e=>{this.dataSource=e})}createCertification(){console.log(this.addCertificationForm.value)}onFileSelected(e){const i=e.target.files[0];this.image=i,this.fileName=i.name,this.addCertificationForm.controls.certificateImage.setValue(this.image)}onImageChange(e){const i=new FileReader;if(e.target.files&&e.target.files.length){const[r]=e.target.files;i.readAsDataURL(r),i.onload=()=>{this.image=i.result,this.addCertificationForm.patchValue({certificateImage:encodeURI(i.result),fileName:r.name})}}}onFileSelectedEv(e){var i=Date.now();const r=e.target.files[0],s=`skillportal/${i}`;this.fileName=r.name;const u=this.storage.ref(s);this.storage.upload(`skillportal/${i}`,r).snapshotChanges().pipe(Rc(()=>{u.getDownloadURL().subscribe(p=>{p&&(this.downloadURL=p),console.log("test"),console.log(this.downloadURL)})})).subscribe(p=>{p&&console.log(p)})}createExam(){var e=this;return(0,oa.Z)(function*(){yield e.sleep(1e3),console.log(e.downloadURL),""!=e.downloadURL&&e.addCertificationForm.controls.certificateImage.setValue(e.downloadURL);const i=e.addCertificationForm.controls.examDate.value,r=e.addCertificationForm.controls.expiryDate.value;var s=new Date;0==e.addCertificationForm.valid?e._snackBar.open("Invalid Input"):null!==i&&null!==r&&i>r?e._snackBar.open("Expiry date should be greater than certification date"):s>r?e._snackBar.open("Expiry date should be greater than today"):i>s?e._snackBar.open("Certification date should not be greater than today"):e.skillService.addExam(e.addCertificationForm.value).subscribe({next:u=>{e._snackBar.open("Certification Details Added Successfully"),e._router.navigate(["listExam"])},error:u=>{e._snackBar.open("Unable to add the Certification Details"),e._router.navigate(["listExam"])}})})()}someMethod(e){this.skillService.checkSkill(e.value).subscribe({next:i=>{1==i&&(this._snackBar.open("Skill Already Exists"),this.addSkillForm.reset())},error:i=>{this._snackBar.open("Service Error")}})}sleep(e){return new Promise(i=>{setTimeout(i,e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uh),o.Y36(zg),o.Y36(qg),o.Y36(fi),o.Y36(XM))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-exams"]],decls:46,vars:9,consts:[[1,"addCertifications"],[3,"formGroup","submit"],["appearance","fill",1,"skillName"],["formControlName","skillDetailId",3,"errorStateMatcher"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","fill",1,"examcName"],["matInput","","formControlName","examName","autocomplete","off"],["appearance","fill"],["matInput","","formControlName","examDate",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["dp1",""],["matInput","","formControlName","expiryDate",3,"matDatepicker"],["dp2",""],["visible","false"],["type","file","accept","image/png, image/jpeg","visible","true",3,"change"],["mat-raised-button",""],[3,"value"]],template:function(e,i){if(1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-title"),o._uU(2,"Add Certification"),o.qZA(),o.TgZ(3,"mat-content")(4,"form",1),o.NdJ("submit",function(){return i.createExam()}),o.TgZ(5,"p")(6,"mat-form-field",2)(7,"mat-label"),o._uU(8,"Select Skill"),o.qZA(),o.TgZ(9,"mat-select",3),o.YNc(10,Oj,2,2,"mat-option",4),o.qZA(),o.YNc(11,Pj,2,0,"mat-error",5),o.YNc(12,Nj,2,0,"mat-error",5),o.qZA()(),o.TgZ(13,"p")(14,"mat-form-field",6)(15,"mat-label"),o._uU(16,"Certification Name"),o.qZA(),o._UZ(17,"input",7),o.qZA()(),o.TgZ(18,"p")(19,"mat-form-field",8)(20,"mat-label"),o._uU(21,"Certification Date "),o.qZA(),o._UZ(22,"input",9),o.TgZ(23,"mat-hint"),o._uU(24,"MM/DD/YYYY"),o.qZA(),o._UZ(25,"mat-datepicker-toggle",10)(26,"mat-datepicker",11,12),o.qZA()(),o.TgZ(28,"p")(29,"mat-form-field",8)(30,"mat-label"),o._uU(31,"Expiry Date"),o.qZA(),o._UZ(32,"input",13),o.TgZ(33,"mat-hint"),o._uU(34,"MM/DD/YYYY"),o.qZA(),o._UZ(35,"mat-datepicker-toggle",10)(36,"mat-datepicker",11,14),o.qZA()(),o.TgZ(38,"p")(39,"mat-label",15),o._uU(40," Certificate Upload"),o.qZA(),o._UZ(41,"br"),o.TgZ(42,"input",16),o.NdJ("change",function(s){return i.onFileSelectedEv(s)}),o.qZA()(),o.TgZ(43,"p")(44,"button",17),o._uU(45,"Add"),o.qZA()()()()()),2&e){const r=o.MAs(27),s=o.MAs(37);o.xp6(4),o.Q6J("formGroup",i.addCertificationForm),o.xp6(5),o.Q6J("errorStateMatcher",i.matcher),o.xp6(1),o.Q6J("ngForOf",i.dataSource),o.xp6(1),o.Q6J("ngIf",i.addSkillForm.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.addSkillForm.hasError("pattern")&&!i.addSkillForm.hasError("required")),o.xp6(10),o.Q6J("matDatepicker",r),o.xp6(3),o.Q6J("for",r),o.xp6(7),o.Q6J("matDatepicker",s),o.xp6(3),o.Q6J("for",s)}},dependencies:[Mg,Ja,Mp,kp,ek,Zg,tk,jh,HN,Wl,gd,dd,eu,iS,oS,Ep,lF,lS,cF,Wi,Mn],styles:[".addCertifications[_ngcontent-%COMP%]{width:30%}classdivider[_ngcontent-%COMP%]{width:30%}.examcName[_ngcontent-%COMP%], .skillName[_ngcontent-%COMP%]{width:235px}"]}),n})();function Bj(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.SkillId),o.xp6(1),o.hij(" ",e.SkillName," ")}}function Uj(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"You must make a selection"),o.qZA())}function Hj(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Your selection is invalid "),o.qZA())}class Vj{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}let jj=(()=>{class n{constructor(e,i,r,s,u,h){this.formBuilder=e,this.skillService=i,this._snackBar=r,this._router=s,this.fb=u,this.storage=h,this.value="Clear me",this.fileName="",this.image="",this.downloadURL="",this.matcher=new Vj,this.addSkillForm=new Xa({}),this.editCertificationForm=new Xa({})}ngOnInit(){this.defskillDetailId=history.state.skillDetailId,this.defExamDetailId=history.state.examDetailId,this.defExamName=history.state.examName,this.defExamDate=history.state.examDate,this.defExpiryDate=history.state.expiryDate,this.defImg=history.state.img,this.defname=history.state.fname,this.editCertificationForm=this.formBuilder.group({ExamDetailId:new vn(this.defExamDetailId),SkillDetailId:new vn(this.defskillDetailId),SkillName:new vn(""),ExamDate:new vn("",[gr.required]),ExpiryDate:new vn("",[gr.required]),ExamName:new vn("",[gr.required]),FileName:new vn("fake.png"),CertificateImage:new vn(""),UserEmail:new vn("mary.renjith19@gmail.com")}),this.listSkillNames=this.skillService.listaAddedSkillNames().subscribe(e=>{this.dataSource=e})}onFileSelected(e){const i=e.target.files[0];this.fileName=i.name;var r=new FileReader;r.onloadend=s=>{this.image=r.result},r.readAsDataURL(i)}editExam(){var e=this;return(0,oa.Z)(function*(){console.log(e.fileName),console.log(e.downloadURL),yield e.sleep(1e3),""!=e.downloadURL?(e.editCertificationForm.controls.CertificateImage.setValue(e.downloadURL,{onlySelf:!0}),e.editCertificationForm.controls.FileName.setValue(e.fileName)):(e.editCertificationForm.controls.CertificateImage.setValue(e.defImg,{onlySelf:!0}),e.editCertificationForm.controls.FileName.setValue(e.defname));const i=e.editCertificationForm.controls.ExamDate.value,r=e.editCertificationForm.controls.ExpiryDate.value;var s=new Date;0==e.editCertificationForm.valid?e._snackBar.open("Invalid Input"):null!==i&&null!==r&&i>r?e._snackBar.open("Expiry date should be greater than certification date"):s>r?e._snackBar.open("Expiry date should be greater than today"):i>s&&e._snackBar.open("Certification date should not be greater than today"),0==e.editCertificationForm.valid?e._snackBar.open("Invalid Input"):e.skillService.addExam(e.editCertificationForm.value).subscribe({next:u=>{e._snackBar.open("Certification Details updated Successfully"),e._router.navigate(["listExam"])},error:u=>{e._snackBar.open("Unable to update the Certification Details"),e._router.navigate(["listExam"])}})})()}sleep(e){return new Promise(i=>{setTimeout(i,e)})}onFileSelectedEv(e){var i=Date.now();const r=e.target.files[0];this.fileName=r.name;const u=this.storage.ref(`skillportal/${i}`);this.storage.upload(`skillportal/${i}`,r).snapshotChanges().pipe(Rc(()=>{u.getDownloadURL().subscribe(p=>{p&&(this.downloadURL=p),console.log("test"),console.log(this.downloadURL)})})).subscribe(p=>{p&&console.log(p)})}someMethod(e){this.skillService.checkSkill(e.value).subscribe({next:i=>{1==i&&(this._snackBar.open("Skill Already Exists"),this.addSkillForm.reset())},error:i=>{this._snackBar.open("Service Error")}})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uh),o.Y36(zg),o.Y36(qg),o.Y36(fi),o.Y36(Uh),o.Y36(XM))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-exams"]],decls:48,vars:14,consts:[[1,"editCertifications"],[3,"formGroup","submit"],["appearance","fill",1,"skillName"],["formControlName","SkillDetailId","placeholder","selectSkill",3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","fill",1,"examcName"],["matInput","","formControlName","ExamName","autocomplete","off","type","text",3,"ngModel","ngModelChange"],["appearance","fill"],["matInput","","formControlName","ExamDate","type","text",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["disabled","false"],["dp1",""],["matInput","","formControlName","ExpiryDate","type","text",3,"matDatepicker","ngModel","ngModelChange"],["dp2",""],["visible","true"],["type","file","accept","image/png, image/jpeg","visible","true",3,"change"],["visible","true",1,"img",3,"src"],["mat-raised-button",""],[3,"value"]],template:function(e,i){if(1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-title"),o._uU(2,"Update Certification"),o.qZA(),o.TgZ(3,"mat-content")(4,"form",1),o.NdJ("submit",function(){return i.editExam()}),o.TgZ(5,"p")(6,"mat-form-field",2)(7,"mat-label"),o._uU(8,"Select Skill"),o.qZA(),o.TgZ(9,"mat-select",3),o.NdJ("valueChange",function(s){return i.defskillDetailId=s}),o.YNc(10,Bj,2,2,"mat-option",4),o.qZA(),o.YNc(11,Uj,2,0,"mat-error",5),o.YNc(12,Hj,2,0,"mat-error",5),o.qZA()(),o.TgZ(13,"p")(14,"mat-form-field",6)(15,"mat-label"),o._uU(16,"Certification Name"),o.qZA(),o.TgZ(17,"input",7),o.NdJ("ngModelChange",function(s){return i.defExamName=s}),o.qZA()()(),o.TgZ(18,"p")(19,"mat-form-field",8)(20,"mat-label"),o._uU(21,"Certification Date "),o.qZA(),o.TgZ(22,"input",9),o.NdJ("ngModelChange",function(s){return i.defExamDate=s}),o.qZA(),o.TgZ(23,"mat-hint"),o._uU(24,"MM/DD/YYYY"),o.qZA(),o._UZ(25,"mat-datepicker-toggle",10)(26,"mat-datepicker",11,12),o.qZA()(),o.TgZ(28,"p")(29,"mat-form-field",8)(30,"mat-label"),o._uU(31,"Expiry Date"),o.qZA(),o.TgZ(32,"input",13),o.NdJ("ngModelChange",function(s){return i.defExpiryDate=s}),o.qZA(),o.TgZ(33,"mat-hint"),o._uU(34,"MM/DD/YYYY"),o.qZA(),o._UZ(35,"mat-datepicker-toggle",10)(36,"mat-datepicker",11,14),o.qZA()(),o.TgZ(38,"p")(39,"mat-label",15),o._uU(40," Certificate Upload"),o.qZA(),o._UZ(41,"br"),o.TgZ(42,"input",16),o.NdJ("change",function(s){return i.onFileSelectedEv(s)}),o.qZA(),o._UZ(43,"BR")(44,"img",17),o.qZA(),o.TgZ(45,"p")(46,"button",18),o._uU(47,"Update"),o.qZA()()()()()),2&e){const r=o.MAs(27),s=o.MAs(37);o.xp6(4),o.Q6J("formGroup",i.editCertificationForm),o.xp6(5),o.Q6J("value",i.defskillDetailId)("disabled",!0),o.xp6(1),o.Q6J("ngForOf",i.dataSource),o.xp6(1),o.Q6J("ngIf",i.editCertificationForm.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.editCertificationForm.hasError("pattern")&&!i.editCertificationForm.hasError("required")),o.xp6(5),o.Q6J("ngModel",i.defExamName),o.xp6(5),o.Q6J("matDatepicker",r)("ngModel",i.defExamDate),o.xp6(3),o.Q6J("for",r),o.xp6(7),o.Q6J("matDatepicker",s)("ngModel",i.defExpiryDate),o.xp6(3),o.Q6J("for",s),o.xp6(9),o.s9C("src",i.defImg,o.LSH)}},dependencies:[Mg,Ja,Mp,kp,ek,Zg,tk,jh,HN,Wl,gd,dd,eu,iS,oS,Ep,lF,lS,cF,Wi,Mn],styles:[".editCertifications[_ngcontent-%COMP%]{width:30%}.examcName[_ngcontent-%COMP%], .skillName[_ngcontent-%COMP%]{width:235px}img[_ngcontent-%COMP%]{height:50px;width:50px}"]}),n})();function Gj(n,t){}class cS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let uF=(()=>{class n extends x0{constructor(e,i,r,s,u,h,p,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=p,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Eh(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Eh();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Eh())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(sg),o.Y36(ie,8),o.Y36(cS),o.Y36(ql),o.Y36(o.R0b),o.Y36(ob),o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Lp,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,Gj,0,0,"ng-template",0)},dependencies:[Lp],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ck{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Xe.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!co(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const dF=new o.OlP("DialogScrollStrategy"),zj=new o.OlP("DialogData"),Yj=new o.OlP("DefaultDialogConfig"),$j={provide:dF,deps:[el],useFactory:function qj(n){return()=>n.scrollStrategies.block()}};let Wj=0,hF=(()=>{class n{constructor(e,i,r,s,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Xe.x,this._afterOpenedAtThisLevel=new Xe.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Zs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new cS,...i}).id=i.id||"cdk-dialog-"+Wj++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),u=this._overlay.create(s),h=new ck(u,i),p=this._attachContainer(u,h,i);return h.containerInstance=p,this._attachDialogContent(e,h,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){uk(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){uk(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),uk(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new rb({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector??r.viewContainerRef?.injector,u=[{provide:cS,useValue:r},{provide:ck,useValue:i},{provide:ob,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=uF;const p=new Fp(h,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){const u=this._createInjector(s,i,r);if(e instanceof o.Rgc){let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new R0(e,null,h,u))}else{const h=r.attachComponentPortal(new Fp(e,s.viewContainerRef,u,s.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:zj,useValue:e.data},{provide:ck,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!s||!s.get(uo,null,o.XFs.Optional))&&u.push({provide:uo,useValue:{value:e.direction,change:Ae()}}),o.zs3.create({parent:s||this._injector,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(el),o.LFG(o.zs3),o.LFG(Yj,8),o.LFG(n,12),o.LFG(O0),o.LFG(dF))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function uk(n,t){let e=n.length;for(;e--;)t(n[e])}let Kj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hF,$j],imports:[sb,Bp,iy,Bp]}),n})();function Zj(n,t){}const e_={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Qj={dialogContainer:Ko("dialogContainer",[ii("void, exit",Ft({opacity:0,transform:"scale(0.7)"})),ii("enter",Ft({transform:"none"})),ri("* => enter",EP([Si("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Ft({transform:"none",opacity:1})),N0("@*",P0(),{optional:!0})]),e_),ri("* => void, * => exit",EP([Si("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Ft({opacity:0})),N0("@*",P0(),{optional:!0})]),e_)])};class uS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=e_.params.enterAnimationDuration,this.exitAnimationDuration=e_.params.exitAnimationDuration}}let Jj=(()=>{class n extends uF{constructor(e,i,r,s,u,h,p,v){super(e,i,r,s,u,h,p,v),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(sg),o.Y36(ie,8),o.Y36(uS),o.Y36(ql),o.Y36(o.R0b),o.Y36(ob),o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Xj=(()=>{class n extends Jj{constructor(e,i,r,s,u,h,p,v,w){super(e,i,r,s,u,h,p,w),this._changeDetectorRef=v,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||e_.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||e_.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(sg),o.Y36(ie,8),o.Y36(uS),o.Y36(ql),o.Y36(o.R0b),o.Y36(ob),o.Y36(o.sBO),o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._getAnimationState()))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,Zj,0,0,"ng-template",0)},dependencies:[Lp],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Qj.dialogContainer]}}),n})();class dk{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Xe.x,this._beforeClosed=new Xe.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(fn(r=>"opened"===r.state),Zn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(fn(r=>"closed"===r.state),Zn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Wo.T)(this.backdropClick(),this.keydownEvents().pipe(fn(r=>27===r.keyCode&&!this.disableClose&&!co(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),fF(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fn(e=>"closing"===e.state),Zn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function fF(n,t,e){return n._closeInteractionType=t,n.close(e)}const eG=new o.OlP("MatDialogData"),tG=new o.OlP("mat-dialog-default-options"),pF=new o.OlP("mat-dialog-scroll-strategy"),iG={provide:pF,deps:[el],useFactory:function nG(n){return()=>n.scrollStrategies.block()}};let rG=0,oG=(()=>{class n{constructor(e,i,r,s,u,h,p,v,w,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=v,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Xe.x,this._afterOpenedAtThisLevel=new Xe.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Zs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._scrollStrategy=h,this._dialog=i.get(hF)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new uS,...i}).id=i.id||`${this._idPrefix}${rG++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:uS,useValue:i},{provide:cS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,p)=>(r=new this._dialogRefConstructor(u,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_b=(()=>{class n extends oG{constructor(e,i,r,s,u,h,p,v){super(e,i,s,h,p,u,dk,Xj,eG,v)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(el),o.LFG(o.zs3),o.LFG(_e,8),o.LFG(tG,8),o.LFG(pF),o.LFG(n,12),o.LFG(O0),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),sG=0,mF=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=yF(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){fF(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dk,8),o.Y36(o.SBq),o.Y36(_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&o.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),n})(),gF=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+sG++}ngOnInit(){this._dialogRef||(this._dialogRef=yF(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dk,8),o.Y36(o.SBq),o.Y36(_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),vF=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function yF(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let bF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_b,iG],imports:[Kj,sb,Bp,nn,nn]}),n})(),aG=(()=>{class n{constructor(){}ngOnInit(){}delete(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-delete-exam-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"Delete file"),o.qZA(),o.TgZ(2,"div",1),o._uU(3," Would you like to delete the certification?\n"),o.qZA(),o.TgZ(4,"div",2)(5,"button",3),o._uU(6,"No"),o.qZA(),o._uU(7," | "),o.TgZ(8,"button",4),o.NdJ("click",function(){return i.delete()}),o._uU(9,"Yes"),o.qZA()()),2&e&&(o.xp6(5),o.Q6J("mat-dialog-close","no"),o.xp6(3),o.Q6J("mat-dialog-close","yes"))},dependencies:[mF,gF,_F,vF]}),n})();function lG(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1," Certification Name "),o.qZA())}function cG(n,t){if(1&n&&(o.TgZ(0,"td",18),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.ExamName,"")}}function uG(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1," Skill Name "),o.qZA())}function dG(n,t){if(1&n&&(o.TgZ(0,"td",18),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.SkillName," ")}}function hG(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1," Certified Date "),o.qZA())}function fG(n,t){if(1&n&&(o.TgZ(0,"td",18),o._uU(1),o.ALo(2,"date"),o.ALo(3,"date"),o.ALo(4,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.lnq(" ",o.xi3(2,3,e.ExamDate,"dd"),"/",o.xi3(3,6,e.ExamDate,"MM"),"/",o.xi3(4,9,e.ExamDate,"yyyy")," ")}}function pG(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1," Expiry Date "),o.qZA())}function mG(n,t){if(1&n&&(o.TgZ(0,"td",18),o._uU(1),o.ALo(2,"date"),o.ALo(3,"date"),o.ALo(4,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.lnq(" ",o.xi3(2,3,e.ExpiryDate,"dd"),"/",o.xi3(3,6,e.ExpiryDate,"MM"),"/",o.xi3(4,9,e.ExpiryDate,"yyyy")," ")}}function gG(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1," Certificate "),o.qZA())}function _G(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",18)(1,"img",19),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.viewImage(s.CertificateImage))}),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.s9C("src",e.CertificateImage,o.LSH)}}function vG(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1," Actions "),o.qZA())}function yG(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",18)(1,"button",20),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.redirectToEditExam(s.SkillDetailId,s.ExamDetailId,s.ExamName,s.ExamDate,s.ExpiryDate,s.CertificateImage,s.FileName))}),o._uU(2,"Edit"),o.qZA(),o._uU(3,"| "),o.TgZ(4,"button",20),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.openDialog("0ms","0ms",s.ExamDetailId))}),o._uU(5,"Delete"),o.qZA()()}}function bG(n,t){1&n&&o._UZ(0,"tr",21)}function CG(n,t){1&n&&o._UZ(0,"tr",22)}function wG(n,t){if(1&n&&(o.TgZ(0,"tr",23)(1,"td",24),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(5);o.xp6(2),o.hij('No data matching the search "',e.value,'"')}}let EG=(()=>{class n{constructor(e,i,r,s){this.skillService=e,this.dialog=i,this._snackBar=r,this._router=s,this.displayedColumns=["examName","skillName","examDate","expiryDate","CertificateImage","actions"],this.dataSource=this.listSkills}redirectToEditExam(e,i,r,s,u,h,p){console.log(e,i,r),this._router.navigate(["editExam"],{state:{skillDetailId:e,examDetailId:i,examName:r,examDate:s,expiryDate:u,img:h,fname:p}})}openDialog(e,i,r){console.log(r),this.dialog.open(aG,{width:"250px",enterAnimationDuration:e}).afterClosed().subscribe(u=>{"yes"==u&&(console.log(u),this.skillService.deleteExam(r).subscribe({next:h=>{this._snackBar.open("Certification deleted successfully"),location.reload()},error:h=>{this._snackBar.open("Unable to delete the certification"),this._router.navigate(["listExam"])}}))})}ngOnInit(){this.skillService.listExam().subscribe(e=>{this.dataSource=new cP(e)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}redirectToAddExam(){this._router.navigate(["addExam"])}formatDate(){}getURL(e){let i=new FileReader;i.addEventListener("load",()=>i.result,!1),e&&i.readAsDataURL(e)}viewImage(e){window.open(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zg),o.Y36(_b),o.Y36(qg),o.Y36(fi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-list-exams"]],decls:31,vars:3,consts:[[1,"main-content"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-raised-button","",1,"demo-button",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","examName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","skillName"],["matColumnDef","examDate"],["matColumnDef","expiryDate"],["matColumnDef","CertificateImage"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-card-image","","alt","No Image","visible","true",1,"img",3,"src","click"],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),o._uU(3,"Find"),o.qZA(),o.TgZ(4,"input",2,3),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA()(),o._uU(6," |"),o.TgZ(7,"button",4),o.NdJ("click",function(){return i.redirectToAddExam()}),o._uU(8," Add Certification "),o.qZA(),o.TgZ(9,"table",5),o.ynx(10,6),o.YNc(11,lG,2,0,"th",7),o.YNc(12,cG,2,1,"td",8),o.BQk(),o.ynx(13,9),o.YNc(14,uG,2,0,"th",7),o.YNc(15,dG,2,1,"td",8),o.BQk(),o.ynx(16,10),o.YNc(17,hG,2,0,"th",7),o.YNc(18,fG,5,12,"td",8),o.BQk(),o.ynx(19,11),o.YNc(20,pG,2,0,"th",7),o.YNc(21,mG,5,12,"td",8),o.BQk(),o.ynx(22,12),o.YNc(23,gG,2,0,"th",7),o.YNc(24,_G,2,1,"td",8),o.BQk(),o.ynx(25,13),o.YNc(26,vG,2,0,"th",7),o.YNc(27,yG,6,0,"td",8),o.BQk(),o.YNc(28,bG,1,0,"tr",14),o.YNc(29,CG,1,0,"tr",15),o.YNc(30,wG,3,1,"tr",16),o.qZA()()),2&e&&(o.xp6(9),o.Q6J("dataSource",i.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[hM,T0,fM,I0,D0,pM,A0,M0,mM,gM,_M,Zg,jh,gE,iS,pl],styles:["table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{height:50px;width:50px}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}button[_ngcontent-%COMP%]{margin-right:8px}"]}),n})(),dS=(()=>{class n{constructor(e){this.httpClient=e,this.isUserLoggedIn=new Xe.x}getUserProfile(){return this.httpClient.get("https://graph.microsoft.com/v1.0/me")}getProfilePic(){return this.httpClient.get("https://graph.microsoft.com/v1.0/me/photo/$value",{responseType:"blob"})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ic))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TG=function(){return[""]};let IG=(()=>{class n{constructor(e,i){this.azureAdDemoService=e,this.domSanitizer=i}ngOnInit(){this.getProfile(),this.getProfilePic()}getProfile(){this.azureAdDemoService.getUserProfile().subscribe(e=>{this.profile=e})}getProfilePic(){this.azureAdDemoService.getProfilePic().subscribe(e=>{var i=window.URL||window.webkitURL;this.profilePic=this.domSanitizer.bypassSecurityTrustResourceUrl(i.createObjectURL(e))})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dS),o.Y36(Sl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],decls:51,vars:15,consts:[[2,"margin","auto","width","80%"],["mat-button","",1,"close-button",3,"routerLink"],[2,"text-align","center"],[2,"display","inline-block"],[2,"max-width","60vw"],[3,"inset"],[1,"list-item-title"],[1,"list-item-content"],["height","250px","width","250px",3,"src"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-content")(3,"a",1),o._uU(4,"\xd7"),o.qZA()()(),o.TgZ(5,"mat-card")(6,"mat-card-title",2),o._uU(7,"User Profile"),o.qZA(),o.TgZ(8,"mat-card-content")(9,"div",3)(10,"mat-list",4),o._UZ(11,"mat-divider",5),o.TgZ(12,"mat-list-item")(13,"div",6),o._uU(14,"User Name:"),o.qZA(),o.TgZ(15,"div",7),o._uU(16),o.qZA()(),o._UZ(17,"mat-divider",5),o.TgZ(18,"mat-list-item")(19,"div",6),o._uU(20,"First Name:"),o.qZA(),o.TgZ(21,"div",7),o._uU(22),o.qZA()(),o._UZ(23,"mat-divider",5),o.TgZ(24,"mat-list-item")(25,"div",6),o._uU(26,"Last Name:"),o.qZA(),o.TgZ(27,"div",7),o._uU(28),o.qZA()(),o._UZ(29,"mat-divider",5),o.TgZ(30,"mat-list-item")(31,"div",6),o._uU(32,"Job Title:"),o.qZA(),o.TgZ(33,"div",7),o._uU(34),o.qZA()(),o._UZ(35,"mat-divider",5),o.TgZ(36,"mat-list-item")(37,"div",6),o._uU(38,"Phone Number:"),o.qZA(),o.TgZ(39,"div",7),o._uU(40),o.qZA()(),o._UZ(41,"mat-divider",5),o.TgZ(42,"mat-list-item")(43,"div",6),o._uU(44,"Email"),o.qZA(),o.TgZ(45,"div",7),o._uU(46),o.qZA()()()(),o.TgZ(47,"div",3)(48,"mat-card")(49,"mat-card-content"),o._UZ(50,"img",8),o.qZA()()()()()()),2&e&&(o.xp6(3),o.Q6J("routerLink",o.DdM(14,TG)),o.xp6(8),o.Q6J("inset",!0),o.xp6(5),o.hij(" ",null==i.profile?null:i.profile.userPrincipalName," "),o.xp6(1),o.Q6J("inset",!0),o.xp6(5),o.hij(" ",null==i.profile?null:i.profile.givenName," "),o.xp6(1),o.Q6J("inset",!0),o.xp6(5),o.hij(" ",null==i.profile?null:i.profile.surname," "),o.xp6(1),o.Q6J("inset",!0),o.xp6(5),o.hij(" ",null==i.profile?null:i.profile.jobTitle," "),o.xp6(1),o.Q6J("inset",!0),o.xp6(5),o.hij(" ",null==i.profile?null:i.profile.mobilePhone," "),o.xp6(1),o.Q6J("inset",!0),o.xp6(5),o.hij(" ",null==i.profile?null:i.profile.mail," "),o.xp6(4),o.Q6J("src",i.profilePic,o.LSH))},dependencies:[dv,_y,dd,mg,eu,a,f,Zy],styles:[".list-item-title[_ngcontent-%COMP%]{display:inline-block;padding:5px;font-weight:700}.list-item-content[_ngcontent-%COMP%]{display:inline-block;padding:5px}.dialogC[_ngcontent-%COMP%]{position:relative!important}.close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}"]}),n})();const AG=["sliderWrapper"],tl=id({passive:!1}),OG={provide:To,useExisting:(0,o.Gpc)(()=>hk),multi:!0};class PG{}const NG=Qw(kh(Mh(class{constructor(n){this._elementRef=n}}),"accent"));let hk=(()=>{class n extends NG{constructor(e,i,r,s,u,h,p,v){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=s,this._ngZone=h,this._animationMode=v,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new o.vpe,this.input=new o.vpe,this.valueChange=new o.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=xi.w0.EMPTY,this._pointerDown=w=>{this.disabled||this._isSliding||!vb(w)&&0!==w.button||this._ngZone.run(()=>{this._touchId=vb(w)?function FG(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(w,this._elementRef.nativeElement):void 0;const D=wF(w,this._touchId);if(D){const k=this.value;this._isSliding="pointer",this._lastPointerEvent=w,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(w),this._focusHostElement(),this._updateValueFromPosition(D),this._valueOnSlideStart=k,w.cancelable&&w.preventDefault(),k!=this.value&&this._emitInputEvent()}})},this._pointerMove=w=>{if("pointer"===this._isSliding){const D=wF(w,this._touchId);if(D){w.cancelable&&w.preventDefault();const k=this.value;this._lastPointerEvent=w,this._updateValueFromPosition(D),k!=this.value&&this._emitInputEvent()}}},this._pointerUp=w=>{"pointer"===this._isSliding&&(!vb(w)||"number"!=typeof this._touchId||fk(w.changedTouches,this._touchId))&&(w.cancelable&&w.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=p,this.tabIndex=parseInt(u)||0,h.runOutsideAngular(()=>{const w=e.nativeElement;w.addEventListener("mousedown",this._pointerDown,tl),w.addEventListener("touchstart",this._pointerDown,tl)})}get invert(){return this._invert}set invert(e){this._invert=Ht(e)}get max(){return this._max}set max(e){this._max=cd(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=cd(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=cd(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Ht(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?cd(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=cd(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=Ht(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,r=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,h={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const p=this._shouldInvertAxis();let v;v=this.vertical?p?"Bottom":"Top":p?"Right":"Left",h[`padding${v}`]=`${this._getThumbGap()}px`}return h}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,tl),e.removeEventListener("touchstart",this._pointerDown,tl),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||co(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,r=vb(e),u=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,tl),i.addEventListener(u,this._pointerUp,tl),r&&i.addEventListener("touchcancel",this._pointerUp,tl);const h=this._getWindow();typeof h<"u"&&h&&h.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,tl),e.removeEventListener("mouseup",this._pointerUp,tl),e.removeEventListener("touchmove",this._pointerMove,tl),e.removeEventListener("touchend",this._pointerUp,tl),e.removeEventListener("touchcancel",this._pointerUp,tl);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let u=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(u=1-u),0===u)this.value=this.min;else if(1===u)this.value=this.max;else{const h=this._calculateValue(u),p=Math.round((h-this.min)/this.step)*this.step+this.min;this.value=this._clamp(p,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=CF(e)?e:0}_createChangeEvent(e=this.value){let i=new PG;return i.source=this,i.value=e,i}_calculatePercentage(e){const i=((e||0)-this.min)/(this.max-this.min);return CF(i)?i:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,r=1){return Math.max(i,Math.min(e,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Qa),o.Y36(o.sBO),o.Y36(uo,8),o.$8M("tabindex"),o.Y36(o.R0b),o.Y36(ie),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&o.Gf(AG,5),2&e){let r;o.iGM(r=o.CRH())&&(i._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(o.Ikx("tabIndex",i.tabIndex),o.uIk("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",i.valueText??i.displayValue)("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[o._Bn([OG]),o.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1)(2,"div",2),o._UZ(3,"div",3)(4,"div",4),o.qZA(),o.TgZ(5,"div",5),o._UZ(6,"div",6),o.qZA(),o.TgZ(7,"div",7),o._UZ(8,"div",8)(9,"div",9),o.TgZ(10,"div",10)(11,"span",11),o._uU(12),o.qZA()()()()),2&e&&(o.xp6(3),o.Q6J("ngStyle",i._getTrackBackgroundStyles()),o.xp6(1),o.Q6J("ngStyle",i._getTrackFillStyles()),o.xp6(1),o.Q6J("ngStyle",i._getTicksContainerStyles()),o.xp6(1),o.Q6J("ngStyle",i._getTicksStyles()),o.xp6(1),o.Q6J("ngStyle",i._getThumbContainerStyles()),o.xp6(5),o.Oqu(i.displayValue))},dependencies:[gu],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),n})();function CF(n){return!isNaN(n)&&isFinite(n)}function vb(n){return"t"===n.type[0]}function wF(n,t){let e;return e=vb(n)?"number"==typeof t?fk(n.touches,t)||fk(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function fk(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let EF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ci,nn,nn]}),n})();function LG(n,t){if(1&n&&(o.TgZ(0,"mat-option",10),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.SkillId),o.xp6(1),o.hij(" ",e.SkillName," ")}}function BG(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"You must make a selection"),o.qZA())}function UG(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Your selection is invalid "),o.qZA())}function HG(n,t){if(1&n&&(o.TgZ(0,"mat-option",10),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.hij(" ",e.name," ")}}class VG{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}let jG=(()=>{class n{constructor(e,i,r,s){this.formBuilder=e,this.skillService=i,this._snackBar=r,this._router=s,this.arrayObj=[{id:"1",name:"1"},{id:"2",name:"2"},{id:"3",name:"3"},{id:"4",name:"4"},{id:"5",name:"5"},{id:"6",name:"6"},{id:"7",name:"7"},{id:"8",name:"8"},{id:"9",name:"9"},{id:"10",name:"10"}],this.matcher=new VG,this.addSkillForm=new Xa({}),this.dataSource=this.listSkillNames,this.jsonObject=this.arrayObj}ngOnInit(){this.addSkillForm=this.formBuilder.group({SkillId:new vn("",[gr.required]),skillDetailId:new vn(0),SkillLevel:new vn("",[gr.required]),SkillYrsOfExp:new vn("",[gr.required]),UserEmail:new vn("mary.renjith19@gmail.com")}),this.listSkillNames=this.skillService.listSkillName().subscribe(e=>{this.dataSource=e}),console.log(this.dataSource)}formatLabel(e){return 1==e?"beginner":2==e?"novice":3==e?"expert":4==e?"proficient":e}createSkill(){console.log(this.addSkillForm.valid),0==this.addSkillForm.valid?this._snackBar.open("Invalid Input"):this.skillService.addSkill(this.addSkillForm.value).subscribe({next:e=>{this._snackBar.open("Skill Added Successfully"),this._router.navigate(["list"])},error:e=>{this._snackBar.open("Unable to add Skill"),this._router.navigate(["list"])}})}someMethod(e){this.skillService.checkSkill(e.value).subscribe({next:i=>{1==i&&(this._snackBar.open("Skill Already Exists"),this.addSkillForm.reset())},error:i=>{this._snackBar.open("Service Error")}})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uh),o.Y36(zg),o.Y36(qg),o.Y36(fi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-create-skill"]],decls:29,vars:7,consts:[[1,"addNewSkill"],[3,"formGroup","submit"],["appearance","fill"],["formControlName","SkillId",3,"errorStateMatcher","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"classdivider"],["thumbLabel","","tickInterval","1000","step","1","min","1","max","4","aria-label","units","formControlName","SkillLevel",3,"displayWith"],["formControlName","SkillYrsOfExp"],["mat-raised-button",""],[3,"value"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-title"),o._uU(2,"Add Skill"),o.qZA(),o.TgZ(3,"mat-content")(4,"form",1),o.NdJ("submit",function(){return i.createSkill()}),o.TgZ(5,"p")(6,"mat-form-field",2)(7,"mat-label"),o._uU(8,"Select Skill"),o.qZA(),o.TgZ(9,"mat-select",3),o.NdJ("selectionChange",function(s){return i.someMethod(s)}),o.YNc(10,LG,2,2,"mat-option",4),o.qZA(),o.TgZ(11,"mat-hint"),o._uU(12,"Errors appear instantly!"),o.qZA(),o.YNc(13,BG,2,0,"mat-error",5),o.YNc(14,UG,2,0,"mat-error",5),o.qZA()(),o.TgZ(15,"p")(16,"mat-label"),o._uU(17,"Skill Level"),o.qZA(),o._UZ(18,"mat-divider",6)(19,"mat-slider",7),o.qZA(),o.TgZ(20,"p")(21,"mat-form-field",2)(22,"mat-label"),o._uU(23,"Select Exp(Yrs)"),o.qZA(),o.TgZ(24,"mat-select",8),o.YNc(25,HG,2,2,"mat-option",4),o.qZA()()(),o.TgZ(26,"p")(27,"button",9),o._uU(28,"Add"),o.qZA()()()()()),2&e&&(o.xp6(4),o.Q6J("formGroup",i.addSkillForm),o.xp6(5),o.Q6J("errorStateMatcher",i.matcher),o.xp6(1),o.Q6J("ngForOf",i.dataSource),o.xp6(3),o.Q6J("ngIf",i.addSkillForm.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.addSkillForm.hasError("pattern")&&!i.addSkillForm.hasError("required")),o.xp6(5),o.Q6J("displayWith",i.formatLabel),o.xp6(6),o.Q6J("ngForOf",i.jsonObject))},dependencies:[Wi,Mn,Zy,Mg,Mp,kp,ek,Zg,tk,jh,hk,Wl,gd,dd,eu,oS,Ep],styles:[".addNewSkill[_ngcontent-%COMP%]{width:30%}classdivider[_ngcontent-%COMP%]{width:30%}"]}),n})(),GG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-delete-skill"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"delete-skill works!"),o.qZA())}}),n})(),zG=(()=>{class n{constructor(){}ngOnInit(){}delete(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-deletedialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"Delete file"),o.qZA(),o.TgZ(2,"div",1),o._uU(3," Would you like to delete the skill?\n"),o.qZA(),o.TgZ(4,"div",2)(5,"button",3),o._uU(6,"No"),o.qZA(),o._uU(7," | "),o.TgZ(8,"button",4),o.NdJ("click",function(){return i.delete()}),o._uU(9,"Yes"),o.qZA()()),2&e&&(o.xp6(5),o.Q6J("mat-dialog-close","no"),o.xp6(3),o.Q6J("mat-dialog-close","yes"))},dependencies:[mF,gF,_F,vF]}),n})();function YG(n,t){1&n&&(o.TgZ(0,"th",15),o._uU(1," Skill Name "),o.qZA())}function qG(n,t){if(1&n&&(o.TgZ(0,"td",16),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.SkillName," ")}}function $G(n,t){1&n&&(o.TgZ(0,"th",15),o._uU(1," Skill Level "),o.qZA())}function WG(n,t){if(1&n&&(o.TgZ(0,"td",16)(1,"label",17),o._UZ(2,"input",18),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Jzz("--fill:#777;--value:",e.SkillLevel,""),o.s9C("value",e.SkillLevel)}}function KG(n,t){1&n&&(o.TgZ(0,"th",15),o._uU(1," Exp(Yrs) "),o.qZA())}function ZG(n,t){if(1&n&&(o.TgZ(0,"td",16),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.SkillYrsOfExp," ")}}function QG(n,t){1&n&&(o.TgZ(0,"th",15),o._uU(1," Actions "),o.qZA())}function JG(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",16)(1,"button",19),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.redirectToEditSkill(s.SkillDetailId,s.SkillLevel,s.SkillYrsOfExp,s.SkillId))}),o._uU(2,"Edit"),o.qZA(),o._uU(3,"| "),o.TgZ(4,"button",19),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.openDialog("0ms","0ms",s.SkillDetailId))}),o._uU(5,"Delete"),o.qZA()()}}function XG(n,t){1&n&&o._UZ(0,"tr",20)}function ez(n,t){1&n&&o._UZ(0,"tr",21)}function tz(n,t){if(1&n&&(o.TgZ(0,"tr",22)(1,"td",23),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(5);o.xp6(2),o.hij('No data matching the search "',e.value,'"')}}let SF=(()=>{class n{constructor(e,i,r,s){this.skillService=e,this.dialog=i,this._snackBar=r,this._router=s,this.displayedColumns=["SkillName","SkillLevel","SkillYrsOfExp","actions"],this.dataSource=this.listSkills}redirectToEditSkill(e,i,r,s){this._router.navigate(["update"],{state:{skillDetailId:e,skillLevel:i,skillYrsExp:r,skillId:s}})}openDialog(e,i,r){console.log(r),this.dialog.open(zG,{width:"250px",enterAnimationDuration:e}).afterClosed().subscribe(u=>{"yes"==u&&(console.log(u),this.skillService.deleteSkill(r).subscribe({next:h=>{this._snackBar.open("Skill deleted Successfully"),location.reload()},error:h=>{this._snackBar.open("Unable to delete the Skill"),this._router.navigate(["list"])}}))})}ngOnInit(){this.skillService.listskill().subscribe(e=>{this.dataSource=new cP(e)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}redirectToAddSkill(){this._router.navigate(["create"])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zg),o.Y36(_b),o.Y36(qg),o.Y36(fi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-list-skills"]],decls:25,vars:3,consts:[[1,"main-content"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-raised-button","",1,"demo-button",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","SkillName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","SkillLevel"],["matColumnDef","SkillYrsOfExp","matColumnDef","SkillYrsOfExp"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],[1,"rating-label"],["max","5","readonly","","step","0.01","type","range",1,"rating",3,"value"],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),o._uU(3,"Find"),o.qZA(),o.TgZ(4,"input",2,3),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA()(),o._uU(6," |"),o.TgZ(7,"button",4),o.NdJ("click",function(){return i.redirectToAddSkill()}),o._uU(8," Add Skill "),o.qZA(),o.TgZ(9,"table",5),o.ynx(10,6),o.YNc(11,YG,2,0,"th",7),o.YNc(12,qG,2,1,"td",8),o.BQk(),o.ynx(13,9),o.YNc(14,$G,2,0,"th",7),o.YNc(15,WG,3,4,"td",8),o.BQk(),o.ynx(16,10),o.YNc(17,KG,2,0,"th",7),o.YNc(18,ZG,2,1,"td",8),o.BQk(),o.ynx(19,11),o.YNc(20,QG,2,0,"th",7),o.YNc(21,JG,6,0,"td",8),o.BQk(),o.YNc(22,XG,1,0,"tr",12),o.YNc(23,ez,1,0,"tr",13),o.YNc(24,tz,3,1,"tr",14),o.qZA()()),2&e&&(o.xp6(9),o.Q6J("dataSource",i.dataSource),o.xp6(13),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[hM,T0,fM,I0,D0,pM,A0,M0,mM,gM,_M,Zg,jh,iS],styles:['table[_ngcontent-%COMP%]{width:100%}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}button[_ngcontent-%COMP%]{margin-right:8px}.rating[_ngcontent-%COMP%]{--dir: right;--fill: gold;--fillbg: rgba(100, 100, 100, .15);--heart: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.328l-1.453-1.313q-2.484-2.2t5-3.609-3.328t-2.508-2.672-1.898-2.883-0.516-2.648q0-2.297 1.57-3.891t3.914-1.594q2.719 0 4.5 2.109 1.781-2.109 4.5-2.109 2.344 0 3.914 1.594t1.57 3.891q0 1.828-1.219 3.797t-2.648 3.422-4.664 4.359z"/></svg>\');--star: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.25l-6.188 3.75 1.641-7.031-5.438-4.734 7.172-0.609 2.813-6.609 2.813 6.609 7.172 0.609-5.438 4.734 1.641 7.031z"/></svg>\');--stars: 4;--starsize: 1rem;--symbol: var(--star);--value: 1;--w: calc(var(--stars) * var(--starsize));--x: calc(100% * (var(--value) / var(--stars)));block-size:var(--starsize);inline-size:var(--w);position:relative;touch-action:manipulation;-webkit-appearance:none}[dir=rtl][_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{--dir: left}.rating[_ngcontent-%COMP%]::-moz-range-track{background:linear-gradient(to var(--dir),var(--fill) 0 var(--x),var(--fillbg) 0 var(--x));block-size:100%;mask:repeat left center/var(--starsize) var(--symbol)}.rating[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:linear-gradient(to var(--dir),var(--fill) 0 var(--x),var(--fillbg) 0 var(--x));block-size:100%;mask:repeat left center/var(--starsize) var(--symbol);-webkit-mask:repeat left center/var(--starsize) var(--symbol)}.rating[_ngcontent-%COMP%]::-moz-range-thumb{height:var(--starsize);opacity:0;width:var(--starsize)}.rating[_ngcontent-%COMP%]::-webkit-slider-thumb{height:var(--starsize);opacity:0;width:var(--starsize);-webkit-appearance:none}.rating[_ngcontent-%COMP%], .rating-label[_ngcontent-%COMP%]{display:block;font-family:ui-sans-serif,system-ui,sans-serif}.rating-label[_ngcontent-%COMP%]{margin-block-end:1rem}.rating--nojs[_ngcontent-%COMP%]::-moz-range-track{background:var(--fillbg)}.rating--nojs[_ngcontent-%COMP%]::-moz-range-progress{background:var(--fill);block-size:100%;mask:repeat left center/var(--starsize) var(--star)}.rating--nojs[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:var(--fillbg)}.rating--nojs[_ngcontent-%COMP%]::-webkit-slider-thumb{background-color:var(--fill);box-shadow:calc(0rem - var(--w)) 0 0 var(--w) var(--fill);opacity:1;width:1px}[dir=rtl][_ngcontent-%COMP%]   .rating--nojs[_ngcontent-%COMP%]::-webkit-slider-thumb{box-shadow:var(--w) 0 0 var(--w) var(--fill)}']}),n})();function nz(n,t){if(1&n&&(o.TgZ(0,"mat-option",9),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.SkillId),o.xp6(1),o.hij(" ",e.SkillName," ")}}function iz(n,t){if(1&n&&(o.TgZ(0,"mat-option",9),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.hij(" ",e.name," ")}}class rz{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}const oz=[{path:"profile",component:IG},{path:"",component:SF},{path:"create",component:jG},{path:"list",component:SF},{path:"update",component:(()=>{class n{constructor(e,i,r,s,u){this.formBuilder=e,this.skillService=i,this._snackBar=r,this._router=s,this.fb=u,this.arrayObj=[{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"6"},{id:7,name:"7"},{id:8,name:"8"},{id:9,name:"9"},{id:10,name:"10"}],this.matcher=new rz,this.editSkillForm=new Xa({}),this.dataSource=this.listSkillNames,this.jsonObject=this.arrayObj}ngOnInit(){this.defSkillId=history.state.skillId,this.defskillDetailId=history.state.skillDetailId,this.defskillExp=history.state.skillYrsExp,this.defskillLevel=history.state.skillLevel,this.editSkillForm=this.formBuilder.group({SkillId:new vn(""),skillDetailId:new vn(this.defskillDetailId),SkillLevel:new vn(""),SkillYrsOfExp:new vn("",[gr.required]),UserEmail:new vn("mary.renjith19@gmail.com")}),this.listSkillNames=this.skillService.listSkillName().subscribe(e=>{this.dataSource=e}),this.editSkillForm.controls.SkillId.setValue(this.defSkillId),this.editSkillForm.controls.SkillLevel.setValue(this.defskillLevel),this.editSkillForm.controls.SkillYrsOfExp.setValue(this.defskillExp)}formatLabel(e){return 1==e?"beginner":2==e?"novice":3==e?"expert":4==e?"proficient":e}editSkill(){0==this.editSkillForm.valid?this._snackBar.open("Invalid Input"):this.skillService.editSkill(this.editSkillForm.value).subscribe({next:e=>{this._snackBar.open("Skill updated Successfully"),this._router.navigate(["list"])},error:e=>{this._snackBar.open("Unable to add Skill"),this._router.navigate(["list"])}})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uh),o.Y36(zg),o.Y36(qg),o.Y36(fi),o.Y36(Uh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-update-skill"]],decls:25,vars:7,consts:[[1,"editSkill"],[3,"formGroup","submit"],["appearance","fill"],["formControlName","SkillId","placeholder","selectSkill",3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"classdivider"],["thumbLabel","","tickInterval","1000","step","1","min","1","max","4","aria-label","units","formControlName","SkillLevel",3,"displayWith"],["formControlName","SkillYrsOfExp",3,"value","valueChange"],["mat-raised-button",""],[3,"value"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-title"),o._uU(2,"Update Skill"),o.qZA(),o.TgZ(3,"mat-content")(4,"form",1),o.NdJ("submit",function(){return i.editSkill()}),o.TgZ(5,"p")(6,"mat-form-field",2)(7,"mat-label"),o._uU(8,"Select Skill"),o.qZA(),o.TgZ(9,"mat-select",3),o.NdJ("valueChange",function(s){return i.defSkillId=s}),o.YNc(10,nz,2,2,"mat-option",4),o.qZA()()(),o.TgZ(11,"p")(12,"mat-label"),o._uU(13,"Skill Level"),o.qZA(),o._UZ(14,"mat-divider",5)(15,"mat-slider",6),o.qZA(),o.TgZ(16,"p")(17,"mat-form-field",2)(18,"mat-label"),o._uU(19,"Select Exp(Yrs)"),o.qZA(),o.TgZ(20,"mat-select",7),o.NdJ("valueChange",function(s){return i.defskillExp=s}),o.YNc(21,iz,2,2,"mat-option",4),o.qZA()()(),o.TgZ(22,"p")(23,"button",8),o._uU(24,"Update"),o.qZA()()()()()),2&e&&(o.xp6(4),o.Q6J("formGroup",i.editSkillForm),o.xp6(5),o.Q6J("value",i.defSkillId)("disabled",!0),o.xp6(1),o.Q6J("ngForOf",i.dataSource),o.xp6(5),o.Q6J("displayWith",i.formatLabel),o.xp6(5),o.Q6J("value",i.defskillExp),o.xp6(1),o.Q6J("ngForOf",i.jsonObject))},dependencies:[Wi,Zy,Mg,Mp,kp,Zg,jh,hk,Wl,gd,dd,eu,oS,Ep],styles:[".editSkill[_ngcontent-%COMP%]{width:30%}classdivider[_ngcontent-%COMP%]{width:30%}"]}),n})()},{path:"delete",component:GG},{path:"addExam",component:Lj},{path:"editExam",component:jj},{path:"listExam",component:EG}];let sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[zC.forRoot(oz,{initialNavigation:"enabledBlocking"}),zC]}),n})();const hS_firebase={apiKey:"AIzaSyCXblgEp9XJyxMccPlShpGZMWNQYfifWSA",authDomain:"skillportal-ce043.firebaseapp.com",projectId:"skillportal-ce043",storageBucket:"skillportal-ce043.appspot.com",messagingSenderId:"135968548663",appId:"1:135968548663:web:0c3bbe5dfc0204ea601cb2"};let az=(()=>{class n{constructor(e,i,r,s){this.msalGuardConfig=e,this.msalBroadCastService=i,this.authservice=r,this.azureAddDemoService=s,this.isUserLoggedIn=!1,this._destroy=new Xe.x}ngOnInit(){this.msalBroadCastService.inProgress$.pipe(fn(e=>e==hi.None),un(this._destroy)).subscribe(e=>{this.isUserLoggedIn=this.authservice.instance.getAllAccounts().length>0,this.azureAddDemoService.isUserLoggedIn.next(this.isUserLoggedIn)})}ngOnDestroy(){this._destroy.next(void 0),this._destroy.complete()}login(){this.msalGuardConfig.authRequest?this.authservice.loginRedirect({...this.msalGuardConfig.authRequest}):this.authservice.loginRedirect()}logout(){this.authservice.logoutRedirect({postLogoutRedirectUri:"http://localhost:4200"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bv),o.Y36(Cv),o.Y36(dh),o.Y36(dS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[["color","primary"],[1,"example-spacer"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-toolbar",0)(1,"span"),o._uU(2,"Skill Portal"),o.qZA(),o._UZ(3,"span",1),o.qZA())},dependencies:[pE],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#1C8F76;color:#fff}"]}),n})(),lz=(()=>{class n{constructor(e){this._router=e}ngOnInit(){}redirectListSkill(){this._router.navigate(["list"])}redirectListExam(){this._router.navigate(["listExam"])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sidebar"]],decls:7,vars:0,consts:[["role","list"],["role","listitem"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-list",0)(1,"mat-list-item",1)(2,"button",2),o.NdJ("click",function(){return i.redirectListSkill()}),o._uU(3,"Skills Details"),o.qZA()(),o.TgZ(4,"mat-list-item",1)(5,"button",2),o.NdJ("click",function(){return i.redirectListExam()}),o._uU(6,"Certifications"),o.qZA()()())},dependencies:[a,f],styles:["#sidebar[_ngcontent-%COMP%]{max-width:250px}"]}),n})(),cz=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"Adfolks LLC Pvt Ltd"),o.qZA())}}),n})();const DF=["*"],uz=["content"];function dz(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function hz(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const fz=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],pz=["mat-drawer","mat-drawer-content","*"],mz={transformDrawer:Ko("transform",[ii("open, open-instant",Ft({transform:"none",visibility:"visible"})),ii("void",Ft({"box-shadow":"none",visibility:"hidden"})),ri("void => open-instant",Si("0ms")),ri("void <=> open, open-instant => void",Si("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},gz=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function _z(){return!1}}),TF=new o.OlP("MAT_DRAWER_CONTAINER");let fS=(()=>{class n extends eM{constructor(e,i,r,s,u){super(r,s,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>AF)),o.Y36(o.SBq),o.Y36(XA),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:eM,useExisting:n}]),o.qOj],ngContentSelectors:DF,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),IF=(()=>{class n{constructor(e,i,r,s,u,h,p,v){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=u,this._interactivityChecker=h,this._doc=p,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Xe.x,this._animationEnd=new Xe.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(fn(w=>w),(0,ot.U)(()=>{})),this.openedStart=this._animationStarted.pipe(fn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),Pf(void 0)),this._closedStream=this.openedChange.pipe(fn(w=>!w),(0,ot.U)(()=>{})),this.closedStart=this._animationStarted.pipe(fn(w=>w.fromState!==w.toState&&"void"===w.toState),Pf(void 0)),this._destroyed=new Xe.x,this.onPositionChanged=new o.vpe,this._modeChanged=new Xe.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{We(this._elementRef.nativeElement,"keydown").pipe(fn(w=>27===w.keyCode&&!this.disableClose&&!co(w)),un(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(rg((w,D)=>w.fromState===D.fromState&&w.toState===D.toState)).subscribe(w=>{const{fromState:D,toState:k}=w;(0===k.indexOf("open")&&"void"===D||"void"===k&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ht(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ht(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ht(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Zn(1)).subscribe(u=>s(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(sg),o.Y36(Qa),o.Y36(pi),o.Y36(o.R0b),o.Y36(ql),o.Y36(ie,8),o.Y36(TF,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(uz,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:DF,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[eM],encapsulation:2,data:{animation:[mz.transformDrawer]},changeDetection:0}),n})(),AF=(()=>{class n{constructor(e,i,r,s,u,h=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new Xe.x,this._doCheckSubject=new Xe.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Xe.x,e&&e.change.pipe(un(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(un(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ht(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Ht(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Vi(this._allDrawers),un(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Vi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ad(10),un(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(fn(i=>i.fromState!==i.toState),un(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(un(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(un(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Zn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(un((0,Wo.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uo,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(tb),o.Y36(gz),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,fS,5),o.Suo(r,IF,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(fS,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:TF,useExisting:n}])],ngContentSelectors:pz,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(fz),o.YNc(0,dz,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,hz,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[Mn,fS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ci,nn,Hg,Hg,nn]}),n})(),yz=(()=>{class n{constructor(e,i,r,s){this.msalGuardConfig=e,this.msalBroadCastService=i,this.authservice=r,this.azureAddDemoService=s,this.isUserLoggedIn=!1,this.title="",this._destroy=new Xe.x}ngOnInit(){this.msalBroadCastService.inProgress$.pipe(fn(e=>e==hi.None),un(this._destroy)).subscribe(e=>{this.isUserLoggedIn=this.authservice.instance.getAllAccounts().length>0,this.azureAddDemoService.isUserLoggedIn.next(this.isUserLoggedIn)})}ngOnDestroy(){this._destroy.next(void 0),this._destroy.complete()}login(){this.msalGuardConfig.authRequest?this.authservice.loginRedirect({...this.msalGuardConfig.authRequest}):this.authservice.loginRedirect()}logout(){this.authservice.logoutRedirect({postLogoutRedirectUri:"http://localhost:4200"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bv),o.Y36(Cv),o.Y36(dh),o.Y36(dS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"example-container"],["mode","side","opened","",1,"sidebar"]],template:function(e,i){1&e&&(o._UZ(0,"app-header"),o.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1),o._UZ(3,"app-sidebar"),o.qZA(),o.TgZ(4,"mat-drawer-content"),o._UZ(5,"router-outlet"),o.qZA()(),o._UZ(6,"app-footer"))},dependencies:[az,lz,cz,K_,IF,AF,fS],styles:[".example-container[_ngcontent-%COMP%]{padding-top:60px;width:100%;height:100%}"]}),n})();function MF(n){return new o.vHH(3e3,!1)}function e6(){return typeof window<"u"&&typeof window.document<"u"}function pk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zh(n){switch(n.length){case 0:return new ab;case 1:return n[0];default:return new TP(n)}}function kF(n,t,e,i,r=new Map,s=new Map){const u=[],h=[];let p=-1,v=null;if(i.forEach(w=>{const D=w.get("offset"),k=D==p,P=k&&v||new Map;w.forEach((U,j)=>{let ae=j,Ee=U;if("offset"!==j)switch(ae=t.normalizePropertyName(ae,u),Ee){case"!":Ee=r.get(j);break;case bd:Ee=s.get(j);break;default:Ee=t.normalizeStyleValue(j,ae,Ee,u)}P.set(ae,Ee)}),k||h.push(P),v=P,p=D}),u.length)throw function jz(n){return new o.vHH(3502,!1)}();return h}function mk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&gk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&gk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&gk(e,"destroy",n)))}}function gk(n,t,e){const s=_k(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function _k(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function la(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function RF(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let vk=(n,t)=>!1,xF=(n,t,e)=>[],OF=null;function yk(n){const t=n.parentNode||n.host;return t===OF?null:t}(pk()||typeof Element<"u")&&(e6()?(OF=(()=>document.documentElement)(),vk=(n,t)=>{for(;t;){if(t===n)return!0;t=yk(t)}return!1}):vk=(n,t)=>n.contains(t),xF=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Vp=null,PF=!1;const NF=vk,FF=xF;let LF=(()=>{class n{validateStyleProperty(e){return function n6(n){Vp||(Vp=function i6(){return typeof document<"u"?document.body:null}()||{},PF=!!Vp.style&&"WebkitAppearance"in Vp.style);let t=!0;return Vp.style&&!function t6(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Vp.style,!t&&PF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return NF(e,i)}getParentElement(e){return yk(e)}query(e,i,r){return FF(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],p){return new ab(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),bk=(()=>{class n{}return n.NOOP=new LF,n})();const Ck="ng-enter",pS="ng-leave",mS="ng-trigger",gS=".ng-trigger",UF="ng-animating",wk=".ng-animating";function Yh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ek(parseFloat(t[1]),t[2])}function Ek(n,t){return"s"===t?1e3*n:n}function _S(n,t,e){return n.hasOwnProperty("duration")?n:function s6(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(MF()),{duration:0,delay:0,easing:""};r=Ek(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=Ek(parseFloat(p),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,p=t.length;r<0&&(t.push(function bz(){return new o.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function Cz(){return new o.vHH(3101,!1)}()),h=!0),h&&t.splice(p,0,MF())}return{duration:r,delay:s,easing:u}}(n,t,e)}function yb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function HF(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function qh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function jF(n,t,e){return e?t+":"+e+";":""}function GF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=jF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=jF(0,u6(e),n.style[e]));n.setAttribute("style",t)}function cu(n,t,e){n.style&&(t.forEach((i,r)=>{const s=Dk(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),pk()&&GF(n))}function jp(n,t){n.style&&(t.forEach((e,i)=>{const r=Dk(i);n.style[r]=""}),pk()&&GF(n))}function bb(n){return Array.isArray(n)?1==n.length?n[0]:SP(n):n}const Sk=new RegExp("{{\\s*(.+?)\\s*}}","g");function zF(n){let t=[];if("string"==typeof n){let e;for(;e=Sk.exec(n);)t.push(e[1]);Sk.lastIndex=0}return t}function vS(n,t,e){const i=n.toString(),r=i.replace(Sk,(s,u)=>{let h=t[u];return null==h&&(e.push(function Ez(n){return new o.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function yS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const c6=/-+([a-z0-9])/g;function Dk(n){return n.replace(c6,(...t)=>t[1].toUpperCase())}function u6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ca(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Sz(n){return new o.vHH(3004,!1)}()}}function YF(n,t){return window.getComputedStyle(n)[t]}function g6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _6(n,t,e){if(":"==n[0]){const p=function v6(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Bz(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Lz(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],u=i[3];t.push(qF(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(qF(u,r))}(i,e,t)):e.push(n),e}const ES=new Set(["true","1"]),SS=new Set(["false","0"]);function qF(n,t){const e=ES.has(n)||SS.has(n),i=ES.has(t)||SS.has(t);return(r,s)=>{let u="*"==n||n==r,h="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?ES.has(n):SS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?ES.has(t):SS.has(t)),u&&h}}const y6=new RegExp("s*:selfs*,?","g");function Tk(n,t,e,i){return new b6(n).build(t,e,i)}class b6{constructor(t){this._driver=t}build(t,e,i){const r=new E6(e);return this._resetContextStyleTimingState(r),ca(this,bb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function Tz(){return new o.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,v=p.name;v.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,e))}),p.name=v}else if(1==h.type){const p=this.visitTransition(h,e);i+=p.queryCount,r+=p.depCount,u.push(p)}else e.errors.push(function Iz(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{zF(p).forEach(v=>{u.hasOwnProperty(v)||s.add(v)})})}),s.size&&(yS(s.values()),e.errors.push(function Az(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ca(this,bb(t.animation),e);return{type:1,matchers:g6(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Gp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ca(this,i,e)),options:Gp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=ca(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:Gp(t.options)}}visitAnimate(t,e){const i=function D6(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ik(_S(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ik(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=_S(e,t);return Ik(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ft({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=Ft(v)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,e);p.isEmptyStep=h,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===bd?i.push(h):e.errors.push(new o.vHH(3002,!1)):i.push(HF(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const v=e.collectedStyles.get(e.currentQuerySelector),w=v.get(p);let D=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(e.errors.push(function kz(n,t,e,i,r){return new o.vHH(3010,!1)}()),D=!1),s=w.startTime),D&&v.set(p,{startTime:s,endTime:r}),e.options&&function l6(n,t,e){const i=t.params||{},r=zF(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function wz(n){return new o.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Rz(){return new o.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,p=!1,v=0;const w=t.steps.map(Ee=>{const Ve=this._makeStyleAst(Ee,e);let Ke=null!=Ve.offset?Ve.offset:function S6(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ve.styles),tt=0;return null!=Ke&&(s++,tt=Ve.offset=Ke),p=p||tt<0||tt>1,h=h||tt<v,v=tt,u.push(tt),Ve});p&&e.errors.push(function xz(){return new o.vHH(3012,!1)}()),h&&e.errors.push(function Oz(){return new o.vHH(3200,!1)}());const D=t.steps.length;let k=0;s>0&&s<D?e.errors.push(function Pz(){return new o.vHH(3202,!1)}()):0==s&&(k=1/(D-1));const P=D-1,U=e.currentTime,j=e.currentAnimateTimings,ae=j.duration;return w.forEach((Ee,Ve)=>{const Ke=k>0?Ve==P?1:k*Ve:u[Ve],tt=Ke*ae;e.currentTime=U+j.delay+tt,j.duration=tt,this._validateStyleAst(Ee,e),Ee.offset=Ke,i.styles.push(Ee)}),i}visitReference(t,e){return{type:8,animation:ca(this,bb(t.animation),e),options:Gp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function C6(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(y6,"")),n=n.replace(/@\*/g,gS).replace(/@\w+/g,e=>gS+"-"+e.slice(1)).replace(/:animating/g,wk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,la(e.collectedStyles,e.currentQuerySelector,new Map);const h=ca(this,bb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Gp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Nz(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:_S(t.timings,e.errors,!0);return{type:12,animation:ca(this,bb(t.animation),e),timings:i,options:null}}}class E6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gp(n){return n?(n=yb(n)).params&&(n.params=function w6(n){return n?yb(n):null}(n.params)):n={},n}function Ik(n,t,e){return{duration:n,delay:t,easing:e}}function Ak(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class DS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const A6=new RegExp(":enter","g"),k6=new RegExp(":leave","g");function Mk(n,t,e,i,r,s=new Map,u=new Map,h,p,v=[]){return(new R6).buildKeyframes(n,t,e,i,r,s,u,h,p,v)}class R6{buildKeyframes(t,e,i,r,s,u,h,p,v,w=[]){v=v||new DS;const D=new kk(t,e,v,r,s,w,[]);D.options=p;const k=p.delay?Yh(p.delay):0;D.currentTimeline.delayNextStep(k),D.currentTimeline.setStyles([u],null,D.errors,p),ca(this,i,D);const P=D.timelines.filter(U=>U.containsAnimation());if(P.length&&h.size){let U;for(let j=P.length-1;j>=0;j--){const ae=P[j];if(ae.element===e){U=ae;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,D.errors,p)}return P.length?P.map(U=>U.buildKeyframes()):[Ak(e,[],[],[],0,k,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?Yh(i.duration):null,h=null!=i.delay?Yh(i.delay):null;return 0!==u&&t.forEach(p=>{const v=e.appendInstructionToTimeline(p,u,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ca(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TS);const u=Yh(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>ca(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Yh(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),ca(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return _S(e.params?vS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Yh(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=TS);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((v,w)=>{e.currentQueryIndex=w;const D=e.createSubContext(t.options,v);s&&D.delayNextStep(s),v===e.element&&(p=D.currentTimeline),ca(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let p=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const D=w.currentTime;ca(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const TS={};class kk{constructor(t,e,i,r,s,u,h,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new IS(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yh(i.duration)),null!=i.delay&&(r.delay=Yh(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=vS(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new kk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=TS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new x6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(A6,"."+this._enterClassName)).replace(k6,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&u.push(function Fz(n){return new o.vHH(3014,!1)}()),h}}class IS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new IS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||bd),this._currentKeyframe.set(e,bd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},u=function O6(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,bd)}else qh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,p]of u){const v=vS(p,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??bd),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const v=qh(h,new Map,this._backFill);v.forEach((w,D)=>{"!"===w?t.add(D):w===bd&&e.add(D)}),i||v.set("offset",p/this.duration),r.push(v)});const s=t.size?yS(t.values()):[],u=e.size?yS(e.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return Ak(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class x6 extends IS{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,p=qh(t[0]);p.set("offset",0),s.push(p);const v=qh(t[0]);v.set("offset",KF(h)),s.push(v);const w=t.length-1;for(let D=1;D<=w;D++){let k=qh(t[D]);const P=k.get("offset");k.set("offset",KF((e+P*i)/u)),s.push(k)}i=u,e=0,r="",t=s}return Ak(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function KF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Rk{}const P6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N6 extends Rk{normalizePropertyName(t,e){return Dk(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(P6.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function Dz(n,t){return new o.vHH(3005,!1)}())}return u+s}}function ZF(n,t,e,i,r,s,u,h,p,v,w,D,k){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:v,postStyleProps:w,totalTime:D,errors:k}}const xk={};class QF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function F6(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,u,h,p,v,w){const D=[],k=this.ast.options&&this.ast.options.params||xk,U=this.buildStyles(i,h&&h.params||xk,D),j=p&&p.params||xk,ae=this.buildStyles(r,j,D),Ee=new Set,Ve=new Map,Ke=new Map,tt="void"===r,Xt={params:L6(j,k),delay:this.ast.options?.delay},pn=w?[]:Mk(t,e,this.ast.animation,s,u,U,ae,Xt,v,D);let Gn=0;if(pn.forEach(es=>{Gn=Math.max(es.duration+es.delay,Gn)}),D.length)return ZF(e,this._triggerName,i,r,tt,U,ae,[],[],Ve,Ke,Gn,D);pn.forEach(es=>{const Is=es.element,gD=la(Ve,Is,new Set);es.preStyleProps.forEach(nm=>gD.add(nm));const Jb=la(Ke,Is,new Set);es.postStyleProps.forEach(nm=>Jb.add(nm)),Is!==e&&Ee.add(Is)});const zn=yS(Ee.values());return ZF(e,this._triggerName,i,r,tt,U,ae,pn,zn,Ve,Ke,Gn)}}function L6(n,t){const e=yb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class B6{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=yb(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=vS(u,r,e));const p=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,p,u,e),i.set(p,u)})}),i}}class H6{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new B6(r.style,r.options&&r.options.params||{},i))}),JF(this.states,"true","1"),JF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new QF(t,r,this.states))}),this.fallbackTransition=function V6(n,t,e){return new QF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function JF(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const j6=new DS;class G6{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=Tk(this._driver,e,i,[]);if(i.length)throw function Gz(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=kF(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let u;const h=new Map;if(s?(u=Mk(this._driver,e,s,Ck,pS,new Map,new Map,i,j6,r),u.forEach(w=>{const D=la(h,w.element,new Map);w.postStyleProps.forEach(k=>D.set(k,null))})):(r.push(function zz(){return new o.vHH(3300,!1)}()),u=[]),r.length)throw function Yz(n){return new o.vHH(3504,!1)}();h.forEach((w,D)=>{w.forEach((k,P)=>{w.set(P,this._driver.computeStyle(D,P,bd))})});const v=zh(u.map(w=>{const D=h.get(w.element);return this._buildPlayer(w,new Map,D)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function qz(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=_k(e,"","","");return mk(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const XF="ng-animate-queued",Ok="ng-animate-disabled",W6=[],e1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nl="__ng_removed";class Pk{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function X6(n){return n??null}(i?t.value:t),i){const s=yb(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Cb="void",Nk=new Pk(Cb);class Z6{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,il(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function $z(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function Wz(n){return new o.vHH(3303,!1)}();if(!function e4(n){return"start"==n||"done"==n}(i))throw function Kz(n,t){return new o.vHH(3400,!1)}();const s=la(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=la(this._engine.statesByElement,t,new Map);return h.has(e)||(il(t,mS),il(t,mS+"-"+e),h.set(e,Nk)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(u);p>=0&&s.splice(p,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Zz(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new Fk(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(il(t,mS),il(t,mS+"-"+e),this._engine.statesByElement.set(t,h=new Map));let p=h.get(e);const v=new Pk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),h.set(e,v),p||(p=Nk),v.value!==Cb&&p.value===v.value){if(!function r4(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,v.params)){const j=[],ae=s.matchStyles(p.value,p.params,j),Ee=s.matchStyles(v.value,v.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{jp(t,ae),cu(t,Ee)})}return}const k=la(this._engine.playersByElement,t,[]);k.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let P=s.matchTransition(p.value,v.value,t,v.params),U=!1;if(!P){if(!r)return;P=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:v,player:u,isFallbackTransition:U}),U||(il(t,XF),u.onStart(()=>{t_(t,XF)})),u.onDone(()=>{let j=this.players.indexOf(u);j>=0&&this.players.splice(j,1);const ae=this._engine.playersByElement.get(t);if(ae){let Ee=ae.indexOf(u);Ee>=0&&ae.splice(Ee,1)}}),this.players.push(u),k.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,gS,!0);i.forEach(r=>{if(r[nl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(s.forEach((p,v)=>{if(u.set(v,p.value),this._triggers.has(v)){const w=this.trigger(t,v,Cb,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&zh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,v=i.get(u)||Nk,w=new Pk(Cb),D=new Fk(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:p,fromState:v,toState:w,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[nl];(!s||s===e1)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){il(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=_k(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,mk(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Q6{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Z6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const p=r.get(h);if(p){const v=i.indexOf(p);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(AS(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!AS(e))return;const s=e[nl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),il(t,Ok)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),t_(t,Ok))}removeNode(t,e,i,r){if(AS(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[nl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return AS(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,gS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[nl];if(e&&e.setForRemoval){if(t[nl]=e1,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ok)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)il(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?zh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Qz(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new DS,r=[],s=new Map,u=[],h=new Map,p=new Map,v=new Map,w=new Set;this.disabledNodes.forEach(vt=>{w.add(vt);const kt=this.driver.query(vt,".ng-animate-queued",!0);for(let Lt=0;Lt<kt.length;Lt++)w.add(kt[Lt])});const D=this.bodyNode,k=Array.from(this.statesByElement.keys()),P=r1(k,this.collectedEnterElements),U=new Map;let j=0;P.forEach((vt,kt)=>{const Lt=Ck+j++;U.set(kt,Lt),vt.forEach(An=>il(An,Lt))});const ae=[],Ee=new Set,Ve=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const kt=this.collectedLeaveElements[vt],Lt=kt[nl];Lt&&Lt.setForRemoval&&(ae.push(kt),Ee.add(kt),Lt.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(An=>Ee.add(An)):Ve.add(kt))}const Ke=new Map,tt=r1(k,Array.from(Ee));tt.forEach((vt,kt)=>{const Lt=pS+j++;Ke.set(kt,Lt),vt.forEach(An=>il(An,Lt))}),t.push(()=>{P.forEach((vt,kt)=>{const Lt=U.get(kt);vt.forEach(An=>t_(An,Lt))}),tt.forEach((vt,kt)=>{const Lt=Ke.get(kt);vt.forEach(An=>t_(An,Lt))}),ae.forEach(vt=>{this.processLeaveNode(vt)})});const Xt=[],pn=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(e).forEach(Lt=>{const An=Lt.player,Kr=Lt.element;if(Xt.push(An),this.collectedEnterElements.length){const Ro=Kr[nl];if(Ro&&Ro.setForMove){if(Ro.previousTriggersValues&&Ro.previousTriggersValues.has(Lt.triggerName)){const im=Ro.previousTriggersValues.get(Lt.triggerName),ll=this.statesByElement.get(Lt.element);if(ll&&ll.has(Lt.triggerName)){const _D=ll.get(Lt.triggerName);_D.value=im,ll.set(Lt.triggerName,_D)}}return void An.destroy()}}const pu=!D||!this.driver.containsElement(D,Kr),ha=Ke.get(Kr),sf=U.get(Kr),Yi=this._buildInstruction(Lt,i,sf,ha,pu);if(Yi.errors&&Yi.errors.length)return void pn.push(Yi);if(pu)return An.onStart(()=>jp(Kr,Yi.fromStyles)),An.onDestroy(()=>cu(Kr,Yi.toStyles)),void r.push(An);if(Lt.isFallbackTransition)return An.onStart(()=>jp(Kr,Yi.fromStyles)),An.onDestroy(()=>cu(Kr,Yi.toStyles)),void r.push(An);const JB=[];Yi.timelines.forEach(Ro=>{Ro.stretchStartingKeyframe=!0,this.disabledNodes.has(Ro.element)||JB.push(Ro)}),Yi.timelines=JB,i.append(Kr,Yi.timelines),u.push({instruction:Yi,player:An,element:Kr}),Yi.queriedElements.forEach(Ro=>la(h,Ro,[]).push(An)),Yi.preStyleProps.forEach((Ro,im)=>{if(Ro.size){let ll=p.get(im);ll||p.set(im,ll=new Set),Ro.forEach((_D,XR)=>ll.add(XR))}}),Yi.postStyleProps.forEach((Ro,im)=>{let ll=v.get(im);ll||v.set(im,ll=new Set),Ro.forEach((_D,XR)=>ll.add(XR))})});if(pn.length){const vt=[];pn.forEach(kt=>{vt.push(function Jz(n,t){return new o.vHH(3505,!1)}())}),Xt.forEach(kt=>kt.destroy()),this.reportError(vt)}const Gn=new Map,zn=new Map;u.forEach(vt=>{const kt=vt.element;i.has(kt)&&(zn.set(kt,kt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,Gn))}),r.forEach(vt=>{const kt=vt.element;this._getPreviousPlayers(kt,!1,vt.namespaceId,vt.triggerName,null).forEach(An=>{la(Gn,kt,[]).push(An),An.destroy()})});const es=ae.filter(vt=>s1(vt,p,v)),Is=new Map;n1(Is,this.driver,Ve,v,bd).forEach(vt=>{s1(vt,p,v)&&es.push(vt)});const Jb=new Map;P.forEach((vt,kt)=>{n1(Jb,this.driver,new Set(vt),p,"!")}),es.forEach(vt=>{const kt=Is.get(vt),Lt=Jb.get(vt);Is.set(vt,new Map([...Array.from(kt?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const nm=[],ZB=[],QB={};u.forEach(vt=>{const{element:kt,player:Lt,instruction:An}=vt;if(i.has(kt)){if(w.has(kt))return Lt.onDestroy(()=>cu(kt,An.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(An.totalTime),void r.push(Lt);let Kr=QB;if(zn.size>1){let ha=kt;const sf=[];for(;ha=ha.parentNode;){const Yi=zn.get(ha);if(Yi){Kr=Yi;break}sf.push(ha)}sf.forEach(Yi=>zn.set(Yi,Kr))}const pu=this._buildAnimation(Lt.namespaceId,An,Gn,s,Jb,Is);if(Lt.setRealPlayer(pu),Kr===QB)nm.push(Lt);else{const ha=this.playersByElement.get(Kr);ha&&ha.length&&(Lt.parentPlayer=zh(ha)),r.push(Lt)}}else jp(kt,An.fromStyles),Lt.onDestroy(()=>cu(kt,An.toStyles)),ZB.push(Lt),w.has(kt)&&r.push(Lt)}),ZB.forEach(vt=>{const kt=s.get(vt.element);if(kt&&kt.length){const Lt=zh(kt);vt.setRealPlayer(Lt)}}),r.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<ae.length;vt++){const kt=ae[vt],Lt=kt[nl];if(t_(kt,pS),Lt&&Lt.hasAnimation)continue;let An=[];if(h.size){let pu=h.get(kt);pu&&pu.length&&An.push(...pu);let ha=this.driver.query(kt,wk,!0);for(let sf=0;sf<ha.length;sf++){let Yi=h.get(ha[sf]);Yi&&Yi.length&&An.push(...Yi)}}const Kr=An.filter(pu=>!pu.destroyed);Kr.length?t4(this,kt,Kr):this.processLeaveNode(kt)}return ae.length=0,nm.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const kt=this.players.indexOf(vt);this.players.splice(kt,1)}),vt.play()}),nm}elementContainsData(t,e){let i=!1;const r=e[nl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const p=!s||s==Cb;h.forEach(v=>{v.queued||!p&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const v=p.element,w=v!==s,D=la(i,v,[]);this._getPreviousPlayers(v,w,u,h,e.toState).forEach(P=>{const U=P.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),P.destroy(),D.push(P)})}jp(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,p=e.element,v=[],w=new Set,D=new Set,k=e.timelines.map(U=>{const j=U.element;w.add(j);const ae=j[nl];if(ae&&ae.removedBeforeQueried)return new ab(U.duration,U.delay);const Ee=j!==p,Ve=function n4(n){const t=[];return o1(n,t),t}((i.get(j)||W6).map(Gn=>Gn.getRealPlayer())).filter(Gn=>!!Gn.element&&Gn.element===j),Ke=s.get(j),tt=u.get(j),Xt=kF(0,this._normalizer,0,U.keyframes,Ke,tt),pn=this._buildPlayer(U,Xt,Ve);if(U.subTimeline&&r&&D.add(j),Ee){const Gn=new Fk(t,h,j);Gn.setRealPlayer(pn),v.push(Gn)}return pn});v.forEach(U=>{la(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function J6(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),w.forEach(U=>il(U,UF));const P=zh(k);return P.onDestroy(()=>{w.forEach(U=>t_(U,UF)),cu(p,e.toStyles)}),D.forEach(U=>{la(r,U,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ab(t.duration,t.delay)}}class Fk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ab,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>mk(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){la(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function AS(n){return n&&1===n.nodeType}function t1(n,t){const e=n.style.display;return n.style.display=t??"none",e}function n1(n,t,e,i,r){const s=[];e.forEach(p=>s.push(t1(p)));const u=[];i.forEach((p,v)=>{const w=new Map;p.forEach(D=>{const k=t.computeStyle(v,D,r);w.set(D,k),(!k||0==k.length)&&(v[nl]=K6,u.push(v))}),n.set(v,w)});let h=0;return e.forEach(p=>t1(p,s[h++])),u}function r1(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(h){if(!h)return 1;let p=s.get(h);if(p)return p;const v=h.parentNode;return p=e.has(v)?v:r.has(v)?1:u(v),s.set(h,p),p}return t.forEach(h=>{const p=u(h);1!==p&&e.get(p).push(h)}),e}function il(n,t){n.classList?.add(t)}function t_(n,t){n.classList?.remove(t)}function t4(n,t,e){zh(e).onDone(()=>n.processLeaveNode(t))}function o1(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof TP?o1(i.players,t):t.push(i)}}function s1(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class MS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Q6(t,e,i),this._timelineEngine=new G6(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],w=Tk(this._driver,s,p,[]);if(p.length)throw function Vz(n,t){return new o.vHH(3404,!1)}();h=function U6(n,t,e){return new H6(n,t,e)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=RF(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=RF(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let s4=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&cu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cu(this._element,this._initialStyles),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jp(this._element,this._endStyles),this._endStyles=null),cu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lk(n){let t=null;return n.forEach((e,i)=>{(function a4(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class a1{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:YF(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class l4{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return NF(t,e)}getParentElement(t){return yk(t)}query(t,e,i){return FF(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v=new Map,w=u.filter(P=>P instanceof a1);(function d6(n,t){return 0===n||0===t})(i,r)&&w.forEach(P=>{P.currentSnapshot.forEach((U,j)=>v.set(j,U))});let D=function a6(n){return n.length?n[0]instanceof Map?n:n.map(t=>HF(t)):[]}(e).map(P=>qh(P));D=function h6(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<t.length;s++){let u=t[s];r.forEach(h=>u.set(h,YF(n,h)))}}return t}(t,D,v);const k=function o4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Lk(t[0]),t.length>1&&(i=Lk(t[t.length-1]))):t instanceof Map&&(e=Lk(t)),e||i?new s4(n,e,i):null}(t,D);return new a1(t,D,p,k)}}let c4=(()=>{class n extends wP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?SP(e):e;return l1(this._renderer,null,i,"register",[r]),new u4(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class u4 extends class fU{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new d4(this._id,t,e||{},this._renderer)}}class d4{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return l1(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function l1(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const c1="@.disabled";let h4=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new u1("",s,this.engine),this._rendererCache.set(s,w)),w}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(u,h,e,w.name,w)};return i.data.animation.forEach(p),new f4(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(MS),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class u1{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==c1?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class f4 extends u1{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==c1?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function p4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function m4(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}const d1=[{provide:wP,useClass:c4},{provide:Rk,useFactory:function _4(){return new N6}},{provide:MS,useClass:(()=>{class n extends MS{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(bk),o.LFG(Rk),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:o.FYo,useFactory:function v4(n,t,e){return new h4(n,t,e)},deps:[Fo,MS,o.R0b]}],Bk=[{provide:bk,useFactory:()=>new l4},{provide:o.QbO,useValue:"BrowserAnimations"},...d1],h1=[{provide:bk,useClass:LF},{provide:o.QbO,useValue:"NoopAnimations"},...d1];let f1=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?h1:Bk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Bk,imports:[bn]}),n})();var Uk=F(3099);let S4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[nn,nn]}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ci,nn,Bp,fy,$v,iy,nn]}),n})(),k4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ci,lA,S4,L,zC,M4]}),n})(),Vk=(()=>{class n{constructor(){this.changes=new Xe.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x4={provide:Vk,deps:[[new o.FiY,new o.tp0,Vk]],useFactory:function R4(n){return n||new Vk}};let v1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[x4],imports:[ci,nn]}),n})();F(1451);const y1="@firebase/database";let jk="";function C1(n){jk=n}class N4{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class F4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const w1=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new N4(t)}}catch{}return new F4},Yp=w1("localStorage"),Gk=w1("sessionStorage"),n_=new Y0.Yd("@firebase/database"),E1=function(){let n=1;return function(){return n++}}(),S1=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const i=e.digest();return B.US.encodeByteArray(i)},Eb=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Eb.apply(null,i):t+="object"==typeof i?(0,B.Pz)(i):i,t+=" "}return t};let qp=null,D1=!0;const T1=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(n_.logLevel=Y0.in.VERBOSE,qp=n_.log.bind(n_),t&&Gk.set("logging_enabled",!0)):"function"==typeof n?qp=n:(qp=null,Gk.remove("logging_enabled"))},$r=function(...n){if(!0===D1&&(D1=!1,null===qp&&!0===Gk.get("logging_enabled")&&T1(!0)),qp){const t=Eb.apply(null,n);qp(t)}},Sb=function(n){return function(...t){$r(n,...t)}},zk=function(...n){const t="FIREBASE INTERNAL ERROR: "+Eb(...n);n_.error(t)},uu=function(...n){const t=`FIREBASE FATAL ERROR: ${Eb(...n)}`;throw n_.error(t),new Error(t)},ko=function(...n){const t="FIREBASE WARNING: "+Eb(...n);n_.warn(t)},OS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Sd="[MIN_NAME]",du="[MAX_NAME]",$p=function(n,t){if(n===t)return 0;if(n===Sd||t===du)return-1;if(t===Sd||n===du)return 1;{const e=PS(n),i=PS(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},U4=function(n,t){return n===t?0:n<t?-1:1},Db=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Pz)(t))},Yk=function(n){if("object"!=typeof n||null===n)return(0,B.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,B.Pz)(t[i]),e+=":",e+=Yk(n[t[i]]);return e+="}",e},I1=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Wr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const A1=function(n){(0,B.hu)(!OS(n),"Invalid JSON number");const i=1023;let r,s,u,h,p;0===n?(s=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const w=v.join("");let D="";for(p=0;p<64;p+=8){let k=parseInt(w.substr(p,8),2).toString(16);1===k.length&&(k="0"+k),D+=k}return D.toLowerCase()},G4=new RegExp("^-?(0*)\\d{1,10}$"),M1=-2147483648,qk=2147483647,PS=function(n){if(G4.test(n)){const t=Number(n);if(t>=M1&&t<=qk)return t}return null},i_=function(n){try{n()}catch(t){setTimeout(()=>{throw ko("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Tb=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Y4{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ko(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class q4{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?($r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ko(t)}}let Ib=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const P1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,L1="websocket",B1="long_polling";class Wk{constructor(t,e,i,r,s=!1,u="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yp.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yp.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function U1(n,t,e){let i;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===L1)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==B1)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function $4(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Wr(e,(s,u)=>{r.push(s+"="+u)}),i+r.join("&")}class W4{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const Kk={},Zk={};function Qk(n){const t=n.toString();return Kk[t]||(Kk[t]=new W4),Kk[t]}class Z4{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&i_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wh{constructor(t,e,i,r,s,u,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sb(t),this.stats_=Qk(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),U1(e,B1,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Z4(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jk((...s)=>{const[u,h,p,v,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&P1.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wh.forceAllow_=!0}static forceDisallow(){Wh.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Wh.forceAllow_&&(Wh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,B.h$)(e),r=I1(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Jk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=E1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Jk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){$r("frame writing exception"),h.stack&&$r(h.stack),$r(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||$r("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{$r("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let FS=null;typeof MozWebSocket<"u"?FS=MozWebSocket:typeof WebSocket<"u"&&(FS=WebSocket);let r_=(()=>{class n{constructor(e,i,r,s,u,h,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sb(this.connId),this.stats_=Qk(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,u){const h={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&P1.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),u&&(h.p=u),U1(e,L1,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yp.set("previous_websocket_failure",!0);try{let r;if((0,B.Yr)()){r={headers:{"User-Agent":`Firebase/5/${jk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new FS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==FS&&!n.forceDisallow_}static previouslyFailed(){return Yp.isInMemoryStorage||!0===Yp.get("previous_websocket_failure")}markConnectionHealthy(){Yp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,B.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,B.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=I1(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),q1=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wh,r_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=r_&&r_.isAvailable();let r=i&&!r_.previouslyFailed();if(e.webSocketOnly&&(i||ko("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[r_];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class X1{constructor(t,e,i,r,s,u,h,p,v,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sb("c:"+this.id+":"),this.transportManager_=new q1(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Tb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Db("t",t),i=Db("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Db("t",t),i=Db("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Db("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?zk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ko("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Tb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eL{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class tL{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class LS extends tL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new LS}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function kn(){return new Fn("")}function on(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Kh(n){return n.pieces_.length-n.pieceNum_}function oi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Fn(n.pieces_,t)}function eR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ab(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function rL(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Fn(t,0)}function Ni(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Fn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Fn(e,0)}function sn(n){return n.pieceNum_>=n.pieces_.length}function Xo(n,t){const e=on(n),i=on(t);if(null===e)return t;if(e===i)return Xo(oi(n),oi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function vY(n,t){const e=Ab(n,0),i=Ab(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=$p(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function tR(n,t){if(Kh(n)!==Kh(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function rl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Kh(n)>Kh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class yY{constructor(t,e){this.errorPrefix_=e,this.parts_=Ab(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,B.ug)(this.parts_[i]);oL(this)}}function oL(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wp(n))}function Wp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class nR extends tL{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new nR}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Mb=1e3;let US,Kp=(()=>{class n extends eL{constructor(e,i,r,s,u,h,p,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Sb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&LS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,u={r:s,a:e,b:i};this.log_((0,B.Pz)(u)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new B.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const u={p:r};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,p=>{const v=p.d,w=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,s),e.onComplete&&e.onComplete(w,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const r=(0,B.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();ko(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,B.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const u=s.s,h=s.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const u={p:e};s&&(u.q=r,u.t=s),this.sendRequest("n",u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,u){this.initConnection_();const h={p:i,d:r};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):zk("Unrecognized action received from server: "+(0,B.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,oa.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let p=!1,v=null;const w=function(){v?v.close():(p=!0,s())};e.realtime_={close:w,sendRequest:function(P){(0,B.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(P)}};const k=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,U]=yield Promise.all([e.authTokenProvider_.getToken(k),e.appCheckTokenProvider_.getToken(k)]);p?$r("getToken() completed but was canceled"):($r("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=U&&U.token,v=new X1(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,j=>{ko(j+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(P){e.log_("Failed to get token: "+P),p||(e.repoInfo_.nodeAdmin&&ko(P),w())}}})()}interrupt(e){$r("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$r("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Mb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(u=>Yk(u)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Fn(e).toString();let s;if(this.listens.has(r)){const u=this.listens.get(r);s=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){$r("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){$r("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,B.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+jk.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=LS.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class dn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new dn(t,e)}}class BS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new dn(Sd,t),r=new dn(Sd,e);return 0!==this.compare(i,r)}minPost(){return dn.MIN}}class lL extends BS{static get __EMPTY_NODE(){return US}static set __EMPTY_NODE(t){US=t}compare(t,e){return $p(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return dn.MIN}maxPost(){return new dn(du,US)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new dn(t,US)}toString(){return".key"}}const hu=new lL;class HS{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(u=e?i(t.key,e):1,r&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rR,Jl=(()=>{class n{constructor(e,i,r,s,u){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Ds.EMPTY_NODE,this.right=u??Ds.EMPTY_NODE}copy(e,i,r,s,u){return new n(e??this.key,i??this.value,r??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===u?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ds.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ds.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ds{constructor(t,e=Ds.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ds(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Jl.BLACK,null,null))}remove(t){return new Ds(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new HS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new HS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new HS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new HS(this.root_,null,this.comparator_,!0,t)}}function IY(n,t){return $p(n.name,t.name)}function iR(n,t){return $p(n,t)}Ds.EMPTY_NODE=new class TY{copy(t,e,i,r,s){return this}insert(t,e,i){return new Jl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const cL=function(n){return"number"==typeof n?"number:"+A1(n):"string:"+n},uL=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===rR||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===rR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dL,hL,fL,o_=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),uL(this.priorityNode_)}static set __childrenNodeConstructor(e){dL=e}static get __childrenNodeConstructor(){return dL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sn(e)?this:".priority"===on(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=on(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,B.hu)(".priority"!==r||1===Kh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cL(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?A1(this.value_):this.value_,this.lazyHash_=S1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,B.hu)(s>=0,"Unknown leaf type: "+i),(0,B.hu)(u>=0,"Unknown leaf type: "+r),s===u?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const mi=new class RY extends BS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?$p(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return dn.MIN}maxPost(){return new dn(du,new o_("[PRIORITY-POST]",fL))}makePost(t,e){const i=hL(t);return new dn(e,new o_("[PRIORITY-POST]",i))}toString(){return".priority"}},xY=Math.log(2);class OY{constructor(t){this.count=parseInt(Math.log(t+1)/xY,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const VS=function(n,t,e,i){n.sort(t);const r=function(p,v){const w=v-p;let D,k;if(0===w)return null;if(1===w)return D=n[p],k=e?e(D):D,new Jl(k,D.node,Jl.BLACK,null,null);{const P=parseInt(w/2,10)+p,U=r(p,P),j=r(P+1,v);return D=n[P],k=e?e(D):D,new Jl(k,D.node,Jl.BLACK,U,j)}},h=function(p){let v=null,w=null,D=n.length;const k=function(U,j){const ae=D-U,Ee=D;D-=U;const Ve=r(ae+1,Ee),Ke=n[ae],tt=e?e(Ke):Ke;P(new Jl(tt,Ke.node,j,null,Ve))},P=function(U){v?(v.left=U,v=U):(w=U,v=U)};for(let U=0;U<p.count;++U){const j=p.nextBitIsOne(),ae=Math.pow(2,p.count-(U+1));j?k(ae,Jl.BLACK):(k(ae,Jl.BLACK),k(ae,Jl.RED))}return w}(new OY(n.length));return new Ds(i||t,h)};let oR;const s_={};class Dd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)(s_&&mi,"ChildrenNode.ts has not been loaded"),oR=oR||new Dd({".priority":s_},{".priority":mi}),oR}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ds?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==hu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(dn.Wrap);let h,u=s.getNext();for(;u;)r=r||t.isDefinedOn(u.node),i.push(u),u=s.getNext();h=r?VS(i,t.getCompare()):s_;const p=t.toString(),v=Object.assign({},this.indexSet_);v[p]=t;const w=Object.assign({},this.indexes_);return w[p]=h,new Dd(w,v)}addToIndexes(t,e){const i=(0,B.UI)(this.indexes_,(r,s)=>{const u=(0,B.DV)(this.indexSet_,s);if((0,B.hu)(u,"Missing index implementation for "+s),r===s_){if(u.isDefinedOn(t.node)){const h=[],p=e.getIterator(dn.Wrap);let v=p.getNext();for(;v;)v.name!==t.name&&h.push(v),v=p.getNext();return h.push(t),VS(h,u.getCompare())}return s_}{const h=e.get(t.name);let p=r;return h&&(p=p.remove(new dn(t.name,h))),p.insert(t,t.node)}});return new Dd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,B.UI)(this.indexes_,r=>{if(r===s_)return r;{const s=e.get(t.name);return s?r.remove(new dn(t.name,s)):r}});return new Dd(i,this.indexSet_)}}let kb,Wt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&uL(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kb||(kb=new n(new Ds(iR),null,Dd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kb}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?kb:i}}getChild(e){const i=on(e);return null===i?this:this.getImmediateChild(i).getChild(oi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,B.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new dn(e,i);let s,u;i.isEmpty()?(s=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?kb:this.priorityNode_;return new n(s,h,u)}}updateChild(e,i){const r=on(e);if(null===r)return i;{(0,B.hu)(".priority"!==on(e)||1===Kh(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(oi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,u=!0;if(this.forEachChild(mi,(h,p)=>{i[h]=p.val(e),r++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!e&&u&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+cL(this.getPriority().val())+":"),this.forEachChild(mi,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":S1(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const u=s.getPredecessorKey(new dn(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new dn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new dn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,dn.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,e)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,dn.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,e)>0;)s.getNext(),u=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rb?-1:0}withIndex(e){if(e===hu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===hu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(mi),s=i.getIterator(mi);let u=r.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(e){return e===hu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Rb=new class PY extends Wt{constructor(){super(new Ds(iR),Wt.EMPTY_NODE,Dd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Wt.EMPTY_NODE}isEmpty(){return!1}};function zi(n,t=null){if(null===n)return Wt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new o_(n,zi(t));if(n instanceof Array){let e=Wt.EMPTY_NODE;return Wr(n,(i,r)=>{if((0,B.r3)(n,i)&&"."!==i.substring(0,1)){const s=zi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(zi(t))}{const e=[];let i=!1;if(Wr(n,(u,h)=>{if("."!==u.substring(0,1)){const p=zi(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new dn(u,p)))}}),0===e.length)return Wt.EMPTY_NODE;const s=VS(e,IY,u=>u.name,iR);if(i){const u=VS(e,mi.getCompare());return new Wt(s,zi(t),new Dd({".priority":u},{".priority":mi}))}return new Wt(s,zi(t),Dd.Default)}}Object.defineProperties(dn,{MIN:{value:new dn(Sd,Wt.EMPTY_NODE)},MAX:{value:new dn(du,Rb)}}),lL.__EMPTY_NODE=Wt.EMPTY_NODE,o_.__childrenNodeConstructor=Wt,function AY(n){rR=n}(Rb),function kY(n){fL=n}(Rb),function MY(n){hL=n}(zi);class sR extends BS{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!sn(t)&&".priority"!==on(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?$p(t.name,e.name):s}makePost(t,e){const i=zi(t),r=Wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new dn(e,r)}maxPost(){const t=Wt.EMPTY_NODE.updateChild(this.indexPath_,Rb);return new dn(du,t)}toString(){return Ab(this.indexPath_,0).join("/")}}const aR=new class FY extends BS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?$p(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return dn.MIN}maxPost(){return dn.MAX}makePost(t,e){const i=zi(t);return new dn(e,i)}toString(){return".value"}},a_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LY=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=a_.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let u=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=a_.charAt(t[r]);return(0,B.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),gL=function(n){if(n===""+qk)return"-";const t=PS(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let u=0;u<e.length;u++)e[u]=n.charAt(u);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return du;const s=a_.charAt(a_.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},_L=function(n){if(n===""+M1)return Sd;const t=PS(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+qk:(delete e[e.length-1],e.join("")):(e[e.length-1]=a_.charAt(a_.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function vL(n){return{type:"value",snapshotNode:n}}function l_(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function xb(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ob(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class cR{constructor(t){this.index_=t}updateChild(t,e,i,r,s,u){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(xb(e,h)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(l_(e,i)):u.trackChildChange(Ob(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(mi,(r,s)=>{e.hasChild(r)||i.trackChildChange(xb(r,s))}),e.isLeafNode()||e.forEachChild(mi,(r,s)=>{if(t.hasChild(r)){const u=t.getImmediateChild(r);u.equals(s)||i.trackChildChange(Ob(r,s,u))}else i.trackChildChange(l_(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pb{constructor(t){this.indexedFilter_=new cR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pb.getStartPost_(t),this.endPost_=Pb.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,u){return this.matches(new dn(e,i))||(i=Wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Wt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Wt.EMPTY_NODE);const s=this;return e.forEachChild(mi,(u,h)=>{s.matches(new dn(u,h))||(r=r.updateImmediateChild(u,Wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class UY{constructor(t){this.rangedFilter_=new Pb(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,u){return this.rangedFilter_.matches(new dn(e,i))||(i=Wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,u):this.fullLimitUpdateChild_(t,e,i,s,u)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Wt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),u++}}else{let s,u,h,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Wt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();h=(k,P)=>D(P,k)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let v=0,w=!1;for(;p.hasNext();){const D=p.getNext();!w&&h(s,D)<=0&&(w=!0),w&&v<this.limit_&&h(D,u)<=0?v++:r=r.updateImmediateChild(D.name,Wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let u;if(this.reverse_){const D=this.index_.getCompare();u=(k,P)=>D(P,k)}else u=this.index_.getCompare();const h=t;(0,B.hu)(h.numChildren()===this.limit_,"");const p=new dn(e,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(h.hasChild(e)){const D=h.getImmediateChild(e);let k=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=k&&(k.name===e||h.hasChild(k.name));)k=r.getChildAfterChild(this.index_,k,this.reverse_);const P=null==k?1:u(k,p);if(w&&!i.isEmpty()&&P>=0)return s?.trackChildChange(Ob(e,i,D)),h.updateImmediateChild(e,i);{s?.trackChildChange(xb(e,D));const j=h.updateImmediateChild(e,Wt.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(s?.trackChildChange(l_(k.name,k.node)),j.updateImmediateChild(k.name,k.node)):j}}return i.isEmpty()?t:w&&u(v,p)>=0?(null!=s&&(s.trackChildChange(xb(v.name,v.node)),s.trackChildChange(l_(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(v.name,Wt.EMPTY_NODE)):t}}class jS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:du}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mi}copy(){const t=new jS;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uR(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function dR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function GS(n,t){const e=n.copy();return e.index_=t,e}function yL(n){const t={};if(n.isDefault())return t;let e;return n.index_===mi?e="$priority":n.index_===aR?e="$value":n.index_===hu?e="$key":((0,B.hu)(n.index_ instanceof sR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Pz)(e),n.startSet_&&(t.startAt=(0,B.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function bL(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==mi&&(t.i=n.index_.toString()),t}class zS extends eL{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Sb("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const u=zS.getListenId_(t,i),h={};this.listens_[u]=h;const p=yL(t._queryParams);this.restRequest_(s+".json",p,(v,w)=>{let D=w;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(s,D,!1,i),(0,B.DV)(this.listens_,u)===h){let k;k=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(k,null)}})}unlisten(t,e){const i=zS.getListenId_(t,e);delete this.listens_[i]}get(t){const e=yL(t._queryParams),i=t._path.toString(),r=new B.BH;return this.restRequest_(i+".json",e,(s,u)=>{let h=u;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,B.cI)(h.responseText)}catch{ko("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&ko("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class YY{constructor(){this.rootNode_=Wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function YS(){return{value:null,children:new Map}}function c_(n,t,e){if(sn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=on(t);n.children.has(i)||n.children.set(i,YS()),c_(n.children.get(i),t=oi(t),e)}}function hR(n,t){if(sn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(mi,(i,r)=>{c_(n,new Fn(i),r)}),hR(n,t)}}if(n.children.size>0){const e=on(t);return t=oi(t),n.children.has(e)&&hR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function fR(n,t,e){null!==n.value?e(t,n.value):function qY(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{fR(r,new Fn(t.toString()+"/"+i),e)})}class $Y{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Wr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class ZY{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new $Y(t);const i=1e4+2e4*Math.random();Tb(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Wr(t,(r,s)=>{s>0&&(0,B.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Tb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ol=(()=>{return(n=ol||(ol={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ol;var n})();function gR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class qS{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ol.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(sn(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Fn(t));return new qS(kn(),e,this.revert)}}return(0,B.hu)(on(this.path)===t,"operationForChild called for unrelated child."),new qS(oi(this.path),this.affectedTree,this.revert)}}class Nb{constructor(t,e){this.source=t,this.path=e,this.type=ol.LISTEN_COMPLETE}operationForChild(t){return sn(this.path)?new Nb(this.source,kn()):new Nb(this.source,oi(this.path))}}class Zp{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ol.OVERWRITE}operationForChild(t){return sn(this.path)?new Zp(this.source,kn(),this.snap.getImmediateChild(t)):new Zp(this.source,oi(this.path),this.snap)}}class u_{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ol.MERGE}operationForChild(t){if(sn(this.path)){const e=this.children.subtree(new Fn(t));return e.isEmpty()?null:e.value?new Zp(this.source,kn(),e.value):new u_(this.source,kn(),e)}return(0,B.hu)(on(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new u_(this.source,oi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zh{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(sn(t))return this.isFullyInitialized()&&!this.filtered_;const e=on(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class QY{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Fb(n,t,e,i,r,s){const u=i.filter(h=>h.type===e);u.sort((h,p)=>function eq(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const i=new dn(t.childName,t.snapshotNode),r=new dn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),u.forEach(h=>{const p=function XY(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,s);r.forEach(v=>{v.respondsTo(h.type)&&t.push(v.createEvent(p,n.query_))})})}function $S(n,t){return{eventCache:n,serverCache:t}}function Lb(n,t,e,i){return $S(new Zh(t,e,i),n.serverCache)}function wL(n,t,e,i){return $S(n.eventCache,new Zh(t,e,i))}function WS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Qp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let _R;class gi{constructor(t,e=(()=>(_R||(_R=new Ds(U4)),_R))()){this.value=t,this.children=e}static fromObject(t){let e=new gi(null);return Wr(t,(i,r)=>{e=e.set(new Fn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:kn(),value:this.value};if(sn(t))return null;{const i=on(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(oi(t),e);return null!=s?{path:Ni(new Fn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(sn(t))return this;{const e=on(t),i=this.children.get(e);return null!==i?i.subtree(oi(t)):new gi(null)}}set(t,e){if(sn(t))return new gi(e,this.children);{const i=on(t),s=(this.children.get(i)||new gi(null)).set(oi(t),e),u=this.children.insert(i,s);return new gi(this.value,u)}}remove(t){if(sn(t))return this.children.isEmpty()?new gi(null):new gi(null,this.children);{const e=on(t),i=this.children.get(e);if(i){const r=i.remove(oi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new gi(null):new gi(this.value,s)}return this}}get(t){if(sn(t))return this.value;{const e=on(t),i=this.children.get(e);return i?i.get(oi(t)):null}}setTree(t,e){if(sn(t))return e;{const i=on(t),s=(this.children.get(i)||new gi(null)).setTree(oi(t),e);let u;return u=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new gi(this.value,u)}}fold(t){return this.fold_(kn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ni(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,kn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(sn(t))return null;{const s=on(t),u=this.children.get(s);return u?u.findOnPath_(oi(t),Ni(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,kn(),e)}foreachOnPath_(t,e,i){if(sn(t))return this;{this.value&&i(e,this.value);const r=on(t),s=this.children.get(r);return s?s.foreachOnPath_(oi(t),Ni(e,r),i):new gi(null)}}foreach(t){this.foreach_(kn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ni(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Xl{constructor(t){this.writeTree_=t}static empty(){return new Xl(new gi(null))}}function Bb(n,t,e){if(sn(t))return new Xl(new gi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const u=Xo(r,t);return s=s.updateChild(u,e),new Xl(n.writeTree_.set(r,s))}{const r=new gi(e),s=n.writeTree_.setTree(t,r);return new Xl(s)}}}function vR(n,t,e){let i=n;return Wr(e,(r,s)=>{i=Bb(i,Ni(t,r),s)}),i}function EL(n,t){if(sn(t))return Xl.empty();{const e=n.writeTree_.setTree(t,new gi(null));return new Xl(e)}}function yR(n,t){return null!=Jp(n,t)}function Jp(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Xo(e.path,t)):null}function SL(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(mi,(i,r)=>{t.push(new dn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new dn(i,r.value))}),t}function Qh(n,t){if(sn(t))return n;{const e=Jp(n,t);return new Xl(null!=e?new gi(e):n.writeTree_.subtree(t))}}function bR(n){return n.writeTree_.isEmpty()}function d_(n,t){return DL(kn(),n.writeTree_,t)}function DL(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,B.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=DL(Ni(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ni(n,".priority"),i)),e}}function KS(n,t){return kL(t,n)}function sq(n,t){if(n.snap)return rl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&rl(Ni(n.path,e),t))return!0;return!1}function lq(n){return n.visible}function TL(n,t,e){let i=Xl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const u=s.path;let h;if(s.snap)rl(e,u)?(h=Xo(e,u),i=Bb(i,h,s.snap)):rl(u,e)&&(h=Xo(u,e),i=Bb(i,kn(),s.snap.getChild(h)));else{if(!s.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(rl(e,u))h=Xo(e,u),i=vR(i,h,s.children);else if(rl(u,e))if(h=Xo(u,e),sn(h))i=vR(i,kn(),s.children);else{const p=(0,B.DV)(s.children,on(h));if(p){const v=p.getChild(oi(h));i=Bb(i,kn(),v)}}}}}return i}function IL(n,t,e,i,r){if(i||r){const s=Qh(n.visibleWrites,t);return!r&&bR(s)?e:r||null!=e||yR(s,kn())?d_(TL(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(rl(v.path,t)||rl(t,v.path))},t),e||Wt.EMPTY_NODE):null}{const s=Jp(n.visibleWrites,t);if(null!=s)return s;{const u=Qh(n.visibleWrites,t);return bR(u)?e:null!=e||yR(u,kn())?d_(u,e||Wt.EMPTY_NODE):null}}}function ZS(n,t,e,i){return IL(n.writeTree,n.treePath,t,e,i)}function CR(n,t){return function cq(n,t,e){let i=Wt.EMPTY_NODE;const r=Jp(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(mi,(s,u)=>{i=i.updateImmediateChild(s,u)}),i;if(e){const s=Qh(n.visibleWrites,t);return e.forEachChild(mi,(u,h)=>{const p=d_(Qh(s,new Fn(u)),h);i=i.updateImmediateChild(u,p)}),SL(s).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return SL(Qh(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function AL(n,t,e,i){return function uq(n,t,e,i,r){(0,B.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ni(t,e);if(yR(n.visibleWrites,s))return null;{const u=Qh(n.visibleWrites,s);return bR(u)?r.getChild(e):d_(u,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function QS(n,t){return function hq(n,t){return Jp(n.visibleWrites,t)}(n.writeTree,Ni(n.treePath,t))}function wR(n,t,e){return function dq(n,t,e,i){const r=Ni(t,e),s=Jp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?d_(Qh(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function ML(n,t){return kL(Ni(n.treePath,t),n.writeTree)}function kL(n,t){return{treePath:n,writeTree:t}}class gq{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,Ob(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,xb(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,l_(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Ob(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const RL=new class _q{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class ER{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Zh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wR(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qp(this.viewCache_),s=function mq(n,t,e,i,r,s){return function fq(n,t,e,i,r,s,u){let h;const p=Qh(n.visibleWrites,t),v=Jp(p,kn());if(null!=v)h=v;else{if(null==e)return[];h=d_(p,e)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const w=[],D=u.getCompare(),k=s?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let P=k.getNext();for(;P&&w.length<r;)0!==D(P,i)&&w.push(P),P=k.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function xL(n,t,e,i,r,s){const u=t.eventCache;if(null!=QS(i,e))return t;{let h,p;if(sn(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=Qp(t),D=CR(i,v instanceof Wt?v:Wt.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const v=ZS(i,Qp(t));h=n.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{const v=on(e);if(".priority"===v){(0,B.hu)(1===Kh(e),"Can't have a priority with additional path components");const w=u.getNode();p=t.serverCache.getNode();const D=AL(i,e,w,p);h=null!=D?n.filter.updatePriority(w,D):u.getNode()}else{const w=oi(e);let D;if(u.isCompleteForChild(v)){p=t.serverCache.getNode();const k=AL(i,e,u.getNode(),p);D=null!=k?u.getNode().getImmediateChild(v).updateChild(w,k):u.getNode().getImmediateChild(v)}else D=wR(i,v,t.serverCache);h=null!=D?n.filter.updateChild(u.getNode(),v,D,w,r,s):u.getNode()}}return Lb(t,h,u.isFullyInitialized()||sn(e),n.filter.filtersNodes())}}function JS(n,t,e,i,r,s,u,h){const p=t.serverCache;let v;const w=u?n.filter:n.filter.getIndexedFilter();if(sn(e))v=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(e,i);v=w.updateFullNode(p.getNode(),P,null)}else{const P=on(e);if(!p.isCompleteForPath(e)&&Kh(e)>1)return t;const U=oi(e),ae=p.getNode().getImmediateChild(P).updateChild(U,i);v=".priority"===P?w.updatePriority(p.getNode(),ae):w.updateChild(p.getNode(),P,ae,U,RL,null)}const D=wL(t,v,p.isFullyInitialized()||sn(e),w.filtersNodes());return xL(n,D,e,r,new ER(r,D,s),h)}function SR(n,t,e,i,r,s,u){const h=t.eventCache;let p,v;const w=new ER(r,t,s);if(sn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,u),p=Lb(t,v,!0,n.filter.filtersNodes());else{const D=on(e);if(".priority"===D)v=n.filter.updatePriority(t.eventCache.getNode(),i),p=Lb(t,v,h.isFullyInitialized(),h.isFiltered());else{const k=oi(e),P=h.getNode().getImmediateChild(D);let U;if(sn(k))U=i;else{const j=w.getCompleteChild(D);U=null!=j?".priority"===eR(k)&&j.getChild(rL(k)).isEmpty()?j:j.updateChild(k,i):Wt.EMPTY_NODE}p=P.equals(U)?t:Lb(t,n.filter.updateChild(h.getNode(),D,U,k,w,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function OL(n,t){return n.eventCache.isCompleteForChild(t)}function PL(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function DR(n,t,e,i,r,s,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,p=t;v=sn(e)?i:new gi(null).setTree(e,i);const w=t.serverCache.getNode();return v.children.inorderTraversal((D,k)=>{if(w.hasChild(D)){const U=PL(0,t.serverCache.getNode().getImmediateChild(D),k);p=JS(n,p,new Fn(D),U,r,s,u,h)}}),v.children.inorderTraversal((D,k)=>{const P=!t.serverCache.isCompleteForChild(D)&&null===k.value;if(!w.hasChild(D)&&!P){const j=PL(0,t.serverCache.getNode().getImmediateChild(D),k);p=JS(n,p,new Fn(D),j,r,s,u,h)}}),p}class Tq{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new cR(i.getIndex()),s=function HY(n){return n.loadsAllData()?new cR(n.getIndex()):n.hasLimit()?new UY(n):new Pb(n)}(i);this.processor_=function vq(n){return{filter:n}}(s);const u=e.serverCache,h=e.eventCache,p=r.updateFullNode(Wt.EMPTY_NODE,u.getNode(),null),v=s.updateFullNode(Wt.EMPTY_NODE,h.getNode(),null),w=new Zh(p,u.isFullyInitialized(),r.filtersNodes()),D=new Zh(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=$S(D,w),this.eventGenerator_=new QY(this.query_)}get query(){return this.query_}}function Mq(n,t){const e=Qp(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!sn(t)&&!e.getImmediateChild(on(t)).isEmpty())?e.getChild(t):null}function NL(n){return 0===n.eventRegistrations_.length}function FL(n,t,e){const i=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(e,r);u&&i.push(u)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function LL(n,t,e,i){t.type===ol.MERGE&&null!==t.source.queryId&&((0,B.hu)(Qp(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(WS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function bq(n,t,e,i,r){const s=new gq;let u,h;if(e.type===ol.OVERWRITE){const v=e;v.source.fromUser?u=SR(n,t,v.path,v.snap,i,r,s):((0,B.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered()&&!sn(v.path),u=JS(n,t,v.path,v.snap,i,r,h,s))}else if(e.type===ol.MERGE){const v=e;v.source.fromUser?u=function wq(n,t,e,i,r,s,u){let h=t;return i.foreach((p,v)=>{const w=Ni(e,p);OL(t,on(w))&&(h=SR(n,h,w,v,r,s,u))}),i.foreach((p,v)=>{const w=Ni(e,p);OL(t,on(w))||(h=SR(n,h,w,v,r,s,u))}),h}(n,t,v.path,v.children,i,r,s):((0,B.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered(),u=DR(n,t,v.path,v.children,i,r,h,s))}else if(e.type===ol.ACK_USER_WRITE){const v=e;u=v.revert?function Dq(n,t,e,i,r,s){let u;if(null!=QS(i,e))return t;{const h=new ER(i,t,r),p=t.eventCache.getNode();let v;if(sn(e)||".priority"===on(e)){let w;if(t.serverCache.isFullyInitialized())w=ZS(i,Qp(t));else{const D=t.serverCache.getNode();(0,B.hu)(D instanceof Wt,"serverChildren would be complete if leaf node"),w=CR(i,D)}v=n.filter.updateFullNode(p,w,s)}else{const w=on(e);let D=wR(i,w,t.serverCache);null==D&&t.serverCache.isCompleteForChild(w)&&(D=p.getImmediateChild(w)),v=null!=D?n.filter.updateChild(p,w,D,oi(e),h,s):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,Wt.EMPTY_NODE,oi(e),h,s):p,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=ZS(i,Qp(t)),u.isLeafNode()&&(v=n.filter.updateFullNode(v,u,s)))}return u=t.serverCache.isFullyInitialized()||null!=QS(i,kn()),Lb(t,v,u,n.filter.filtersNodes())}}(n,t,v.path,i,r,s):function Eq(n,t,e,i,r,s,u){if(null!=QS(r,e))return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(sn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return JS(n,t,e,p.getNode().getChild(e),r,s,h,u);if(sn(e)){let v=new gi(null);return p.getNode().forEachChild(hu,(w,D)=>{v=v.set(new Fn(w),D)}),DR(n,t,e,v,r,s,h,u)}return t}{let v=new gi(null);return i.foreach((w,D)=>{const k=Ni(e,w);p.isCompleteForPath(k)&&(v=v.set(w,p.getNode().getChild(k)))}),DR(n,t,e,v,r,s,h,u)}}(n,t,v.path,v.affectedTree,i,r,s)}else{if(e.type!==ol.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);u=function Sq(n,t,e,i,r){const s=t.serverCache;return xL(n,wL(t,s.getNode(),s.isFullyInitialized()||sn(e),s.isFiltered()),e,i,RL,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function Cq(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=WS(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(vL(WS(t)))}}(t,u,p),{viewCache:u,changes:p}}(n.processor_,r,t,e,i);return function yq(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,B.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,BL(n,s.changes,s.viewCache.eventCache.getNode(),null)}function BL(n,t,e,i){return function JY(n,t,e,i){const r=[],s=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function BY(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),Fb(n,r,"child_removed",t,i,e),Fb(n,r,"child_added",t,i,e),Fb(n,r,"child_moved",s,i,e),Fb(n,r,"child_changed",t,i,e),Fb(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let XS,tD;class UL{constructor(){this.views=new Map}}function TR(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,B.hu)(null!=s,"SyncTree gave us an op for an invalid query."),LL(s,t,e,i)}{let s=[];for(const u of n.views.values())s=s.concat(LL(u,t,e,i));return s}}function HL(n,t,e,i,r){const u=n.views.get(t._queryIdentifier);if(!u){let h=ZS(e,r?i:null),p=!1;h?p=!0:i instanceof Wt?(h=CR(e,i),p=!1):(h=Wt.EMPTY_NODE,p=!1);const v=$S(new Zh(h,p,!1),new Zh(i,r,!1));return new Tq(t,v)}return u}function VL(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Jh(n,t){let e=null;for(const i of n.views.values())e=e||Mq(i,t);return e}function jL(n,t){return t._queryParams.loadsAllData()?eD(n):n.views.get(t._queryIdentifier)}function GL(n,t){return null!=jL(n,t)}function Xh(n){return null!=eD(n)}function eD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Uq=1;class zL{constructor(t){this.listenProvider_=t,this.syncPointTree_=new gi(null),this.pendingWriteTree_=function pq(){return{visibleWrites:Xl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IR(n,t,e,i,r){return function nq(n,t,e,i,r){(0,B.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Bb(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?h_(n,new Zp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ef(n,t,e=!1){const i=function rq(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function oq(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=e&&sq(h,i.path)?r=!1:rl(i.path,h.path)&&(s=!0)),u--}return!!r&&(s?(function aq(n){n.visibleWrites=TL(n.allWrites,lq,kn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=EL(n.visibleWrites,i.path):Wr(i.children,p=>{n.visibleWrites=EL(n.visibleWrites,Ni(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new gi(null);return null!=i.snap?s=s.set(kn(),!0):Wr(i.children,u=>{s=s.set(new Fn(u),!0)}),h_(n,new qS(i.path,s,e))}return[]}function Ub(n,t,e){return h_(n,new Zp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function nD(n,t,e,i,r=!1){const s=t._path,u=n.syncPointTree_.get(s);let h=[];if(u&&("default"===t._queryIdentifier||GL(u,t))){const p=function Fq(n,t,e,i){const r=t._queryIdentifier,s=[];let u=[];const h=Xh(n);if("default"===r)for(const[p,v]of n.views.entries())u=u.concat(FL(v,e,i)),NL(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(u=u.concat(FL(p,e,i)),NL(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!Xh(n)&&s.push(new(function Oq(){return(0,B.hu)(XS,"Reference.ts has not been loaded"),XS}())(t._repo,t._path)),{removed:s,events:u}}(u,t,e,i);(function Pq(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=p.removed;if(h=p.events,!r){const w=-1!==v.findIndex(k=>k._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(k,P)=>Xh(P));if(w&&!D){const k=n.syncPointTree_.subtree(s);if(!k.isEmpty()){const P=function qq(n){return n.fold((t,e,i)=>{if(e&&Xh(e))return[eD(e)];{let r=[];return e&&(r=VL(e)),Wr(i,(s,u)=>{r=r.concat(u)}),r}})}(k);for(let U=0;U<P.length;++U){const j=P[U],ae=j.query,Ee=WL(n,j);n.listenProvider_.startListening(Vb(ae),Hb(n,ae),Ee.hashFn,Ee.onComplete)}}}!D&&v.length>0&&!i&&(w?n.listenProvider_.stopListening(Vb(t),null):v.forEach(k=>{const P=n.queryToTagMap.get(rD(k));n.listenProvider_.stopListening(Vb(k),P)}))}!function $q(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=rD(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function YL(n,t,e,i){const r=MR(n,i);if(null!=r){const s=kR(r),u=s.path,h=s.queryId,p=Xo(u,t);return RR(n,u,new Zp(gR(h),p,e))}return[]}function AR(n,t,e,i=!1){const r=t._path;let s=null,u=!1;n.syncPointTree_.foreachOnPath(r,(k,P)=>{const U=Xo(k,r);s=s||Jh(P,U),u=u||Xh(P)});let p,h=n.syncPointTree_.get(r);h?(u=u||Xh(h),s=s||Jh(h,kn())):(h=new UL,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?p=!0:(p=!1,s=Wt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,U)=>{const j=Jh(U,kn());j&&(s=s.updateImmediateChild(P,j))}));const v=GL(h,t);if(!v&&!t._queryParams.loadsAllData()){const k=rD(t);(0,B.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const P=function Wq(){return Uq++}();n.queryToTagMap.set(k,P),n.tagToQueryMap.set(P,k)}let D=function Nq(n,t,e,i,r,s){const u=HL(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function kq(n,t){n.eventRegistrations_.push(t)}(u,e),function Rq(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(mi,(s,u)=>{i.push(l_(s,u))}),e.isFullyInitialized()&&i.push(vL(e.getNode())),BL(n,i,e.getNode(),t)}(u,e)}(h,t,e,KS(n.pendingWriteTree_,r),s,p);if(!v&&!u&&!i){const k=jL(h,t);D=D.concat(function Kq(n,t,e){const i=t._path,r=Hb(n,t),s=WL(n,e),u=n.listenProvider_.startListening(Vb(t),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,B.hu)(!Xh(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((v,w,D)=>{if(!sn(v)&&w&&Xh(w))return[eD(w).query];{let k=[];return w&&(k=k.concat(VL(w).map(P=>P.query))),Wr(D,(P,U)=>{k=k.concat(U)}),k}});for(let v=0;v<p.length;++v){const w=p[v];n.listenProvider_.stopListening(Vb(w),Hb(n,w))}}return u}(n,t,k))}return D}function iD(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(u,h)=>{const v=Jh(h,Xo(u,t));if(v)return v});return IL(r,t,s,e,!0)}function h_(n,t){return qL(t,n.syncPointTree_,null,KS(n.pendingWriteTree_,kn()))}function qL(n,t,e,i){if(sn(n.path))return $L(n,t,e,i);{const r=t.get(kn());null==e&&null!=r&&(e=Jh(r,kn()));let s=[];const u=on(n.path),h=n.operationForChild(u),p=t.children.get(u);if(p&&h){const v=e?e.getImmediateChild(u):null,w=ML(i,u);s=s.concat(qL(h,p,v,w))}return r&&(s=s.concat(TR(r,n,i,e))),s}}function $L(n,t,e,i){const r=t.get(kn());null==e&&null!=r&&(e=Jh(r,kn()));let s=[];return t.children.inorderTraversal((u,h)=>{const p=e?e.getImmediateChild(u):null,v=ML(i,u),w=n.operationForChild(u);w&&(s=s.concat($L(w,h,p,v)))}),r&&(s=s.concat(TR(r,n,i,e))),s}function WL(n,t){const e=t.query,i=Hb(n,e);return{hashFn:()=>(function Iq(n){return n.viewCache_.serverCache.getNode()}(t)||Wt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Gq(n,t,e){const i=MR(n,e);if(i){const r=kR(i),s=r.path,u=r.queryId,h=Xo(s,t);return RR(n,s,new Nb(gR(u),h))}return[]}(n,e._path,i):function jq(n,t){return h_(n,new Nb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function j4(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return nD(n,e,null,s)}}}}function Hb(n,t){const e=rD(t);return n.queryToTagMap.get(e)}function rD(n){return n._path.toString()+"$"+n._queryIdentifier}function MR(n,t){return n.tagToQueryMap.get(t)}function kR(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Fn(n.substr(0,t))}}function RR(n,t,e){const i=n.syncPointTree_.get(t);return(0,B.hu)(i,"Missing sync point for query tag that we're tracking"),TR(i,e,KS(n.pendingWriteTree_,t),null)}function Vb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Bq(){return(0,B.hu)(tD,"Reference.ts has not been loaded"),tD}())(n._repo,n._path):n}class xR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new xR(e)}node(){return this.node_}}class OR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ni(this.path_,t);return new OR(this.syncTree_,e)}node(){return iD(this.syncTree_,this.path_)}}const KL=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Qq(n[".sv"],t,e):"object"==typeof n[".sv"]?Jq(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Qq=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,B.hu)(!1,"Unexpected server value: "+n)},Jq=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,B.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,B.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},ZL=function(n,t,e,i){return NR(t,new OR(e,n),i)},PR=function(n,t,e){return NR(n,new xR(t),e)};function NR(n,t,e){const i=n.getPriority().val(),r=KL(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const u=n,h=KL(u.getValue(),t,e);return h!==u.getValue()||r!==u.getPriority().val()?new o_(h,zi(r)):n}{const u=n;return s=u,r!==u.getPriority().val()&&(s=s.updatePriority(new o_(r))),u.forEachChild(mi,(h,p)=>{const v=NR(p,t.getImmediateChild(h),e);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}class FR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function oD(n,t){let e=t instanceof Fn?t:new Fn(t),i=n,r=on(e);for(;null!==r;){const s=(0,B.DV)(i.node.children,r)||{children:{},childCount:0};i=new FR(r,i,s),e=oi(e),r=on(e)}return i}function Xp(n){return n.node.value}function LR(n,t){n.node.value=t,BR(n)}function QL(n){return n.node.childCount>0}function sD(n,t){Wr(n.node.children,(e,i)=>{t(new FR(e,n,i))})}function JL(n,t,e,i){e&&!i&&t(n),sD(n,r=>{JL(r,t,!0,i)}),e&&i&&t(n)}function jb(n){return new Fn(null===n.parent?n.name:jb(n.parent)+"/"+n.name)}function BR(n){null!==n.parent&&function t$(n,t,e){const i=function Xq(n){return void 0===Xp(n)&&!QL(n)}(e),r=(0,B.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,BR(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,BR(n))}(n.parent,n.name,n)}const n$=/[\[\].#$\/\u0000-\u001F\u007F]/,i$=/[\[\].#$\u0000-\u001F\u007F]/,UR=10485760,aD=function(n){return"string"==typeof n&&0!==n.length&&!n$.test(n)},XL=function(n){return"string"==typeof n&&0!==n.length&&!i$.test(n)},Gb=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!OS(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},fu=function(n,t,e,i){i&&void 0===t||zb((0,B.gK)(n,"value"),t,e)},zb=function(n,t,e){const i=e instanceof Fn?new yY(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Wp(i));if("function"==typeof t)throw new Error(n+"contains a function "+Wp(i)+" with contents = "+t.toString());if(OS(t))throw new Error(n+"contains "+t.toString()+" "+Wp(i));if("string"==typeof t&&t.length>UR/3&&(0,B.ug)(t)>UR)throw new Error(n+"contains a string greater than "+UR+" utf8 bytes "+Wp(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Wr(t,(u,h)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!aD(u)))throw new Error(n+" contains an invalid key ("+u+") "+Wp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bY(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),oL(n)})(i,u),zb(n,h,i),function CY(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Wp(i)+" in addition to actual children.")}},eB=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Wr(t,(u,h)=>{const p=new Fn(u);if(zb(r,h,Ni(e,p)),".priority"===eR(p)&&!Gb(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=Ab(i);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!aD(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(vY);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&rl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},HR=function(n,t,e){if(!e||void 0!==t){if(OS(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gb(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yb=function(n,t,e,i){if(!(i&&void 0===e||aD(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qb=function(n,t,e,i){if(!(i&&void 0===e||XL(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sl=function(n,t){if(".info"===on(t))throw new Error(n+" failed = Can't modify data under /.info/")},tB=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!aD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XL(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class a${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lD(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!tR(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function nB(n,t,e){lD(n,e),iB(n,i=>tR(i,t))}function ua(n,t,e){lD(n,e),iB(n,i=>rl(i,t)||rl(t,i))}function iB(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(l$(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function l$(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();qp&&$r("event: "+e.toString()),i_(i)}}}const rB="repo_interrupt";class u${constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new a$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=YS(),this.transactionQueueTree_=new FR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oB(n){const e=n.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function $b(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:oB(n)})}function sB(n,t,e,i,r){n.dataUpdateCount++;const s=new Fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(r)if(i){const p=(0,B.UI)(e,v=>zi(v));u=function zq(n,t,e,i){const r=MR(n,i);if(r){const s=kR(r),u=s.path,h=s.queryId,p=Xo(u,t),v=gi.fromObject(e);return RR(n,u,new u_(gR(h),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=zi(e);u=YL(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,B.UI)(e,v=>zi(v));u=function Vq(n,t,e){const i=gi.fromObject(e);return h_(n,new u_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=zi(e);u=Ub(n.serverSyncTree_,s,p)}let h=s;u.length>0&&(h=p_(n,s)),ua(n.eventQueue_,h,u)}function aB(n,t){VR(n,"connected",t),!1===t&&function m$(n){f_(n,"onDisconnectEvents");const t=$b(n),e=YS();fR(n.onDisconnect_,kn(),(r,s)=>{const u=ZL(r,s,n.serverSyncTree_,t);c_(e,r,u)});let i=[];fR(e,kn(),(r,s)=>{i=i.concat(Ub(n.serverSyncTree_,r,s));const u=YR(n,r);p_(n,u)}),n.onDisconnect_=YS(),ua(n.eventQueue_,kn(),i)}(n)}function VR(n,t,e){const i=new Fn("/.info/"+t),r=zi(e);n.infoData_.updateSnapshot(i,r);const s=Ub(n.infoSyncTree_,i,r);ua(n.eventQueue_,i,s)}function cD(n){return n.nextWriteId_++}function jR(n,t,e,i,r){f_(n,"set",{path:t.toString(),value:e,priority:i});const s=$b(n),u=zi(e,i),h=iD(n.serverSyncTree_,t),p=PR(u,h,s),v=cD(n),w=IR(n.serverSyncTree_,t,p,v,!0);lD(n.eventQueue_,w),n.server_.put(t.toString(),u.val(!0),(k,P)=>{const U="ok"===k;U||ko("set at "+t+" failed: "+k);const j=ef(n.serverSyncTree_,v,!U);ua(n.eventQueue_,t,j),tf(0,r,k,P)});const D=YR(n,t);p_(n,D),ua(n.eventQueue_,D,[])}function g$(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&hR(n.onDisconnect_,t),tf(0,e,i,r)})}function lB(n,t,e,i){const r=zi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,u)=>{"ok"===s&&c_(n.onDisconnect_,t,r),tf(0,i,s,u)})}function GR(n,t,e){let i;i=".info"===on(t._path)?nD(n.infoSyncTree_,t,e):nD(n.serverSyncTree_,t,e),nB(n.eventQueue_,t._path,i)}function cB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(rB)}function f_(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),$r(e,...t)}function tf(n,t,e,i){t&&i_(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const u=new Error(s);u.code=r,t(u)}})}function zR(n,t,e){return iD(n.serverSyncTree_,t,e)||Wt.EMPTY_NODE}function uD(n,t=n.transactionQueueTree_){if(t||dD(n,t),Xp(t)){const e=dB(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function w$(n,t,e){const i=e.map(v=>v.currentWriteId),r=zR(n,t,i);let s=r;const u=r.hash();for(let v=0;v<e.length;v++){const w=e[v];(0,B.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const D=Xo(t,w.path);s=s.updateChild(D,w.currentOutputSnapshotRaw)}const h=s.val(!0),p=t;n.server_.put(p.toString(),h,v=>{f_(n,"transaction put response",{path:p.toString(),status:v});let w=[];if("ok"===v){const D=[];for(let k=0;k<e.length;k++)e[k].status=2,w=w.concat(ef(n.serverSyncTree_,e[k].currentWriteId)),e[k].onComplete&&D.push(()=>e[k].onComplete(null,!0,e[k].currentOutputSnapshotResolved)),e[k].unwatcher();dD(n,oD(n.transactionQueueTree_,t)),uD(n,n.transactionQueueTree_),ua(n.eventQueue_,t,w);for(let k=0;k<D.length;k++)i_(D[k])}else{if("datastale"===v)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{ko("transaction at "+p.toString()+" failed: "+v);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=v}p_(n,t)}},u)}(n,jb(t),e)}else QL(t)&&sD(t,e=>{uD(n,e)})}function p_(n,t){const e=uB(n,t),i=jb(e);return function E$(n,t,e){if(0===t.length)return;const i=[];let r=[];const u=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],v=Xo(e,p.path);let D,w=!1;if((0,B.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,D=p.abortReason,r=r.concat(ef(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,D="maxretry",r=r.concat(ef(n.serverSyncTree_,p.currentWriteId,!0));else{const k=zR(n,p.path,u);p.currentInputSnapshot=k;const P=t[h].update(k.val());if(void 0!==P){zb("transaction failed: Data returned ",P,p.path);let U=zi(P);"object"==typeof P&&null!=P&&(0,B.r3)(P,".priority")||(U=U.updatePriority(k.getPriority()));const ae=p.currentWriteId,Ee=$b(n),Ve=PR(U,k,Ee);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=Ve,p.currentWriteId=cD(n),u.splice(u.indexOf(ae),1),r=r.concat(IR(n.serverSyncTree_,p.path,Ve,p.currentWriteId,p.applyLocally)),r=r.concat(ef(n.serverSyncTree_,ae,!0))}else w=!0,D="nodata",r=r.concat(ef(n.serverSyncTree_,p.currentWriteId,!0))}ua(n.eventQueue_,e,r),r=[],w&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===D?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(D),!1,null)))}dD(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)i_(i[h]);uD(n,n.transactionQueueTree_)}(n,dB(n,e),i),i}function uB(n,t){let e,i=n.transactionQueueTree_;for(e=on(t);null!==e&&void 0===Xp(i);)i=oD(i,e),e=on(t=oi(t));return i}function dB(n,t){const e=[];return hB(n,t,e),e.sort((i,r)=>i.order-r.order),e}function hB(n,t,e){const i=Xp(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);sD(t,r=>{hB(n,r,e)})}function dD(n,t){const e=Xp(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,LR(t,e.length>0?e:void 0)}sD(t,i=>{dD(n,i)})}function YR(n,t){const e=jb(uB(n,t)),i=oD(n.transactionQueueTree_,t);return function e$(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{qR(n,r)}),qR(n,i),JL(i,r=>{qR(n,r)}),e}function qR(n,t){const e=Xp(t);if(e){const i=[];let r=[],s=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,B.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,e[u].status=3,e[u].abortReason="set"):((0,B.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),r=r.concat(ef(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?LR(t,void 0):e.length=s+1,ua(n.eventQueue_,jb(t),r);for(let u=0;u<i.length;u++)i_(i[u])}}const $R=function(n,t){const e=T$(n),i=e.namespace;return"firebase.com"===e.domain&&uu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&uu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ko("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Fn(e.pathString)}},T$=function(n){let t="",e="",i="",r="",s="",u=!0,h="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let w=n.indexOf("/");-1===w&&(w=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(w,D)),w<D&&(r=function S$(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,D)));const k=function D$(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ko(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));v=t.indexOf(":"),v>=0?(u="https"===h||"wss"===h,p=parseInt(t.substring(v+1),10)):v=t.length;const P=t.slice(0,v);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const U=t.indexOf(".");i=t.substring(0,U).toLowerCase(),e=t.substring(U+1),s=i}"ns"in k&&(s=k.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:u,scheme:h,pathString:r,namespace:s}};class fB{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Pz)(this.snapshot.exportVal())}}class pB{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class WR{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class mB{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return g$(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){sl("OnDisconnect.remove",this._path);const t=new B.BH;return lB(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){sl("OnDisconnect.set",this._path),fu("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return lB(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){sl("OnDisconnect.setWithPriority",this._path),fu("OnDisconnect.setWithPriority",t,this._path,!1),HR("OnDisconnect.setWithPriority",e,!1);const i=new B.BH;return function _$(n,t,e,i,r){const s=zi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(u,h)=>{"ok"===u&&c_(n.onDisconnect_,t,s),tf(0,r,u,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){sl("OnDisconnect.update",this._path),eB("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function v$(n,t,e,i){if((0,B.xb)(e))return $r("onDisconnect().update() called with empty data.  Don't do anything."),void tf(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Wr(e,(u,h)=>{const p=zi(h);c_(n.onDisconnect_,Ni(t,u),p)}),tf(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ts{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return sn(this._path)?null:eR(this._path)}get ref(){return new al(this._repo,this._path)}get _queryIdentifier(){const t=bL(this._queryParams),e=Yk(t);return"{}"===e?"default":e}get _queryObject(){return bL(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof Ts))return!1;const e=this._repo===t._repo,i=tR(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _Y(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function hD(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nf(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===hu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Sd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==du)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===mi){if(null!=t&&!Gb(t)||null!=e&&!Gb(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof sR||n.getIndex()===aR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class al extends Ts{constructor(t,e){super(t,e,new jS,!1)}get parent(){const t=rL(this._path);return null===t?null:new al(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class em{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Fn(t),i=tm(this.ref,t);return new em(this._node.getChild(e),i,mi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new em(r,tm(this.ref,i),mi)))}hasChild(t){const e=new Fn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gB(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?tm(n._root,t):n._root}function _B(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=$R(t,n._repo.repoInfo_.nodeAdmin);tB("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&uu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),gB(n,e.path.toString())}function tm(n,t){return null===on((n=(0,B.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qb("child","path",e,!1)):qb("child","path",t,!1),new al(n._repo,Ni(n._path,t));var e}function KR(n,t){n=(0,B.m9)(n),sl("set",n._path),fu("set",t,n._path,!1);const e=new B.BH;return jR(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function R$(n,t){eB("update",t,n._path,!1);const e=new B.BH;return function p$(n,t,e,i){f_(n,"update",{path:t.toString(),value:e});let r=!0;const s=$b(n),u={};if(Wr(e,(h,p)=>{r=!1,u[h]=ZL(Ni(t,h),zi(p),n.serverSyncTree_,s)}),r)$r("update() called with empty data.  Don't do anything."),tf(0,i,"ok",void 0);else{const h=cD(n),p=function Hq(n,t,e,i){!function iq(n,t,e,i){(0,B.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=vR(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=gi.fromObject(e);return h_(n,new u_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,u,h);lD(n.eventQueue_,p),n.server_.merge(t.toString(),e,(v,w)=>{const D="ok"===v;D||ko("update at "+t+" failed: "+v);const k=ef(n.serverSyncTree_,h,!D),P=k.length>0?p_(n,t):t;ua(n.eventQueue_,P,k),tf(0,i,v,w)}),Wr(e,v=>{const w=YR(n,Ni(t,v));p_(n,w)}),ua(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function x$(n){n=(0,B.m9)(n);const t=new WR(()=>{}),e=new Wb(t);return function f$(n,t,e){const i=function Yq(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,w)=>{const D=Xo(v,e);i=i||Jh(w,D)});let r=n.syncPointTree_.get(e);r?i=i||Jh(r,kn()):(r=new UL,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,u=s?new Zh(i,!0,!1):null;return function Aq(n){return WS(n.viewCache_)}(HL(r,t,KS(n.pendingWriteTree_,t._path),s?u.getNode():Wt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=zi(r).withIndex(t._queryParams.getIndex());let u;if(AR(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())u=Ub(n.serverSyncTree_,t._path,s);else{const h=Hb(n.serverSyncTree_,t);u=YL(n.serverSyncTree_,t._path,s,h)}return ua(n.eventQueue_,t._path,u),nD(n.serverSyncTree_,t,e,null,!0),s},r=>(f_(n,"get for query "+(0,B.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new em(i,new al(n._repo,n._path),n._queryParams.getIndex()))}class Wb{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new fB("value",this,new em(t.snapshotNode,new al(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new pB(this,t,e):null}matches(t){return t instanceof Wb&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class pD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new pB(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const i=tm(new al(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new fB(t.type,this,new em(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof pD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Kb(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,v=(w,D)=>{GR(n._repo,n,h),p(w,D)};v.userCallback=e.userCallback,v.context=e.context,e=v}const u=new WR(e,s||void 0),h="value"===t?new Wb(u):new pD(t,u);return function y$(n,t,e){let i;i=".info"===on(t._path)?AR(n.infoSyncTree_,t,e):AR(n.serverSyncTree_,t,e),nB(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>GR(n._repo,n,h)}function ZR(n,t,e,i){return Kb(n,"value",t,e,i)}function vB(n,t,e,i){return Kb(n,"child_added",t,e,i)}function yB(n,t,e,i){return Kb(n,"child_changed",t,e,i)}function bB(n,t,e,i){return Kb(n,"child_moved",t,e,i)}function CB(n,t,e,i){return Kb(n,"child_removed",t,e,i)}function wB(n,t,e){let i=null;const r=e?new WR(e):null;"value"===t?i=new Wb(r):t&&(i=new pD(t,r)),GR(n._repo,n,i)}class ec{}class EB extends ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fu("endAt",this._value,t._path,!0);const e=dR(t._queryParams,this._value,this._key);if(fD(e),nf(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ts(t._repo,t._path,e,t._orderByCalled)}}class P$ extends ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fu("endBefore",this._value,t._path,!1);const e=function zY(n,t,e){let i,r;return n.index_===hu?("string"==typeof t&&(t=_L(t)),r=dR(n,t,e)):(i=null==e?Sd:_L(e),r=dR(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(fD(e),nf(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ts(t._repo,t._path,e,t._orderByCalled)}}class SB extends ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fu("startAt",this._value,t._path,!0);const e=uR(t._queryParams,this._value,this._key);if(fD(e),nf(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ts(t._repo,t._path,e,t._orderByCalled)}}class L$ extends ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fu("startAfter",this._value,t._path,!1);const e=function GY(n,t,e){let i;if(n.index_===hu)"string"==typeof t&&(t=gL(t)),i=uR(n,t,e);else{let r;r=null==e?du:gL(e),i=uR(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(fD(e),nf(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ts(t._repo,t._path,e,t._orderByCalled)}}class U$ extends ec{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ts(t._repo,t._path,function VY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class V$ extends ec{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ts(t._repo,t._path,function jY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class G$ extends ec{constructor(t){super(),this._path=t}_apply(t){hD(t,"orderByChild");const e=new Fn(this._path);if(sn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new sR(e),r=GS(t._queryParams,i);return nf(r),new Ts(t._repo,t._path,r,!0)}}class Y$ extends ec{_apply(t){hD(t,"orderByKey");const e=GS(t._queryParams,hu);return nf(e),new Ts(t._repo,t._path,e,!0)}}class $$ extends ec{_apply(t){hD(t,"orderByPriority");const e=GS(t._queryParams,mi);return nf(e),new Ts(t._repo,t._path,e,!0)}}class K$ extends ec{_apply(t){hD(t,"orderByValue");const e=GS(t._queryParams,aR);return nf(e),new Ts(t._repo,t._path,e,!0)}}class Q$ extends ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(fu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new EB(this._value,this._key)._apply(new SB(this._value,this._key)._apply(t))}}function tc(n,...t){let e=(0,B.m9)(n);for(const i of t)e=i._apply(e);return e}(function xq(n){(0,B.hu)(!XS,"__referenceConstructor has already been defined"),XS=n})(al),function Lq(n){(0,B.hu)(!tD,"__referenceConstructor has already been defined"),tD=n}(al);const QR={};function TB(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||uu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$r("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,u=$R(s,r),h=u.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${h.namespace}`,u=$R(s,r),h=u.repoInfo):p=!u.repoInfo.secure;const w=r&&p?new Ib(Ib.OWNER):new q4(n.name,n.options,t);tB("Invalid Firebase Database URL",u),sn(u.path)||uu("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function nW(n,t,e,i){let r=QR[t.name];r||(r={},QR[t.name]=r);let s=r[n.toURLString()];return s&&uu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new u$(n,false,e,i),r[n.toURLString()]=s,s}(h,n,w,new Y4(n.name,e));return new rW(D,n)}class rW{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function d$(n,t,e){if(n.stats_=Qk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new zS(n.repoInfo_,(i,r,s,u)=>{sB(n,i,r,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>aB(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Kp(n.repoInfo_,t,(i,r,s,u)=>{sB(n,i,r,s,u)},i=>{aB(n,i)},i=>{!function h$(n,t){Wr(t,(e,i)=>{VR(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function K4(n,t){const e=n.toString();return Zk[e]||(Zk[e]=t()),Zk[e]}(n.repoInfo_,()=>new ZY(n.stats_,n.server_)),n.infoData_=new YY,n.infoSyncTree_=new zL({startListening:(i,r,s,u)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=Ub(n.infoSyncTree_,i._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),VR(n,"connected",!1),n.serverSyncTree_=new zL({startListening:(i,r,s,u)=>(n.server_.listen(i,s,r,(h,p)=>{const v=u(h,p);ua(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new al(this._repo,kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tW(n,t){const e=QR[t];(!e||e[n.key]!==n)&&uu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),cB(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&uu("Cannot call "+t+" on a deleted database.")}}function IB(){q1.IS_TRANSPORT_INITIALIZED&&ko("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function oW(){IB(),Wh.forceDisallow()}function sW(){IB(),r_.forceDisallow(),Wh.forceAllow()}function uW(n,t){T1(n,t)}const hW={".sv":"timestamp"};class mW{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Kp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Kp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function dW(n){C1(Kl.SDK_VERSION),(0,Kl._registerComponent)(new Cd.wA("database",(t,{instanceIdentifier:e})=>TB(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Kl.registerVersion)(y1,"0.13.5",n),(0,Kl.registerVersion)(y1,"0.13.5","esm2017")}();const yW=new Y0.Yd("@firebase/database-compat"),AB=function(n){yW.warn("FIREBASE WARNING: "+n)};class wW{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,AB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class EW{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class rf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),qb("DataSnapshot.child","path",t,!1),new rf(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),qb("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new rf(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new da(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const u=fo.getCancelAndContextArgs_("Query.on",i,r),h=(v,w)=>{e.call(u.context,new rf(this.database,v),w)};h.userCallback=e,h.context=u.context;const p=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(t){case"value":return ZR(this._delegate,h,p),e;case"child_added":return vB(this._delegate,h,p),e;case"child_removed":return CB(this._delegate,h,p),e;case"child_changed":return yB(this._delegate,h,p),e;case"child_moved":return bB(this._delegate,h,p),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,wB(this._delegate,t,r)}else wB(this._delegate,t)}get(){return x$(this._delegate).then(t=>new rf(this.database,t))}once(t,e,i,r){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const s=fo.getCancelAndContextArgs_("Query.once",i,r),u=new B.BH,h=(v,w)=>{const D=new rf(this.database,v);e&&e.call(s.context,D,w),u.resolve(D)};h.userCallback=e,h.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),u.reject(v)};switch(t){case"value":ZR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":vB(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":CB(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":yB(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":bB(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new fo(this.database,tc(this._delegate,function H$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new U$(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new fo(this.database,tc(this._delegate,function j$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new V$(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new fo(this.database,tc(this._delegate,function z$(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qb("orderByChild","path",n,!1),new G$(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new fo(this.database,tc(this._delegate,function q$(){return new Y$}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new fo(this.database,tc(this._delegate,function W$(){return new $$}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new fo(this.database,tc(this._delegate,function Z$(){return new K$}()))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new fo(this.database,tc(this._delegate,function F$(n=null,t){return Yb("startAt","key",t,!0),new SB(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new fo(this.database,tc(this._delegate,function B$(n,t){return Yb("startAfter","key",t,!0),new L$(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new fo(this.database,tc(this._delegate,function O$(n,t){return Yb("endAt","key",t,!0),new EB(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new fo(this.database,tc(this._delegate,function N$(n,t){return Yb("endBefore","key",t,!0),new P$(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new fo(this.database,tc(this._delegate,function J$(n,t){return Yb("equalTo","key",t,!0),new Q$(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof fo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,B.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,B.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new da(this.database,new al(this._delegate._repo,this._delegate._path))}}class da extends fo{constructor(t,e){super(t,new Ts(e._repo,e._path,new jS,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new da(this.database,tm(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new da(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new da(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const i=KR(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,AB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sl("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const i=R$(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function k$(n,t,e){if(sl("setWithPriority",n._path),fu("setWithPriority",t,n._path,!1),HR("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new B.BH;return jR(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function A$(n){return sl("remove",n._path),KR(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function gW(n,t,e){var i;if(n=(0,B.m9)(n),sl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new B.BH,h=ZR(n,()=>{});return function C$(n,t,e,i,r,s){f_(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:E1(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=zR(n,t,void 0);u.currentInputSnapshot=h;const p=u.update(h.val());if(void 0===p)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{zb("transaction failed: Data returned ",p,u.path),u.status=0;const v=oD(n.transactionQueueTree_,t),w=Xp(v)||[];let D;w.push(u),LR(v,w),"object"==typeof p&&null!==p&&(0,B.r3)(p,".priority")?(D=(0,B.DV)(p,".priority"),(0,B.hu)(Gb(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(iD(n.serverSyncTree_,t)||Wt.EMPTY_NODE).getPriority().val();const k=$b(n),P=zi(p,D),U=PR(P,h,k);u.currentOutputSnapshotRaw=P,u.currentOutputSnapshotResolved=U,u.currentWriteId=cD(n);const j=IR(n.serverSyncTree_,t,U,u.currentWriteId,u.applyLocally);ua(n.eventQueue_,t,j),uD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,v,w)=>{let D=null;p?s.reject(p):(D=new em(w,new al(n._repo,n._path),mi),s.resolve(new mW(v,D)))},h,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new EW(s.committed,new rf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const i=function M$(n,t){n=(0,B.m9)(n),sl("setPriority",n._path),HR("setPriority",t,!1);const e=new B.BH;return jR(n._repo,Ni(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const i=function I$(n,t){n=(0,B.m9)(n),sl("push",n._path),fu("push",t,n._path,!0);const e=oB(n._repo),i=LY(e),r=tm(n,i),s=tm(n,i);let u;return u=null!=t?KR(s,t).then(()=>s):Promise.resolve(s),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,t),r=i.then(u=>new da(this.database,u));e&&r.then(()=>e(null),u=>e(u));const s=new da(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return sl("Reference.onDisconnect",this._delegate._path),new wW(new mB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Zb{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:oW,forceLongPolling:sW}}useEmulator(t,e,i={}){!function aW(n,t,e,i={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&uu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&uu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ib(Ib.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,B.Sg)(i.mockUserToken,n.app.options.projectId);s=new Ib(u)}!function eW(n,t,e,i){n.repoInfo_=new Wk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof da){const e=_B(this._delegate,t.toString());return new da(this,e)}{const e=gB(this._delegate,t);return new da(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const i=_B(this._delegate,t);return new da(this,i)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function lW(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),cB(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function cW(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function b$(n){n.persistentConnection_&&n.persistentConnection_.resume(rB)}(n._repo)}(this._delegate)}}Zb.ServerValue={TIMESTAMP:function fW(){return hW}(),increment:n=>function pW(n){return{".sv":{increment:n}}}(n)};var DW=Object.freeze({__proto__:null,initStandalone:function SW({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){C1(e);const u=new Cd.zt("auth-internal",new Cd.H0("database-standalone"));return u.setComponent(new Cd.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Zb(TB(n,u,void 0,t,s),n),namespace:r}}});const TW=Zb.ServerValue;!function IW(n){n.INTERNAL.registerComponent(new Cd.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Zb(r,i)},"PUBLIC").setServiceProps({Reference:da,Query:fo,Database:Zb,DataSnapshot:rf,enableLogging:uW,INTERNAL:DW,ServerValue:TW}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.5")}(AP.Z);var mD=F(5363);function MB(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Uk.B)({connector:()=>new If(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kB(n,t){return(0,Ki.m)(t)?Vn(()=>n,t):Vn(()=>n)}var JR=F(9468);const RB=new o.OlP("angularfire2.auth.use-emulator"),xB=new o.OlP("angularfire2.auth.settings"),OB=new o.OlP("angularfire2.auth.tenant-id"),PB=new o.OlP("angularfire2.auth.langugage-code"),NB=new o.OlP("angularfire2.auth.use-device-language"),FB=new o.OlP("angularfire.auth.persistence"),LB=(n,t,e,i,r,s,u,h)=>(0,Ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),u)for(const[v,w]of Object.entries(u))p.settings[v]=w;return h&&p.setPersistence(h),p},[e,i,r,s,u,h]);let BB=(()=>{class n{constructor(e,i,r,s,u,h,p,v,w,D,k,P){const U=new Xe.x,j=Ae(void 0).pipe((0,mD.Q)(u.outsideAngular),Vn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,1451)))),(0,ot.U)(()=>(0,Ao.on)(e,s,i)),(0,ot.U)(ae=>LB(ae,s,h,v,w,D,p,k)),MB({bufferSize:1,refCount:!1}));if(function uf(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ae(null);else{j.pipe(In()).subscribe();const Ee=j.pipe(Vn(tt=>tt.getRedirectResult().then(Xt=>Xt,()=>null)),Yr.iC,MB({bufferSize:1,refCount:!1})),Ve=j.pipe(Vn(tt=>new ui.y(Xt=>({unsubscribe:s.runOutsideAngular(()=>tt.onAuthStateChanged(pn=>Xt.next(pn),pn=>Xt.error(pn),()=>Xt.complete()))})))),Ke=j.pipe(Vn(tt=>new ui.y(Xt=>({unsubscribe:s.runOutsideAngular(()=>tt.onIdTokenChanged(pn=>Xt.next(pn),pn=>Xt.error(pn),()=>Xt.complete()))}))));this.authState=Ee.pipe(kB(Ve),(0,JR.R)(u.outsideAngular),(0,mD.Q)(u.insideAngular)),this.user=Ee.pipe(kB(Ke),(0,JR.R)(u.outsideAngular),(0,mD.Q)(u.insideAngular)),this.idToken=this.user.pipe(Vn(tt=>tt?(0,zt.D)(tt.getIdToken()):Ae(null))),this.idTokenResult=this.user.pipe(Vn(tt=>tt?(0,zt.D)(tt.getIdTokenResult()):Ae(null))),this.credential=(0,Wo.T)(Ee,U,this.authState.pipe(fn(tt=>!tt))).pipe((0,ot.U)(tt=>tt?.user?tt:null),(0,JR.R)(u.outsideAngular),(0,mD.Q)(u.insideAngular))}return(0,Ao.pX)(this,j,s,{spy:{apply:(ae,Ee,Ve)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&Ve.then(Ke=>U.next(Ke))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ao.Dh),o.LFG(Ao.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Yr.HU),o.LFG(RB,8),o.LFG(xB,8),o.LFG(OB,8),o.LFG(PB,8),o.LFG(NB,8),o.LFG(FB,8),o.LFG(X0,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function UB(n){return null==n}function HB(n){return"function"==typeof n.set}function VB(n,t){return HB(t)?t:n.ref(t)}function jB(n,t){if(function MW(n){return"string"==typeof n}(n))return t.stringCase();if(HB(n))return t.firebaseCase();if(function kW(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Qb(n,t,e="on",i=Th.z){return new ui.y(r=>{let s=null;return s=n[e](t,(u,h)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,ot.U)(r=>{const{snapshot:s,prevKey:u}=r;let h=null;return s.exists()&&(h=s.key),{type:t,payload:s,prevKey:u,key:h}}),(0,Uk.B)())}function GB(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function OW(n,t){const{payload:e,prevKey:i,key:r}=t,s=GB(n,r),u=function xW(n,t){if(UB(t))return 0;{const e=GB(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function zB(n){return(UB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function YB(n,t,e){return function RW(n,t,e){return Qb(n,"value","once",e).pipe(Vn(i=>{const r=[Ae(i)];return t.forEach(s=>r.push(Qb(n,s,"on",e))),(0,Wo.T)(...r).pipe(fs(OW,[]))}),rg())}(n,t=zB(t),e)}function qB(n,t,e){const i=(t=zB(t)).map(r=>Qb(n,r,"on",e));return(0,Wo.T)(...i)}function $B(n,t){return function(i,r){return jB(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function LW(n){return function(e){return e?jB(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function WB(n,t){return function(){return Qb(n,"value","on",t)}}const HW=new o.OlP("angularfire2.realtimeDatabaseURL"),VW=new o.OlP("angularfire2.database.use-emulator");let jW=(()=>{class n{constructor(e,i,r,s,u,h,p,v,w,D,k,P,U,j,ae){this.schedulers=h;const Ee=p,Ve=(0,Ao.on)(e,u,i);v&&LB(Ve,u,w,k,P,U,D,j),this.database=(0,Ao.cc)(`${Ve.name}.database.${r}`,"AngularFireDatabase",Ve.name,()=>{const Ke=u.runOutsideAngular(()=>Ve.database(r||void 0));return Ee&&Ke.useEmulator(...Ee),Ke},[Ee])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>VB(this.database,e));let s=r;return i&&(s=i(r)),function BW(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:$B(i,"update"),set:$B(i,"set"),push:r=>i.push(r),remove:LW(i),snapshotChanges:r=>YB(n,r,e).pipe(Yr.iC),stateChanges:r=>qB(n,r,e).pipe(Yr.iC),auditTrail:r=>function PW(n,t,e){return function FW(n,t,e){return function NW(n,t){return Qb(n,"value","on",t).pipe((0,ot.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function O4(...n){const t=(0,Lr.jO)(n);return(0,Wn.e)((e,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Ha.Xf)(n[p]).subscribe((0,Rn.x)(i,v=>{s[p]=v,!h&&!u[p]&&(u[p]=!0,(h=u.every(hs.y))&&(u=null))},ld.Z));e.subscribe((0,Rn.x)(i,p=>{if(h){const v=[p,...s];i.next(t?t(...v):v)}}))})}(t),(0,ot.U)(([r,s])=>{const u=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:u,loadedKeys:h}}),function P4(n){return(0,Wn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Rn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ot.U)(r=>r.actions))}(n,qB(n,t).pipe(fs((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Yr.iC),valueChanges:(r,s)=>YB(n,r,e).pipe((0,ot.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Yr.iC)}}(s,this)}object(e){return function UW(n,t){return{query:n,snapshotChanges:()=>WB(n,t.schedulers.outsideAngular)().pipe(Yr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>WB(n,t.schedulers.outsideAngular)().pipe(Yr.iC,(0,ot.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>VB(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ao.Dh),o.LFG(Ao.xv,8),o.LFG(HW,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Yr.HU),o.LFG(VW,8),o.LFG(BB,8),o.LFG(RB,8),o.LFG(xB,8),o.LFG(OB,8),o.LFG(PB,8),o.LFG(NB,8),o.LFG(FB,8),o.LFG(X0,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KB=(()=>{class n{constructor(){PN.Z.registerVersion("angularfire",Yr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jW]}),n})(),GW=(()=>{class n{}return n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:L0,useValue:{duration:2500}}],imports:[L,vM,v1,d0,Qg,EM,EF,Ng,Ip,qN,QN,bF,xj,ay,f1,Ao.hO,FN,KB]}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:L0,useValue:{duration:2500}}],imports:[ci,L,vM,v1,d0,Qg,EM,EF,Ng,Ip,qN,QN,bF]}),n})();window.navigator.userAgent.indexOf("MSIE")>1||window.navigator.userAgent.indexOf("Trident/");let YW=(()=>{class n{}return n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[yz,wv]}),n.\u0275inj=o.cJS({providers:[{provide:Vd,useClass:Hc,multi:!0},pT,dS],imports:[bn,ci,k4,zW,GW,Uo,sz,vz,lA,ws,Ip,L,vM,h0,Qg,Ao.hO.initializeApp(hS_firebase),KB,FN,mT.forRoot(new bh({auth:{clientId:"63e3ddc8-ed9f-43fb-b9a9-47bbf33c7687",redirectUri:"http://localhost:4200",authority:"https://login.microsoftonline.com/892883b0-47de-49df-b683-d0a83e9bb1fd"},cache:{cacheLocation:"localstorage",storeAuthStateInCookie:!0}}),{interactionType:Qe.Redirect,authRequest:{scopes:["user.read"]}},{interactionType:Qe.Redirect,protectedResourceMap:new Map([["https://graph.microsoft.com/v1.0/me",["user.Read"]]])}),f1]}),n})();(0,o.G48)(),Du().bootstrapModule(YW).catch(n=>console.error(n))},5867:(ht,Ie,F)=>{F.d(Ie,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=F(9681);(0,o.registerVersion)("firebase","9.9.3","app")},127:(ht,Ie,F)=>{F.d(Ie,{Z:()=>o.Z});var o=F(3942);o.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(ht,Ie,F)=>{F.r(Ie);var o=F(5861),re=F(3942),N=F(2090),ue=F(9681),ce=F(655),pe=F(1877),ie=F(4859);const Ce=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},at=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new pe.Yd("@firebase/auth");function dt(y,...m){nt.logLevel<=pe.in.ERROR&&nt.error(`Auth (${ue.SDK_VERSION}): ${y}`,...m)}function Re(y,...m){throw Ye(y,...m)}function _e(y,...m){return Ye(y,...m)}function De(y,m,_){const C=Object.assign(Object.assign({},at()),{[m]:_});return new N.LL("auth","Firebase",C).create(m,{appName:y.name})}function je(y,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Re(y,"argument-error"),De(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(y,...m){if("string"!=typeof y){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(_,...C)}return ye.create(y,...m)}function q(y,m,..._){if(!y)throw Ye(m,..._)}function be(y){const m="INTERNAL ASSERTION FAILED: "+y;throw dt(m),new Error(m)}function X(y,m){y||be(m)}const le=new Map;function se(y){X(y instanceof Function,"Expected a class definition");let m=le.get(y);return m?(X(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,le.set(y,m),m)}function Pe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function yt(){return"http:"===en()||"https:"===en()}function en(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class yn{constructor(m,_){this.shortDelay=m,this.longDelay=_,X(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function si(y,m){X(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class En{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ir=new yn(3e4,6e4);function an(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function Zt(y,m,_,C){return po.apply(this,arguments)}function po(){return(po=(0,o.Z)(function*(y,m,_,C,M={}){return Mr(y,M,(0,o.Z)(function*(){let O={},Q={};C&&("GET"===m?Q=C:O={body:JSON.stringify(C)});const de=(0,N.xO)(Object.assign({key:y.config.apiKey},Q)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),En.fetch()(ts(y,y.config.apiHost,_,de),Object.assign({method:m,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Mr(y,m,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,o.Z)(function*(y,m,_){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},hn),m);try{const M=new vr(y),O=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw Zr(y,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const de=O.ok?Q.errorMessage:Q.error.message,[Le,it]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Zr(y,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Le)throw Zr(y,"email-already-in-use",Q);if("USER_DISABLED"===Le)throw Zr(y,"user-disabled",Q);const At=C[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw De(y,At,it);Re(y,At)}}catch(M){if(M instanceof N.ZR)throw M;Re(y,"network-request-failed")}})).apply(this,arguments)}function _r(y,m,_,C){return mo.apply(this,arguments)}function mo(){return(mo=(0,o.Z)(function*(y,m,_,C,M={}){const O=yield Zt(y,m,_,C,M);return"mfaPendingCredential"in O&&Re(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ts(y,m,_,C){const M=`${m}${_}?${C}`;return y.config.emulator?si(y.config,M):`${y.config.apiScheme}://${M}`}class vr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(_e(this.auth,"network-request-failed")),ir.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zr(y,m,_){const C={appName:y.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=_e(y,m,C);return M.customData._tokenResponse=_,M}function yr(){return(yr=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ai(y,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function go(y,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Qn(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function As(){return(As=(0,o.Z)(function*(y,m=!1){const _=(0,N.m9)(y),C=yield _.getIdToken(m),M=qe(C);q(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Q=O?.sign_in_provider;return{claims:M,token:C,authTime:Qn(tn(M.auth_time)),issuedAtTime:Qn(tn(M.iat)),expirationTime:Qn(tn(M.exp)),signInProvider:Q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(y){return 1e3*Number(y)}function qe(y){var m;const[_,C,M]=y.split(".");if(void 0===_||void 0===C||void 0===M)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,N.tV)(C);return O?JSON.parse(O):(dt("Failed to decode base64 JWT payload"),null)}catch(O){return dt("Caught error parsing JWT payload as JSON",null===(m=O)||void 0===m?void 0:m.toString()),null}}function rr(y,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,o.Z)(function*(y,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof N.ZR&&xt(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function xt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Rr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,o.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Ti{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qr(y){return gn.apply(this,arguments)}function gn(){return(gn=(0,o.Z)(function*(y){var m;const _=y.auth,C=yield y.getIdToken(),M=yield rr(y,go(_,{idToken:C}));q(M?.users.length,_,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const Q=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?V(O.providerUserInfo):[],de=W(y.providerData,Q),At=!!y.isAnonymous&&!(y.email&&O.passwordHash||de?.length),Ct={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:de,metadata:new Ti(O.createdAt,O.lastLoginAt),isAnonymous:At};Object.assign(y,Ct)})).apply(this,arguments)}function G(){return(G=(0,o.Z)(function*(y){const m=(0,N.m9)(y);yield Qr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function W(y,m){return[...y.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function V(y){return y.map(m=>{var{providerId:_}=m,C=(0,ce._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function $(){return($=(0,o.Z)(function*(y,m){const _=yield Mr(y,{},(0,o.Z)(function*(){const C=(0,N.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,Q=ts(y,M,"/v1/token",`key=${O}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",En.fetch()(Q,{method:"POST",headers:de,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){q(m.idToken,"internal-error"),q(typeof m.idToken<"u","internal-error"),q(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Rt(y){const m=qe(y);return q(m,"internal-error"),q(typeof m.exp<"u","internal-error"),q(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,o.Z)(function*(){return q(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,o.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Q}=yield function K(y,m){return $.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,O,Number(Q))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:O}=_,Q=new Me;return C&&(q("string"==typeof C,"internal-error",{appName:m}),Q.refreshToken=C),M&&(q("string"==typeof M,"internal-error",{appName:m}),Q.accessToken=M),O&&(q("number"==typeof O,"internal-error",{appName:m}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return be("not implemented")}}function Ge(y,m){q("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class ft{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,O=(0,ce._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ti(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,o.Z)(function*(){const C=yield rr(_,_.stsTokenManager.getToken(_.auth,m));return q(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function kr(y){return As.apply(this,arguments)}(this,m)}reload(){return function br(y){return G.apply(this,arguments)}(this)}_assign(m){this!==m&&(q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new ft(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,o.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Qr(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,o.Z)(function*(){const _=yield m.getIdToken();return yield rr(m,function wt(y,m){return yr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,O,Q,de,Le,it,At;const Ct=null!==(C=_.displayName)&&void 0!==C?C:void 0,Gi=null!==(M=_.email)&&void 0!==M?M:void 0,so=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,Nl=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,jf=null!==(de=_.tenantId)&&void 0!==de?de:void 0,ps=null!==(Le=_._redirectEventId)&&void 0!==Le?Le:void 0,Pc=null!==(it=_.createdAt)&&void 0!==it?it:void 0,R_=null!==(At=_.lastLoginAt)&&void 0!==At?At:void 0,{uid:Gf,emailVerified:eh,isAnonymous:x_,providerData:Nc,stsTokenManager:za}=_;q(Gf&&za,m,"internal-error");const Yu=Me.fromJSON(this.name,za);q("string"==typeof Gf,m,"internal-error"),Ge(Ct,m.name),Ge(Gi,m.name),q("boolean"==typeof eh,m,"internal-error"),q("boolean"==typeof x_,m,"internal-error"),Ge(so,m.name),Ge(Nl,m.name),Ge(jf,m.name),Ge(ps,m.name),Ge(Pc,m.name),Ge(R_,m.name);const zf=new ft({uid:Gf,auth:m,email:Gi,emailVerified:eh,displayName:Ct,isAnonymous:x_,photoURL:Nl,phoneNumber:so,tenantId:jf,stsTokenManager:Yu,createdAt:Pc,lastLoginAt:R_});return Nc&&Array.isArray(Nc)&&(zf.providerData=Nc.map(O_=>Object.assign({},O_))),ps&&(zf._redirectEventId=ps),zf}static _fromIdTokenResponse(m,_,C=!1){return(0,o.Z)(function*(){const M=new Me;M.updateFromServerResponse(_);const O=new ft({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Qr(O),O})()}}const ln=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,o.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,o.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,o.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return y.type="NONE",y})();function Fi(y,m,_){return`firebase:${y}:${m}:${_}`}class Yt{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:O}=this.auth;this.fullUserKey=Fi(this.userKey,M.apiKey,O),this.fullPersistenceKey=Fi("persistence",M.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?ft._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,o.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,o.Z)(function*(){if(!_.length)return new Yt(se(ln),m,C);const M=(yield Promise.all(_.map(function(){var it=(0,o.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return it.apply(this,arguments)}}()))).filter(it=>it);let O=M[0]||se(ln);const Q=Fi(C,m.config.apiKey,m.name);let de=null;for(const it of _)try{const At=yield it._get(Q);if(At){const Ct=ft._fromJSON(m,At);it!==O&&(de=Ct),O=it;break}}catch{}const Le=M.filter(it=>it._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],de&&(yield O._set(Q,de.toJSON())),yield Promise.all(_.map(function(){var it=(0,o.Z)(function*(At){if(At!==O)try{yield At._remove(Q)}catch{}});return function(At){return it.apply(this,arguments)}}())),new Yt(O,m,C)):new Yt(O,m,C)})()}}function Vt(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(or(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ln(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ot(m))return"Blackberry";if(mn(m))return"Webos";if(vi(m))return"Safari";if((m.includes("chrome/")||qi(m))&&!m.includes("edge/"))return"Chrome";if($e(m))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ln(y=(0,N.z$)()){return/firefox\//i.test(y)}function vi(y=(0,N.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function qi(y=(0,N.z$)()){return/crios\//i.test(y)}function or(y=(0,N.z$)()){return/iemobile/i.test(y)}function $e(y=(0,N.z$)()){return/android/i.test(y)}function Ot(y=(0,N.z$)()){return/blackberry/i.test(y)}function mn(y=(0,N.z$)()){return/webos/i.test(y)}function qn(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Bn(y=(0,N.z$)()){return qn(y)||$e(y)||mn(y)||Ot(y)||/windows phone/i.test(y)||or(y)}function Jr(y,m=[]){let _;switch(y){case"Browser":_=Vt((0,N.z$)());break;case"Worker":_=`${Vt((0,N.z$)())}-${y}`;break;default:_=y}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${ue.SDK_VERSION}/${C}`}class Ut{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=O=>new Promise((Q,de)=>{try{Q(m(O))}catch(Le){de(Le)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,o.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const O of _.queue)yield O(m),O.onAbort&&M.push(O.onAbort)}catch(O){M.reverse();for(const Q of M)try{Q()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=O)||void 0===C?void 0:C.message})}})()}}class nc{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pa(this),this.idTokenSubscription=new pa(this),this.beforeStateQueue=new Ut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=se(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var M,O;if(!C._deleted&&(C.persistenceManager=yield Yt.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(O=C.currentUser)||void 0===O?void 0:O.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,o.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let O=M,Q=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const de=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Le=O?._redirectEventId,it=yield _.tryRedirectSignIn(m);(!de||de===Le)&&it?.user&&(O=it.user,Q=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(O)}catch(de){O=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(de))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return q(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var _=this;return(0,o.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,o.Z)(function*(){var C;try{yield Qr(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,o.Z)(function*(){const C=m?(0,N.m9)(m):null;return C&&q(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return m&&q(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(se(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new N.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,o.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&se(m)||_._popupRedirectResolver;q(C,_,"argument-error"),_.redirectPersistenceManager=yield Yt.create(_,[se(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,o.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,o.Z)(function*(){if(m===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return q(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Un(y){return(0,N.m9)(y)}class pa{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,N.ne)(_=>this.observer=_)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function xo(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class xr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return be("not implemented")}_getIdTokenResponse(m){return be("not implemented")}_linkToIdToken(m,_){return be("not implemented")}_getReauthenticationResolver(m){return be("not implemented")}}function $i(y,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:resetPassword",an(y,m))})).apply(this,arguments)}function mu(y,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ul(y,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:update",an(y,m))})).apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithPassword",an(y,m))})).apply(this,arguments)}function Wi(y,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:sendOobCode",an(y,m))})).apply(this,arguments)}function af(y,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,o.Z)(function*(y,m){return Wi(y,m)})).apply(this,arguments)}function Cr(y,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,o.Z)(function*(y,m){return Wi(y,m)})).apply(this,arguments)}function fl(y,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.Z)(function*(y,m){return Wi(y,m)})).apply(this,arguments)}function wr(y,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.Z)(function*(y,m){return Wi(y,m)})).apply(this,arguments)}function ic(){return(ic=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithEmailLink",an(y,m))})).apply(this,arguments)}function gu(){return(gu=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithEmailLink",an(y,m))})).apply(this,arguments)}class rc extends xr{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new rc(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new rc(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,o.Z)(function*(){switch(_.signInMethod){case"password":return function is(y,m){return dl.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Xb(y,m){return ic.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Re(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return mu(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function lf(y,m){return gu.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Re(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Rs(y,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithIdp",an(y,m))})).apply(this,arguments)}class Oo extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Oo(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,O=(0,ce._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const Q=new Oo(C,M);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(m){return Rs(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Rs(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Rs(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,N.xO)(_)}return m}}function om(y,m){return Td.apply(this,arguments)}function Td(){return(Td=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:sendVerificationCode",an(y,m))})).apply(this,arguments)}function rs(){return(rs=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithPhoneNumber",an(y,m))})).apply(this,arguments)}function Id(){return(Id=(0,o.Z)(function*(y,m){const _=yield _r(y,"POST","/v1/accounts:signInWithPhoneNumber",an(y,m));if(_.temporaryProof)throw Zr(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const am={USER_NOT_FOUND:"user-not-found"};function pl(){return(pl=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithPhoneNumber",an(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),am)})).apply(this,arguments)}class Po extends xr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Po({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Po({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function _u(y,m){return rs.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function sm(y,m){return Id.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function lm(y,m){return pl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:O}=m;return C||_||M||O?new Po({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:O}):null}}class oc{constructor(m){var _,C,M,O,Q,de;const Le=(0,N.zd)((0,N.pd)(m)),it=null!==(_=Le.apiKey)&&void 0!==_?_:null,At=null!==(C=Le.oobCode)&&void 0!==C?C:null,Ct=function m_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Le.mode)&&void 0!==M?M:null);q(it&&At&&Ct,"argument-error"),this.apiKey=it,this.operation=Ct,this.code=At,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Le.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(de=Le.tenantId)&&void 0!==de?de:null}static parseLink(m){const _=function Ad(y){const m=(0,N.zd)((0,N.pd)(y)).link,_=m?(0,N.zd)((0,N.pd)(m)).deep_link_id:null,C=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(C?(0,N.zd)((0,N.pd)(C)).link:null)||C||_||m||y}(m);try{return new oc(_)}catch{return null}}}let vu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,C){return rc._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=oc.parseLink(C);return q(M,"argument-error"),rc._fromEmailAndCode(_,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Pr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ss extends Pr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class va extends ss{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return q("providerId"in _&&"signInMethod"in _,"argument-error"),Oo._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return q(m.idToken||m.accessToken,"argument-error"),Oo._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return va.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return va.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:O,nonce:Q,providerId:de}=m;if(!C&&!M&&!_&&!O||!de)return null;try{return new va(de)._credential({idToken:_,accessToken:C,nonce:Q,pendingToken:O})}catch{return null}}}let yu=(()=>{class y extends ss{constructor(){super("facebook.com")}static credential(_){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ml=(()=>{class y extends ss{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return y.credential(C,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),gl=(()=>{class y extends ss{constructor(){super("github.com")}static credential(_){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ya extends xr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Rs(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Rs(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Rs(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:O}=_;return C&&M&&O&&C===M?new ya(C,O):null}static _create(m,_){return new ya(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pn extends Pr{constructor(m){q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Pn.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Pn.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ya.fromJSON(m);return q(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return ya._create(C,_)}catch{return null}}}let sc=(()=>{class y extends ss{constructor(){super("twitter.com")}static credential(_,C){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return y.credential(C,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ac(y,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signUp",an(y,m))})).apply(this,arguments)}class Er{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,o.Z)(function*(){const O=yield ft._fromIdTokenResponse(m,C,M),Q=uf(C);return new Er({user:O,providerId:Q,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=uf(C);return new Er({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function uf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Md(){return(Md=(0,o.Z)(function*(y){var m;const _=Un(y);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Er({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield ac(_,{returnSecureToken:!0}),M=yield Er._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class kd extends N.ZR{constructor(m,_,C,M){var O;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new kd(m,_,C,M)}}function vl(y,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?kd._fromErrorAndOperation(y,O,m,C):O})}function bi(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function xs(){return(xs=(0,o.Z)(function*(y,m){const _=(0,N.m9)(y);yield Os(!0,_,m);const{providerUserInfo:C}=yield ai(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=bi(C||[]);return _.providerData=_.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function as(y,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,o.Z)(function*(y,m,_=!1){const C=yield rr(y,m._linkToIdToken(y.auth,yield y.getIdToken()),_);return Er._forOperation(y,"link",C)})).apply(this,arguments)}function Os(y,m,_){return No.apply(this,arguments)}function No(){return(No=(0,o.Z)(function*(y,m,_){yield Qr(m);const M=!1===y?"provider-already-linked":"no-such-provider";q(bi(m.providerData).has(_)===y,m.auth,M)})).apply(this,arguments)}function ba(y,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(y,m,_=!1){var C;const{auth:M}=y,O="reauthenticate";try{const Q=yield rr(y,vl(M,O,m,y),_);q(Q.idToken,M,"internal-error");const de=qe(Q.idToken);q(de,M,"internal-error");const{sub:Le}=de;return q(y.uid===Le,M,"user-mismatch"),Er._forOperation(y,O,Q)}catch(Q){throw"auth/user-not-found"===(null===(C=Q)||void 0===C?void 0:C.code)&&Re(M,"user-mismatch"),Q}})).apply(this,arguments)}function ls(y,m){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.Z)(function*(y,m,_=!1){const C="signIn",M=yield vl(y,C,m),O=yield Er._fromIdTokenResponse(y,C,M);return _||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function rt(y,m){return cc.apply(this,arguments)}function cc(){return(cc=(0,o.Z)(function*(y,m){return ls(Un(y),m)})).apply(this,arguments)}function bu(y,m){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,o.Z)(function*(y,m){const _=(0,N.m9)(y);return yield Os(!1,_,m.providerId),as(_,m)})).apply(this,arguments)}function uc(y,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,o.Z)(function*(y,m){return ba((0,N.m9)(y),m)})).apply(this,arguments)}function Ns(y,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(y,m){return _r(y,"POST","/v1/accounts:signInWithCustomToken",an(y,m))})).apply(this,arguments)}function Te(){return(Te=(0,o.Z)(function*(y,m){const _=Un(y),C=yield Ns(_,{token:m,returnSecureToken:!0}),M=yield Er._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Gt{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?wa._fromServerResponse(m,_):Re(m,"internal-error")}}class wa extends Gt{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new wa(_)}}function Fs(y,m,_){var C;q((null===(C=_.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),q(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(q(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(q(_.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Ea(){return(Ea=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y),M={requestType:"PASSWORD_RESET",email:m};_&&Fs(C,M,_),yield Cr(C,M)})).apply(this,arguments)}function Fr(){return(Fr=(0,o.Z)(function*(y,m,_){yield $i((0,N.m9)(y),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Sa(){return(Sa=(0,o.Z)(function*(y,m){yield ul((0,N.m9)(y),{oobCode:m})})).apply(this,arguments)}function Da(y,m){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.Z)(function*(y,m){const _=(0,N.m9)(y),C=yield $i(_,{oobCode:m}),M=C.requestType;switch(q(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(C.mfaInfo,_,"internal-error");default:q(C.email,_,"internal-error")}let O=null;return C.mfaInfo&&(O=Gt._fromServerResponse(Un(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Fo(){return(Fo=(0,o.Z)(function*(y,m){const{data:_}=yield Da((0,N.m9)(y),m);return _.email})).apply(this,arguments)}function Xr(){return(Xr=(0,o.Z)(function*(y,m,_){const C=Un(y),M=yield ac(C,{returnSecureToken:!0,email:m,password:_}),O=yield Er._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(O.user),O})).apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y),M={requestType:"EMAIL_SIGNIN",email:m};q(_.handleCodeInApp,C,"argument-error"),_&&Fs(C,M,_),yield fl(C,M)})).apply(this,arguments)}function Ta(){return(Ta=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y),M=vu.credentialWithLink(m,_||Pe());return q(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),rt(C,M)})).apply(this,arguments)}function hf(y,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:createAuthUri",an(y,m))})).apply(this,arguments)}function fc(){return(fc=(0,o.Z)(function*(y,m){const C={identifier:m,continueUri:yt()?Pe():"http://localhost"},{signinMethods:M}=yield hf((0,N.m9)(y),C);return M||[]})).apply(this,arguments)}function Eu(){return(Eu=(0,o.Z)(function*(y,m){const _=(0,N.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&Fs(_.auth,M,m);const{email:O}=yield af(_.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};_&&Fs(C.auth,O,_);const{email:Q}=yield wr(C.auth,O);Q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Su(y,m){return pc.apply(this,arguments)}function pc(){return(pc=(0,o.Z)(function*(y,m){return Zt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function gc(){return(gc=(0,o.Z)(function*(y,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,N.m9)(y),O={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Q=yield rr(C,Su(C.auth,O));C.displayName=Q.displayName||null,C.photoURL=Q.photoUrl||null;const de=C.providerData.find(({providerId:Le})=>"password"===Le);de&&(de.displayName=C.displayName,de.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Q)})).apply(this,arguments)}function vc(y,m,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,o.Z)(function*(y,m,_){const{auth:C}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(O.email=m),_&&(O.password=_);const Q=yield rr(y,mu(C,O));yield y._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class bn{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Od extends bn{constructor(m,_,C,M){super(m,_,C),this.username=M}}class Pd extends bn{constructor(m,_){super(m,"facebook.com",_)}}class Tu extends Od{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ff extends bn{constructor(m,_){super(m,"google.com",_)}}class yc extends Od{constructor(m,_,C){super(m,"twitter.com",_,C)}}function pf(y){const{user:m,_tokenResponse:_}=y;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Lo(y){var m,_;if(!y)return null;const{providerId:C}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const Q=null===(_=null===(m=qe(y.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new bn(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!C)return null;switch(C){case"facebook.com":return new Pd(O,M);case"github.com":return new Tu(O,M);case"google.com":return new ff(O,M);case"twitter.com":return new yc(O,M,y.screenName||null);case"custom":case"anonymous":return new bn(O,null);default:return new bn(O,C,M)}}(_)}class Ra{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Ra("enroll",m)}static _fromMfaPendingCredential(m){return new Ra("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ra._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return Ra._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Vs{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Un(m),M=_.customData._serverResponse,O=(M.mfaInfo||[]).map(de=>Gt._fromServerResponse(C,de));q(M.mfaPendingCredential,C,"internal-error");const Q=Ra._fromMfaPendingCredential(M.mfaPendingCredential);return new Vs(Q,O,function(){var de=(0,o.Z)(function*(Le){const it=yield Le._process(C,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const At=Object.assign(Object.assign({},M),{idToken:it.idToken,refreshToken:it.refreshToken});switch(_.operationType){case"signIn":const Ct=yield Er._fromIdTokenResponse(C,_.operationType,At);return yield C._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return q(_.user,C,"internal-error"),Er._forOperation(_.user,_.operationType,At);default:Re(C,"internal-error")}});return function(Le){return de.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,o.Z)(function*(){return _.signInResolver(m)})()}}function Ld(y,m){return Zt(y,"POST","/v2/accounts/mfaEnrollment:start",an(y,m))}class gf{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Gt._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new gf(m)}getSession(){var m=this;return(0,o.Z)(function*(){return Ra._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,o.Z)(function*(){const M=m,O=yield C.getSession(),Q=yield rr(C.user,M._process(C.user.auth,O,_));return yield C.user._updateTokensIfNecessary(Q),C.user.reload()})()}unenroll(m){var _=this;return(0,o.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,O=yield _.user.getIdToken(),Q=yield rr(_.user,function um(y,m){return Zt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",an(y,m))}(_.user.auth,{idToken:O,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:de})=>de!==M),yield _.user._updateTokensIfNecessary(Q);try{yield _.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(C=de)||void 0===C?void 0:C.code))throw de}})()}}const js=new WeakMap,Gs="__sak";class wc{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const cs=(()=>{class y extends wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vf(){const y=(0,N.z$)();return vi(y)||qn(y)}()&&function cl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),O=this.localCache[C];M!==O&&_(C,O,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((de,Le,it)=>{this.notifyListeners(de,it)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(_.newValue!==de)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const O=()=>{const de=this.storage.getItem(M);!C&&this.localCache[M]===de||this.notifyListeners(M,de)},Q=this.storage.getItem(M);!function ns(){return(0,N.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,O=this;return(0,o.Z)(function*(){yield M().call(O,_,C),O.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,o.Z)(function*(){const O=yield C().call(M,_);return M.localCache[_]=JSON.stringify(O),O})()}_remove(_){var C=()=>super._remove,M=this;return(0,o.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return y.type="LOCAL",y})(),no=(()=>{class y extends wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return y.type="SESSION",y})();let bf=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(O=>O.isListeningto(_));if(C)return C;const M=new y(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,o.Z)(function*(){const M=_,{eventId:O,eventType:Q,data:de}=M.data,Le=C.handlersMap[Q];if(!Le?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const it=Array.from(Le).map(function(){var Ct=(0,o.Z)(function*(Gi){return Gi(M.origin,de)});return function(Gi){return Ct.apply(this,arguments)}}()),At=yield function Bd(y){return Promise.all(y.map(function(){var m=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(it);M.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:At})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Lr(y="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return y+_}class zt{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,o.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,de;return new Promise((Le,it)=>{const At=Lr("",20);O.port1.start();const Ct=setTimeout(()=>{it(new Error("unsupported_event"))},C);de={messageChannel:O,onMessage(Gi){const so=Gi;if(so.data.eventId===At)switch(so.data.status){case"ack":clearTimeout(Ct),Q=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Le(so.data.response);break;default:clearTimeout(Ct),clearTimeout(Q),it(new Error("invalid_response"))}}},M.handlers.add(de),O.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:m,eventId:At,data:_},[O.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function Ae(){return window}function Hn(){return typeof Ae().WorkerGlobalScope<"u"&&"function"==typeof Ae().importScripts}function ar(){return(ar=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fn="firebaseLocalStorageDb",us="firebaseLocalStorage",Ec="fbase_key";class ki{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Au(y,m){return y.transaction([us],m?"readwrite":"readonly").objectStore(us)}function zs(){const y=indexedDB.open(fn,1);return new Promise((m,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(us,{keyPath:Ec})}catch(M){_(M)}}),y.addEventListener("success",(0,o.Z)(function*(){const C=y.result;C.objectStoreNames.contains(us)?m(C):(C.close(),yield function xa(){const y=indexedDB.deleteDatabase(fn);return new ki(y).toPromise()}(),m(yield zs()))}))})}function Sc(y,m,_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,o.Z)(function*(y,m,_){const C=Au(y,!0).put({[Ec]:m,value:_});return new ki(C).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(y,m){const _=Au(y,!1).get(m),C=yield new ki(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function yo(y,m){const _=Au(y,!0).delete(m);return new ki(_).toPromise()}const ds=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield zs()),_.db})()}_withRetries(_){var C=this;return(0,o.Z)(function*(){let M=0;for(;;)try{const O=yield C._openDb();return yield _(O)}catch(O){if(M++>3)throw O;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return Hn()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=bf._getInstance(function Rn(){return Hn()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,o.Z)(function*(M,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(M,O){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,o.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function Ki(){return ar.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new zt(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);!O||(null===(C=O[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,o.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Wn(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield zs();return yield Sc(_,Gs,"1"),yield yo(_,Gs),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,o.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,o.Z)(function*(){return M._withPendingWrite((0,o.Z)(function*(){return yield M._withRetries(O=>Sc(O,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,o.Z)(function*(){const M=yield C._withRetries(O=>function Dl(y,m){return Sr.apply(this,arguments)}(O,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,o.Z)(function*(){return C._withPendingWrite((0,o.Z)(function*(){return yield C._withRetries(M=>yo(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const C=yield _._withRetries(Q=>{const de=Au(Q,!1).getAll();return new ki(de).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Q,value:de}of C)O.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(de)&&(_.notifyListeners(Q,de),M.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!O.has(Q)&&(_.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Oa(y,m){return Zt(y,"POST","/v2/accounts/mfaSignIn:start",an(y,m))}function Dr(){return(Dr=(0,o.Z)(function*(y){return(yield Zt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bo(y){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=m,C.onerror=M=>{const O=_e("internal-error");O.customData=M,_(O)},C.type="text/javascript",C.charset="UTF-8",function Kn(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(C)})}function bo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Jt=1e12;class Ic{constructor(m){this.auth=m,this.counter=Jt,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new Cf(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||Jt;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Jt))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,o.Z)(function*(){var C;return null===(C=_._widgets.get(m||Jt))||void 0===C||C.execute(),""})()}}class Cf{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;q(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vd(y){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wf=bo("rcb"),g_=new yn(3e4,6e4);class Ef{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Ae().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return q(function ku(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ae().grecaptcha):new Promise((C,M)=>{const O=Ae().setTimeout(()=>{M(_e(m,"network-request-failed"))},g_.get());Ae()[wf]=()=>{Ae().clearTimeout(O),delete Ae()[wf];const de=Ae().grecaptcha;if(!de)return void M(_e(m,"internal-error"));const Le=de.render;de.render=(it,At)=>{const Ct=Le(it,At);return this.counter++,Ct},this.hostLanguage=_,C(de)},Bo(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:wf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),M(_e(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Ae().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class eC{load(m){return(0,o.Z)(function*(){return new Ic(m)})()}clearedOneInstance(){}}const v_="recaptcha",Li={theme:"light",type:"image"};class Sf{constructor(m,_=Object.assign({},Li),C){this.parameters=_,this.type=v_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(C),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eC:new Ef,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(O=>{const Q=de=>{!de||(m.tokenChangeListeners.delete(Q),O(de))};m.tokenChangeListeners.add(Q),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Ae()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){q(yt()&&!Hn(),m.auth,"internal-error"),yield function Ac(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function lr(y){return Dr.apply(this,arguments)}(m.auth);q(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Df{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Po._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Bi(){return(Bi=(0,o.Z)(function*(y,m,_){const C=Un(y),M=yield $s(C,m,(0,N.m9)(_));return new Df(M,O=>rt(C,O))})).apply(this,arguments)}function Pa(){return(Pa=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y);yield Os(!1,C,"phone");const M=yield $s(C.auth,m,(0,N.m9)(_));return new Df(M,O=>bu(C,O))})).apply(this,arguments)}function qs(){return(qs=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y),M=yield $s(C.auth,m,(0,N.m9)(_));return new Df(M,O=>uc(C,O))})).apply(this,arguments)}function $s(y,m,_){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,o.Z)(function*(y,m,_){var C;const M=yield _.verify();try{let O;if(q("string"==typeof M,y,"argument-error"),q(_.type===v_,y,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const Q=O.session;if("phoneNumber"in O)return q("enroll"===Q.type,y,"internal-error"),(yield Ld(y,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{q("signin"===Q.type,y,"internal-error");const de=(null===(C=O.multiFactorHint)||void 0===C?void 0:C.uid)||O.multiFactorUid;return q(de,y,"missing-multi-factor-info"),(yield Oa(y,{mfaPendingCredential:Q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield om(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Q}}finally{_._reset()}})).apply(this,arguments)}function Tf(){return(Tf=(0,o.Z)(function*(y,m){yield as((0,N.m9)(y),m)})).apply(this,arguments)}let Mc=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=Un(_)}verifyPhoneNumber(_,C){return $s(this.auth,_,(0,N.m9)(C))}static credential(_,C){return Po._fromVerification(_,C)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Po._fromTokenResponse(C,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Uo(y,m){return m?se(m):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class cr extends xr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Rs(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Rs(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Rs(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Gd(y){return ls(y.auth,new cr(y),y.bypassAuthState)}function wo(y){const{auth:m,user:_}=y;return q(_,m,"internal-error"),ba(_,new cr(y),y.bypassAuthState)}function er(y){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(y){const{auth:m,user:_}=y;return q(_,m,"internal-error"),as(_,new cr(y),y.bypassAuthState)})).apply(this,arguments)}class Tt{constructor(m,_,C,M,O=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,o.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,o.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:O,tenantId:Q,error:de,type:Le}=m;if(de)return void _.reject(de);const it={auth:_.auth,requestUri:C,sessionId:M,tenantId:Q||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Le)(it))}catch(At){_.reject(At)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Gd;case"linkViaPopup":case"linkViaRedirect":return er;case"reauthViaPopup":case"reauthViaRedirect":return wo;default:Re(this.auth,"internal-error")}}resolve(m){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const It=new yn(2e3,1e4);function ne(){return(ne=(0,o.Z)(function*(y,m,_){const C=Un(y);je(y,m,Pr);const M=Uo(C,_);return new Fa(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function xu(){return(xu=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y);je(C.auth,m,Pr);const M=Uo(C.auth,_);return new Fa(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function xn(){return(xn=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y);je(C.auth,m,Pr);const M=Uo(C.auth,_);return new Fa(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let Fa=(()=>{class y extends Tt{constructor(_,C,M,O,Q){super(_,C,O,Q),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const C=yield _.execute();return q(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,o.Z)(function*(){X(1===_.filter.length,"Popup operations only handle one event");const C=Lr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(_e(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,It.get())};_()}}return y.currentPopupAction=null,y})();const ur=new Map;class wi extends Tt{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,o.Z)(function*(){let C=ur.get(_.auth._key());if(!C){try{const O=(yield function La(y,m){return Eo.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(O)}catch(M){C=()=>Promise.reject(M)}ur.set(_.auth._key(),C)}return _.bypassAuthState||ur.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Eo(){return(Eo=(0,o.Z)(function*(y,m){const _=Cn(m),C=Bt(y);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Ws(y,m){return dr.apply(this,arguments)}function dr(){return(dr=(0,o.Z)(function*(y,m){return Bt(y)._set(Cn(m),"true")})).apply(this,arguments)}function di(y,m){ur.set(y._key(),m)}function Bt(y){return se(y._redirectPersistence)}function Cn(y){return Fi("pendingRedirect",y.config.apiKey,y.name)}function T(){return(T=(0,o.Z)(function*(y,m,_){const C=Un(y);je(y,m,Pr);const M=Uo(C,_);return yield Ws(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function H(){return(H=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y);je(C.auth,m,Pr);const M=Uo(C.auth,_);yield Ws(M,C.auth);const O=yield lt(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function Se(){return(Se=(0,o.Z)(function*(y,m,_){const C=(0,N.m9)(y);je(C.auth,m,Pr);const M=Uo(C.auth,_);yield Os(!1,C,m.providerId),yield Ws(M,C.auth);const O=yield lt(C);return M._openRedirect(C.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function ut(){return(ut=(0,o.Z)(function*(y,m){return yield Un(y)._initializationPromise,Et(y,m,!1)})).apply(this,arguments)}function Et(y,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(y,m,_=!1){const C=Un(y),M=Uo(C,m),Q=yield new wi(C,M,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield C._persistUserIfCurrent(Q.user),yield C._setRedirectUser(null,m)),Q})).apply(this,arguments)}function lt(y){return wn.apply(this,arguments)}function wn(){return(wn=(0,o.Z)(function*(y){const m=Lr(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class Ri{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ti(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ei(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!ei(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(_e(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(m))}saveEventToCache(m){this.cachedEventUids.add(So(m)),this.lastProcessedEventTime=Date.now()}}function So(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function ei({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function fr(y){return qt.apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(y,m={}){return Zt(y,"GET","/v1/projects",m)})).apply(this,arguments)}const pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cn=/^https?/;function hi(){return(hi=(0,o.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield fr(y);for(const _ of m)try{if(dm(_))return}catch{}Re(y,"unauthorized-domain")})).apply(this,arguments)}function dm(y){const m=Pe(),{protocol:_,hostname:C}=new URL(m);if(y.startsWith("chrome-extension://")){const Q=new URL(y);return""===Q.hostname&&""===C?"chrome-extension:"===_&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===C}if(!cn.test(_))return!1;if(pr.test(y))return C===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const zd=new yn(3e4,6e4);function Ba(){const y=Ae().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let Yd=null;function hm(y){return Yd=Yd||function Pu(y){return new Promise((m,_)=>{var C,M,O;function Q(){Ba(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Ba(),_(_e(y,"network-request-failed"))},timeout:zd.get()})}if(null!==(M=null===(C=Ae().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(O=Ae().gapi)||void 0===O||!O.load){const de=bo("iframefcb");return Ae()[de]=()=>{gapi.load?Q():_(_e(y,"network-request-failed"))},Bo(`https://apis.google.com/js/api.js?onload=${de}`).catch(Le=>_(Le))}Q()}}).catch(m=>{throw Yd=null,m})}(y),Yd}const pt=new yn(5e3,15e3),Hi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Be(y){const m=y.config;q(m.authDomain,y,"auth-domain-config-required");const _=m.emulator?si(m,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:y.name,v:ue.SDK_VERSION},M=mt.get(y.config.apiHost);M&&(C.eid=M);const O=y._getFrameworks();return O.length&&(C.fw=O.join(",")),`${_}?${(0,N.xO)(C).slice(1)}`}function Nu(){return Nu=(0,o.Z)(function*(y){const m=yield hm(y),_=Ae().gapi;return q(_,y,"internal-error"),m.open({where:document.body,url:Be(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hi,dontclear:!0},C=>new Promise(function(){var M=(0,o.Z)(function*(O,Q){yield C.restyle({setHideOnLeave:!1});const de=_e(y,"network-request-failed"),Le=Ae().setTimeout(()=>{Q(de)},pt.get());function it(){Ae().clearTimeout(Le),O(C)}C.ping(it).then(it,()=>{Q(de)})});return function(O,Q){return M.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const Il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qt(y,m,_,C,M,O){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const Q={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:C,v:ue.SDK_VERSION,eventId:M};if(m instanceof Pr){m.setDefaultLanguage(y.languageCode),Q.providerId=m.providerId||"",(0,N.xb)(m.getCustomParameters())||(Q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Le,it]of Object.entries(O||{}))Q[Le]=it}if(m instanceof ss){const Le=m.getScopes().filter(it=>""!==it);Le.length>0&&(Q.scopes=Le.join(","))}y.tenantId&&(Q.tid=y.tenantId);const de=Q;for(const Le of Object.keys(de))void 0===de[Le]&&delete de[Le];return`${function Fe({config:y}){return y.emulator?si(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(de).slice(1)}`}const Je="webStorageSupport";class Xe extends class _n{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Xe(m)}_finalizeEnroll(m,_,C){return function cm(y,m){return Zt(y,"POST","/v2/accounts/mfaEnrollment:finalize",an(y,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Ys(y,m){return Zt(y,"POST","/v2/accounts/mfaSignIn:finalize",an(y,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let C_=(()=>{class y{constructor(){}static assertion(_){return Xe._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var If="@firebase/auth";class Ks{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Al(){return window}function Af(){return(Af=(0,o.Z)(function*(y,m,_){var C;const{BuildInfo:M}=Al();X(m.sessionId,"AuthEvent did not contain a session ID");const O=yield kf(m.sessionId),Q={};return qn()?Q.ibi=M.packageName:$e()?Q.apn=M.packageName:Re(y,"operation-not-supported-in-this-environment"),M.displayName&&(Q.appDisplayName=M.displayName),Q.sessionId=O,Qt(y,_,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,Q)})).apply(this,arguments)}function Mf(){return(Mf=(0,o.Z)(function*(y){const{BuildInfo:m}=Al(),_={};qn()?_.iosBundleId=m.packageName:$e()?_.androidPackageName=m.packageName:Re(y,"operation-not-supported-in-this-environment"),yield fr(y,_)})).apply(this,arguments)}function Do(){return(Do=(0,o.Z)(function*(y,m,_){const{cordova:C}=Al();let M=()=>{};try{yield new Promise((O,Q)=>{let de=null;function Le(){var Ct;O();const Gi=null===(Ct=C.plugins.browsertab)||void 0===Ct?void 0:Ct.close;"function"==typeof Gi&&Gi(),"function"==typeof _?.close&&_.close()}function it(){de||(de=window.setTimeout(()=>{Q(_e(y,"redirect-cancelled-by-user"))},2e3))}function At(){"visible"===document?.visibilityState&&it()}m.addPassiveListener(Le),document.addEventListener("resume",it,!1),$e()&&document.addEventListener("visibilitychange",At,!1),M=()=>{m.removePassiveListener(Le),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",At,!1),de&&window.clearTimeout(de)}})}finally{M()}})).apply(this,arguments)}function kf(y){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.Z)(function*(y){const m=kl(y),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function kl(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const m=new ArrayBuffer(y.length),_=new Uint8Array(m);for(let C=0;C<y.length;C++)_[C]=y.charCodeAt(C);return _}!function Vo(y){(0,ue._registerComponent)(new ie.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:O,authDomain:Q}=C.options;return((de,Le)=>{q(O&&!O.includes(":"),"invalid-api-key",{appName:de.name}),q(!Q?.includes(":"),"argument-error",{appName:de.name});const it={apiKey:O,authDomain:Q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jr(y)},At=new nc(de,Le,it);return function he(y,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(se);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(C,m?.popupRedirectResolver)}(At,_),At})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ie.wA("auth-internal",m=>{const _=Un(m.getProvider("auth").getImmediate());return new Ks(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(If,"0.20.5",function Ha(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(If,"0.20.5","esm2017")}("Browser");class D_ extends Ri{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,o.Z)(function*(){yield m.initPromise})()}}function Rl(y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.Z)(function*(y){const m=yield Wd()._get(Va(y));return m&&(yield Wd()._remove(Va(y))),m})).apply(this,arguments)}function Fu(){const y=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*m.length);y.push(m.charAt(C))}return y.join("")}function Wd(){return se(cs)}function Va(y){return Fi("authEvent",y.config.apiKey,y.name)}function Lu(y){if(!y?.includes("?"))return{};const[m,..._]=y.split("?");return(0,N.zd)(_.join("?"))}function Uu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function fs(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Of(y=(0,N.z$)()){return!("file:"!==fs()&&"ionic:"!==fs()&&"capacitor:"!==fs()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function A_(){try{const y=self.localStorage,m=Lr();if(y)return y.setItem(m,"1"),y.removeItem(m),!function $t(y=(0,N.z$)()){return function Pf(){return(0,N.w1)()&&11===document?.documentMode}()||function Rc(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return xl()&&(0,N.hl)()}return!1}function xl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ol(){return(function Kd(){return"http:"===fs()||"https:"===fs()}()||(0,N.ru)()||Of())&&!function vm(){return(0,N.b$)()||(0,N.UG)()}()&&A_()&&!xl()}function Zd(){return Of()&&typeof document<"u"}function Hu(){return(Hu=(0,o.Z)(function*(){return!!Zd()&&new Promise(y=>{const m=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),y(!0)})})})).apply(this,arguments)}const Br={LOCAL:"local",NONE:"none",SESSION:"session"},Vu=q,ji="persistence";function Qd(y){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,o.Z)(function*(y){yield y._initializationPromise;const m=Jd(),_=Fi(ji,y.config.apiKey,y.name);m&&m.setItem(_,y._getPersistence())})).apply(this,arguments)}function Jd(){var y;try{return(null===(y=function Nf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Bf=q;class Ur{constructor(){this.browserResolver=se(class b_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=Et,this._overrideRedirectResult=di}_openPopup(m,_,C,M){var O=this;return(0,o.Z)(function*(){var Q;X(null===(Q=O.eventManagers[m._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const de=Qt(m,_,C,Pe(),M);return function ct(y,m,_,C=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-C)/2,0).toString();let de="";const Le=Object.assign(Object.assign({},Il),{width:C.toString(),height:M.toString(),top:O,left:Q}),it=(0,N.z$)().toLowerCase();_&&(de=qi(it)?"_blank":_),Ln(it)&&(m=m||"http://localhost",Le.scrollbars="yes");const At=Object.entries(Le).reduce((Gi,[so,Nl])=>`${Gi}${so}=${Nl},`,"");if(function li(y=(0,N.z$)()){var m;return qn(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(it)&&"_self"!==de)return function Nt(y,m){const _=document.createElement("a");_.href=y,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",de),new Ue(null);const Ct=window.open(m||"",de,At);q(Ct,y,"popup-blocked");try{Ct.focus()}catch{}return new Ue(Ct)}(m,de,Lr())})()}_openRedirect(m,_,C,M){var O=this;return(0,o.Z)(function*(){return yield O._originValidation(m),function ui(y){Ae().location.href=y}(Qt(m,_,C,Pe(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:O}=this.eventManagers[_];return M?Promise.resolve(M):(X(O,"If manager is not set, promise should be"),O)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,o.Z)(function*(){const C=yield function Ne(y){return Nu.apply(this,arguments)}(m),M=new Ri(m);return C.register("authEvent",O=>(q(O?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Je,{type:Je},M=>{var O;const Q=null===(O=M?.[0])||void 0===O?void 0:O[Je];void 0!==Q&&_(!!Q),Re(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Qe(y){return hi.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Bn()||vi()||qn()}}),this.cordovaResolver=se(class Vi{constructor(){this._redirectPersistence=no,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Et,this._overrideRedirectResult=di}_initialize(m){var _=this;return(0,o.Z)(function*(){const C=m._key();let M=_.eventManagers.get(C);return M||(M=new D_(m),_.eventManagers.set(C,M),_.attachCallbackListeners(m,M)),M})()}_openPopup(m){Re(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,C,M){var O=this;return(0,o.Z)(function*(){!function Ml(y){var m,_,C,M,O,Q,de,Le,it,At;const Ct=Al();q("function"==typeof(null===(m=Ct?.universalLinks)||void 0===m?void 0:m.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(_=Ct?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(O=null===(M=null===(C=Ct?.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Le=null===(de=null===(Q=Ct?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(At=null===(it=Ct?.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===At?void 0:At.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Q=yield O._initialize(m);yield Q.initialized(),Q.resetRedirect(),function hr(){ur.clear()}(),yield O._originValidation(m);const de=function $d(y,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Fu(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(m,C,M);yield function Rf(y,m){return Wd()._set(Va(y),m)}(m,de);const Le=yield function E_(y,m,_){return Af.apply(this,arguments)}(m,de,_),it=yield function hs(y){const{cordova:m}=Al();return new Promise(_=>{m.plugins.browsertab.isAvailable(C=>{let M=null;C?m.plugins.browsertab.openUrl(y):M=m.InAppBrowser.open(y,function fa(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(M)})})}(Le);return function _m(y,m,_){return Do.apply(this,arguments)}(m,Q,it)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function S_(y){return Mf.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:C,handleOpenURL:M,BuildInfo:O}=Al(),Q=setTimeout((0,o.Z)(function*(){yield Rl(m),_.onEvent(Uu())}),500),de=function(){var At=(0,o.Z)(function*(Ct){clearTimeout(Q);const Gi=yield Rl(m);let so=null;Gi&&Ct?.url&&(so=function nC(y,m){var _,C;const M=function xf(y){const m=Lu(y),_=m.link?decodeURIComponent(m.link):void 0,C=Lu(_).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Lu(M).link||M||C||_||y}(m);if(M.includes("/__/auth/callback")){const O=Lu(M),Q=O.firebaseError?function xi(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,de=null===(C=null===(_=Q?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Le=de?_e(de):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Gi,Ct.url)),_.onEvent(so||Uu())});return function(Gi){return At.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,de);const Le=M,it=`${O.packageName.toLowerCase()}://`;Al().handleOpenURL=function(){var At=(0,o.Z)(function*(Ct){if(Ct.toLowerCase().startsWith(it)&&de({url:Ct}),"function"==typeof Le)try{Le(Ct)}catch(Gi){console.error(Gi)}});return function(Ct){return At.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=no,this._completeRedirectFn=Et,this._overrideRedirectResult=di}_initialize(m){var _=this;return(0,o.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,C,M){var O=this;return(0,o.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,_,C,M)})()}_openRedirect(m,_,C,M){var O=this;return(0,o.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,_,C,M)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Zd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,o.Z)(function*(){if(m.underlyingResolver)return;const _=yield function jo(){return Hu.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function Uf(y){return y.unwrap()}function ju(y){return Pl(y)}function Pl(y){const{_tokenResponse:m}=y instanceof N.ZR?y.customData:y;if(!m)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Mc.credentialFromResult(y);const _=m.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=ml;break;case"facebook.com":C=yu;break;case"github.com":C=gl;break;case"twitter.com":C=sc;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:Q,pendingToken:de,nonce:Le}=m;return O||Q||M||de?de?_.startsWith("saml.")?ya._create(_,de):Oo._fromParams({providerId:_,signInMethod:_,pendingToken:de,idToken:M,accessToken:O}):new va(_).credential({idToken:M,accessToken:O,rawNonce:Le}):null}return y instanceof N.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function ni(y,m){return m.catch(_=>{throw _ instanceof N.ZR&&function ym(y,m){var _,C;const M=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=m)||void 0===C?void 0:C.code))m.resolver=new Vf(y,function Mi(y,m){var _;const C=(0,N.m9)(y),M=m;return q(m.customData.operationType,C,"argument-error"),q(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Vs._fromError(C,M)}(y,m));else if(M){const O=Pl(m),Q=m;O&&(Q.credential=O,Q.tenantId=M.tenantId||void 0,Q.email=M.email||void 0,Q.phoneNumber=M.phoneNumber||void 0)}}(y,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:ju(_),additionalUserInfo:pf(_),user:Tr.getOrCreate(M)}})}function Pt(y,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,o.Z)(function*(y,m){const _=yield m;return{verificationId:_.verificationId,confirm:C=>ni(y,_.confirm(C))}})).apply(this,arguments)}class Vf{constructor(m,_){this.resolver=_,this.auth=function Hf(y){return y.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return ni(Uf(this.auth),this.resolver.resolveSignIn(m))}}class Tr{constructor(m){this._delegate=m,this.multiFactor=function _f(y){const m=(0,N.m9)(y);return js.has(m)||js.set(m,gf._fromUser(m)),js.get(m)}(m)}static getOrCreate(m){return Tr.USER_MAP.has(m)||Tr.USER_MAP.set(m,new Tr(m)),Tr.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,o.Z)(function*(){return ni(_.auth,bu(_._delegate,m))})()}linkWithPhoneNumber(m,_){var C=this;return(0,o.Z)(function*(){return Pt(C.auth,function io(y,m,_){return Pa.apply(this,arguments)}(C._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,o.Z)(function*(){return ni(_.auth,function ro(y,m,_){return xn.apply(this,arguments)}(_._delegate,m,Ur))})()}linkWithRedirect(m){var _=this;return(0,o.Z)(function*(){return yield Qd(Un(_.auth)),function J(y,m,_){return function te(y,m,_){return Se.apply(this,arguments)}(y,m,_)}(_._delegate,m,Ur)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,o.Z)(function*(){return ni(_.auth,uc(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Pt(this.auth,function Tl(y,m,_){return qs.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return ni(this.auth,function kc(y,m,_){return xu.apply(this,arguments)}(this._delegate,m,Ur))}reauthenticateWithRedirect(m){var _=this;return(0,o.Z)(function*(){return yield Qd(Un(_.auth)),function I(y,m,_){return function R(y,m,_){return H.apply(this,arguments)}(y,m,_)}(_._delegate,m,Ur)})()}sendEmailVerification(m){return function Cl(y,m){return Eu.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,o.Z)(function*(){return yield function lc(y,m){return xs.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function _c(y,m){return vc((0,N.m9)(y),m,null)}(this._delegate,m)}updatePassword(m){return function Du(y,m){return vc((0,N.m9)(y),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function y_(y,m){return Tf.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function mc(y,m){return gc.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function Ma(y,m,_){return wl.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const Gu=q;let Xd=(()=>{class y{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;Gu(M,"invalid-api-key",{appName:_.name}),Gu(M,"invalid-api-key",{appName:_.name});const O=typeof window<"u"?Ur:void 0;this._delegate=C.initialize({options:{persistence:M_(M,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function Ms(y,m,_){const C=Un(y);q(C._canInitEmulator,C,"emulator-config-failed"),q(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,O=yi(m),{host:Q,port:de}=function ma(y){const m=yi(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const O=M[1];return{host:O,port:xo(C.substr(O.length+1))}}{const[O,Q]=C.split(":");return{host:O,port:xo(Q)}}}(m);C.config.emulator={url:`${O}//${Q}${null===de?"":`:${de}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Q,port:de,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function sr(){function y(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,C)}applyActionCode(_){return function bl(y,m){return Sa.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Da(this._delegate,_)}confirmPasswordReset(_,C){return function Ls(y,m,_){return Fr.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var M=this;return(0,o.Z)(function*(){return ni(M._delegate,function Ai(y,m,_){return Xr.apply(this,arguments)}(M._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Aa(y,m){return fc.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Rd(y,m){return"EMAIL_SIGNIN"===oc.parseLink(m)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,o.Z)(function*(){Gu(Ol(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function Ze(y,m){return ut.apply(this,arguments)}(_._delegate,Ur);return C?ni(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function T_(y,m){Un(y)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,C,M){const{next:O,error:Q,complete:de}=Ga(_,C,M);return this._delegate.onAuthStateChanged(O,Q,de)}onIdTokenChanged(_,C,M){const{next:O,error:Q,complete:de}=Ga(_,C,M);return this._delegate.onIdTokenChanged(O,Q,de)}sendSignInLinkToEmail(_,C){return function Bs(y,m,_){return eo.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function $n(y,m,_){return Ea.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,o.Z)(function*(){let M;switch(function Go(y,m){Vu(Object.values(Br).includes(m),y,"invalid-persistence-type"),(0,N.b$)()?Vu(m!==Br.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Vu(m===Br.NONE,y,"unsupported-persistence-type"):xl()?Vu(m===Br.NONE||m===Br.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Vu(m===Br.NONE||A_(),y,"unsupported-persistence-type")}(C._delegate,_),_){case Br.SESSION:M=no;break;case Br.LOCAL:M=(yield se(ds)._isAvailable())?ds:cs;break;case Br.NONE:M=ln;break;default:return Re("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return ni(this._delegate,function Xn(y){return Md.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return ni(this._delegate,rt(this._delegate,_))}signInWithCustomToken(_){return ni(this._delegate,function dc(y,m){return Te.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return ni(this._delegate,function wu(y,m,_){return rt((0,N.m9)(y),vu.credential(m,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return ni(this._delegate,function xd(y,m,_){return Ta.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return Pt(this._delegate,function jd(y,m,_){return Bi.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,o.Z)(function*(){return Gu(Ol(),C._delegate,"operation-not-supported-in-this-environment"),ni(C._delegate,function Na(y,m,_){return ne.apply(this,arguments)}(C._delegate,_,Ur))})()}signInWithRedirect(_){var C=this;return(0,o.Z)(function*(){return Gu(Ol(),C._delegate,"operation-not-supported-in-this-environment"),yield Qd(C._delegate),function oo(y,m,_){return function Ou(y,m,_){return T.apply(this,arguments)}(y,m,_)}(C._delegate,_,Ur)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function df(y,m){return Fo.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Br,y})();function Ga(y,m,_){let C=y;"function"!=typeof y&&({next:C,error:m,complete:_}=y);const M=C;return{next:Q=>M(Q&&Tr.getOrCreate(Q)),error:m,complete:_}}function M_(y,m){const _=function Lf(y,m){const _=Jd();if(!_)return[];const C=Fi(ji,y,m);switch(_.getItem(C)){case Br.NONE:return[ln];case Br.LOCAL:return[ds,no];case Br.SESSION:return[no];default:return[]}}(y,m);if(typeof self<"u"&&!_.includes(ds)&&_.push(ds),typeof window<"u")for(const C of[cs,no])_.includes(C)||_.push(C);return _.includes(ln)||_.push(ln),_}class xc{constructor(){this.providerId="phone",this._delegate=new Mc(Uf(re.Z.auth()))}static credential(m,_){return Mc.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}xc.PHONE_SIGN_IN_METHOD=Mc.PHONE_SIGN_IN_METHOD,xc.PROVIDER_ID=Mc.PROVIDER_ID;const zu=q;class bm{constructor(m,_,C=re.Z.app()){var M;zu(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Sf(m,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function k_(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new Xd(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vu,FacebookAuthProvider:yu,GithubAuthProvider:gl,GoogleAuthProvider:ml,OAuthProvider:va,SAMLAuthProvider:Pn,PhoneAuthProvider:xc,PhoneMultiFactorGenerator:C_,RecaptchaVerifier:bm,TwitterAuthProvider:sc,Auth:Xd,AuthCredential:xr,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(re.Z)},9751:(ht,Ie,F)=>{F.d(Ie,{y:()=>fe});var o=F(930),re=F(727),N=F(8822),ue=F(9635),ce=F(2416),pe=F(576),ie=F(2806);let fe=(()=>{class ee{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ce=new ee;return Ce.source=this,Ce.operator=ke,Ce}subscribe(ke,Ce,at){const ye=function Y(ee){return ee&&ee instanceof o.Lv||function z(ee){return ee&&(0,pe.m)(ee.next)&&(0,pe.m)(ee.error)&&(0,pe.m)(ee.complete)}(ee)&&(0,re.Nn)(ee)}(ke)?ke:new o.Hp(ke,Ce,at);return(0,ie.x)(()=>{const{operator:ge,source:nt}=this;ye.add(ge?ge.call(ye,nt):nt?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ce){ke.error(Ce)}}forEach(ke,Ce){return new(Ce=me(Ce))((at,ye)=>{const ge=new o.Hp({next:nt=>{try{ke(nt)}catch(dt){ye(dt),ge.unsubscribe()}},error:ye,complete:at});this.subscribe(ge)})}_subscribe(ke){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(ke)}[N.L](){return this}pipe(...ke){return(0,ue.U)(ke)(this)}toPromise(ke){return new(ke=me(ke))((Ce,at)=>{let ye;this.subscribe(ge=>ye=ge,ge=>at(ge),()=>Ce(ye))})}}return ee.create=He=>new ee(He),ee})();function me(ee){var He;return null!==(He=ee??ce.v.Promise)&&void 0!==He?He:Promise}},7579:(ht,Ie,F)=>{F.d(Ie,{x:()=>ie});var o=F(9751),re=F(727);const ue=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(8737),pe=F(2806);let ie=(()=>{class me extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ee=new fe(this,this);return ee.operator=Y,ee}_throwIfClosed(){if(this.closed)throw new ue}next(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(Y)}})}error(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ee}=this;for(;ee.length;)ee.shift().error(Y)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ee,isStopped:He,observers:ke}=this;return ee||He?re.Lc:(this.currentObservers=null,ke.push(Y),new re.w0(()=>{this.currentObservers=null,(0,ce.P)(ke,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ee,thrownError:He,isStopped:ke}=this;ee?Y.error(He):ke&&Y.complete()}asObservable(){const Y=new o.y;return Y.source=this,Y}}return me.create=(z,Y)=>new fe(z,Y),me})();class fe extends ie{constructor(z,Y){super(),this.destination=z,this.source=Y}next(z){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ee||ee.call(Y,z)}error(z){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ee||ee.call(Y,z)}complete(){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Y||Y.call(z)}_subscribe(z){var Y,ee;return null!==(ee=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(z))&&void 0!==ee?ee:re.Lc}}},930:(ht,Ie,F)=>{F.d(Ie,{Hp:()=>at,Lv:()=>ee});var o=F(576),re=F(727),N=F(2416),ue=F(7849),ce=F(5032);const pe=me("C",void 0,void 0);function me(Re,_e,De){return{kind:Re,value:_e,error:De}}var z=F(3410),Y=F(2806);class ee extends re.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,re.Nn)(_e)&&_e.add(this)):this.destination=dt}static create(_e,De,je){return new at(_e,De,je)}next(_e){this.isStopped?nt(function fe(Re){return me("N",Re,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?nt(function ie(Re){return me("E",void 0,Re)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?nt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function ke(Re,_e){return He.call(Re,_e)}class Ce{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:De}=this;if(De.next)try{De.next(_e)}catch(je){ye(je)}}error(_e){const{partialObserver:De}=this;if(De.error)try{De.error(_e)}catch(je){ye(je)}else ye(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(De){ye(De)}}}class at extends ee{constructor(_e,De,je){let Ye;if(super(),(0,o.m)(_e)||!_e)Ye={next:_e??void 0,error:De??void 0,complete:je??void 0};else{let q;this&&N.v.useDeprecatedNextContext?(q=Object.create(_e),q.unsubscribe=()=>this.unsubscribe(),Ye={next:_e.next&&ke(_e.next,q),error:_e.error&&ke(_e.error,q),complete:_e.complete&&ke(_e.complete,q)}):Ye=_e}this.destination=new Ce(Ye)}}function ye(Re){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Re):(0,ue.h)(Re)}function nt(Re,_e){const{onStoppedNotification:De}=N.v;De&&z.z.setTimeout(()=>De(Re,_e))}const dt={closed:!0,next:ce.Z,error:function ge(Re){throw Re},complete:ce.Z}},727:(ht,Ie,F)=>{F.d(Ie,{Lc:()=>pe,w0:()=>ce,Nn:()=>ie});var o=F(576);const N=(0,F(3888).d)(me=>function(Y){me(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ee,He)=>`${He+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ue=F(8737);class ce{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ke of Y)ke.remove(this);else Y.remove(this);const{initialTeardown:ee}=this;if((0,o.m)(ee))try{ee()}catch(ke){z=ke instanceof N?ke.errors:[ke]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const ke of He)try{fe(ke)}catch(Ce){z=z??[],Ce instanceof N?z=[...z,...Ce.errors]:z.push(Ce)}}if(z)throw new N(z)}}add(z){var Y;if(z&&z!==this)if(this.closed)fe(z);else{if(z instanceof ce){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(z)}}_hasParent(z){const{_parentage:Y}=this;return Y===z||Array.isArray(Y)&&Y.includes(z)}_addParent(z){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(z),Y):Y?[Y,z]:z}_removeParent(z){const{_parentage:Y}=this;Y===z?this._parentage=null:Array.isArray(Y)&&(0,ue.P)(Y,z)}remove(z){const{_finalizers:Y}=this;Y&&(0,ue.P)(Y,z),z instanceof ce&&z._removeParent(this)}}ce.EMPTY=(()=>{const me=new ce;return me.closed=!0,me})();const pe=ce.EMPTY;function ie(me){return me instanceof ce||me&&"closed"in me&&(0,o.m)(me.remove)&&(0,o.m)(me.add)&&(0,o.m)(me.unsubscribe)}function fe(me){(0,o.m)(me)?me():me.unsubscribe()}},2416:(ht,Ie,F)=>{F.d(Ie,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Ie,F)=>{F.d(Ie,{E:()=>re});const re=new(F(9751).y)(ce=>ce.complete())},8996:(ht,Ie,F)=>{F.d(Ie,{D:()=>_e});var o=F(8421),re=F(5363),N=F(9468),pe=F(9751),fe=F(2202),me=F(576),z=F(9672);function ee(De,je){if(!De)throw new Error("Iterable cannot be null");return new pe.y(Ye=>{(0,z.f)(Ye,je,()=>{const q=De[Symbol.asyncIterator]();(0,z.f)(Ye,je,()=>{q.next().then(be=>{be.done?Ye.complete():Ye.next(be.value)})},0,!0)})})}var He=F(3670),ke=F(8239),Ce=F(1144),at=F(6495),ye=F(2206),ge=F(4532),nt=F(3260);function _e(De,je){return je?function Re(De,je){if(null!=De){if((0,He.c)(De))return function ue(De,je){return(0,o.Xf)(De).pipe((0,N.R)(je),(0,re.Q)(je))}(De,je);if((0,Ce.z)(De))return function ie(De,je){return new pe.y(Ye=>{let q=0;return je.schedule(function(){q===De.length?Ye.complete():(Ye.next(De[q++]),Ye.closed||this.schedule())})})}(De,je);if((0,ke.t)(De))return function ce(De,je){return(0,o.Xf)(De).pipe((0,N.R)(je),(0,re.Q)(je))}(De,je);if((0,ye.D)(De))return ee(De,je);if((0,at.T)(De))return function Y(De,je){return new pe.y(Ye=>{let q;return(0,z.f)(Ye,je,()=>{q=De[fe.h](),(0,z.f)(Ye,je,()=>{let be,X;try{({value:be,done:X}=q.next())}catch(le){return void Ye.error(le)}X?Ye.complete():Ye.next(be)},0,!0)}),()=>(0,me.m)(q?.return)&&q.return()})}(De,je);if((0,nt.L)(De))return function dt(De,je){return ee((0,nt.Q)(De),je)}(De,je)}throw(0,ge.z)(De)}(De,je):(0,o.Xf)(De)}},8421:(ht,Ie,F)=>{F.d(Ie,{Xf:()=>He});var o=F(655),re=F(1144),N=F(8239),ue=F(9751),ce=F(3670),pe=F(2206),ie=F(4532),fe=F(6495),me=F(3260),z=F(576),Y=F(7849),ee=F(8822);function He(Re){if(Re instanceof ue.y)return Re;if(null!=Re){if((0,ce.c)(Re))return function ke(Re){return new ue.y(_e=>{const De=Re[ee.L]();if((0,z.m)(De.subscribe))return De.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,re.z)(Re))return function Ce(Re){return new ue.y(_e=>{for(let De=0;De<Re.length&&!_e.closed;De++)_e.next(Re[De]);_e.complete()})}(Re);if((0,N.t)(Re))return function at(Re){return new ue.y(_e=>{Re.then(De=>{_e.closed||(_e.next(De),_e.complete())},De=>_e.error(De)).then(null,Y.h)})}(Re);if((0,pe.D)(Re))return ge(Re);if((0,fe.T)(Re))return function ye(Re){return new ue.y(_e=>{for(const De of Re)if(_e.next(De),_e.closed)return;_e.complete()})}(Re);if((0,me.L)(Re))return function nt(Re){return ge((0,me.Q)(Re))}(Re)}throw(0,ie.z)(Re)}function ge(Re){return new ue.y(_e=>{(function dt(Re,_e){var De,je,Ye,q;return(0,o.mG)(this,void 0,void 0,function*(){try{for(De=(0,o.KL)(Re);!(je=yield De.next()).done;)if(_e.next(je.value),_e.closed)return}catch(be){Ye={error:be}}finally{try{je&&!je.done&&(q=De.return)&&(yield q.call(De))}finally{if(Ye)throw Ye.error}}_e.complete()})})(Re,_e).catch(De=>_e.error(De))})}},6451:(ht,Ie,F)=>{F.d(Ie,{T:()=>pe});var o=F(8189),re=F(8421),N=F(515),ue=F(3269),ce=F(8996);function pe(...ie){const fe=(0,ue.yG)(ie),me=(0,ue._6)(ie,1/0),z=ie;return z.length?1===z.length?(0,re.Xf)(z[0]):(0,o.J)(me)((0,ce.D)(z,fe)):N.E}},5403:(ht,Ie,F)=>{F.d(Ie,{x:()=>re});var o=F(930);function re(ue,ce,pe,ie,fe){return new N(ue,ce,pe,ie,fe)}class N extends o.Lv{constructor(ce,pe,ie,fe,me,z){super(ce),this.onFinalize=me,this.shouldUnsubscribe=z,this._next=pe?function(Y){try{pe(Y)}catch(ee){ce.error(ee)}}:super._next,this._error=fe?function(Y){try{fe(Y)}catch(ee){ce.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(Y){ce.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(ht,Ie,F)=>{F.d(Ie,{U:()=>N});var o=F(4482),re=F(5403);function N(ue,ce){return(0,o.e)((pe,ie)=>{let fe=0;pe.subscribe((0,re.x)(ie,me=>{ie.next(ue.call(ce,me,fe++))}))})}},8189:(ht,Ie,F)=>{F.d(Ie,{J:()=>N});var o=F(5577),re=F(4671);function N(ue=1/0){return(0,o.z)(re.y,ue)}},5577:(ht,Ie,F)=>{F.d(Ie,{z:()=>fe});var o=F(4004),re=F(8421),N=F(4482),ue=F(9672),ce=F(5403),ie=F(576);function fe(me,z,Y=1/0){return(0,ie.m)(z)?fe((ee,He)=>(0,o.U)((ke,Ce)=>z(ee,ke,He,Ce))((0,re.Xf)(me(ee,He))),Y):("number"==typeof z&&(Y=z),(0,N.e)((ee,He)=>function pe(me,z,Y,ee,He,ke,Ce,at){const ye=[];let ge=0,nt=0,dt=!1;const Re=()=>{dt&&!ye.length&&!ge&&z.complete()},_e=je=>ge<ee?De(je):ye.push(je),De=je=>{ke&&z.next(je),ge++;let Ye=!1;(0,re.Xf)(Y(je,nt++)).subscribe((0,ce.x)(z,q=>{He?.(q),ke?_e(q):z.next(q)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(ge--;ye.length&&ge<ee;){const q=ye.shift();Ce?(0,ue.f)(z,Ce,()=>De(q)):De(q)}Re()}catch(q){z.error(q)}}))};return me.subscribe((0,ce.x)(z,_e,()=>{dt=!0,Re()})),()=>{at?.()}}(ee,He,me,Y)))}},5363:(ht,Ie,F)=>{F.d(Ie,{Q:()=>ue});var o=F(9672),re=F(4482),N=F(5403);function ue(ce,pe=0){return(0,re.e)((ie,fe)=>{ie.subscribe((0,N.x)(fe,me=>(0,o.f)(fe,ce,()=>fe.next(me),pe),()=>(0,o.f)(fe,ce,()=>fe.complete(),pe),me=>(0,o.f)(fe,ce,()=>fe.error(me),pe)))})}},3099:(ht,Ie,F)=>{F.d(Ie,{B:()=>ce});var o=F(8421),re=F(7579),N=F(930),ue=F(4482);function ce(ie={}){const{connector:fe=(()=>new re.x),resetOnError:me=!0,resetOnComplete:z=!0,resetOnRefCountZero:Y=!0}=ie;return ee=>{let He,ke,Ce,at=0,ye=!1,ge=!1;const nt=()=>{ke?.unsubscribe(),ke=void 0},dt=()=>{nt(),He=Ce=void 0,ye=ge=!1},Re=()=>{const _e=He;dt(),_e?.unsubscribe()};return(0,ue.e)((_e,De)=>{at++,!ge&&!ye&&nt();const je=Ce=Ce??fe();De.add(()=>{at--,0===at&&!ge&&!ye&&(ke=pe(Re,Y))}),je.subscribe(De),!He&&at>0&&(He=new N.Hp({next:Ye=>je.next(Ye),error:Ye=>{ge=!0,nt(),ke=pe(dt,me,Ye),je.error(Ye)},complete:()=>{ye=!0,nt(),ke=pe(dt,z),je.complete()}}),(0,o.Xf)(_e).subscribe(He))})(ee)}}function pe(ie,fe,...me){if(!0===fe)return void ie();if(!1===fe)return;const z=new N.Hp({next:()=>{z.unsubscribe(),ie()}});return fe(...me).subscribe(z)}},9468:(ht,Ie,F)=>{F.d(Ie,{R:()=>re});var o=F(4482);function re(N,ue=0){return(0,o.e)((ce,pe)=>{pe.add(N.schedule(()=>ce.subscribe(pe),ue))})}},8505:(ht,Ie,F)=>{F.d(Ie,{b:()=>ce});var o=F(576),re=F(4482),N=F(5403),ue=F(4671);function ce(pe,ie,fe){const me=(0,o.m)(pe)||ie||fe?{next:pe,error:ie,complete:fe}:pe;return me?(0,re.e)((z,Y)=>{var ee;null===(ee=me.subscribe)||void 0===ee||ee.call(me);let He=!0;z.subscribe((0,N.x)(Y,ke=>{var Ce;null===(Ce=me.next)||void 0===Ce||Ce.call(me,ke),Y.next(ke)},()=>{var ke;He=!1,null===(ke=me.complete)||void 0===ke||ke.call(me),Y.complete()},ke=>{var Ce;He=!1,null===(Ce=me.error)||void 0===Ce||Ce.call(me,ke),Y.error(ke)},()=>{var ke,Ce;He&&(null===(ke=me.unsubscribe)||void 0===ke||ke.call(me)),null===(Ce=me.finalize)||void 0===Ce||Ce.call(me)}))}):ue.y}},4408:(ht,Ie,F)=>{F.d(Ie,{o:()=>ce});var o=F(727);class re extends o.w0{constructor(ie,fe){super()}schedule(ie,fe=0){return this}}const N={setInterval(pe,ie,...fe){const{delegate:me}=N;return me?.setInterval?me.setInterval(pe,ie,...fe):setInterval(pe,ie,...fe)},clearInterval(pe){const{delegate:ie}=N;return(ie?.clearInterval||clearInterval)(pe)},delegate:void 0};var ue=F(8737);class ce extends re{constructor(ie,fe){super(ie,fe),this.scheduler=ie,this.work=fe,this.pending=!1}schedule(ie,fe=0){if(this.closed)return this;this.state=ie;const me=this.id,z=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(z,me,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(z,this.id,fe),this}requestAsyncId(ie,fe,me=0){return N.setInterval(ie.flush.bind(ie,this),me)}recycleAsyncId(ie,fe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return fe;N.clearInterval(fe)}execute(ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ie,fe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,fe){let z,me=!1;try{this.work(ie)}catch(Y){me=!0,z=Y||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ie,scheduler:fe}=this,{actions:me}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(me,this),null!=ie&&(this.id=this.recycleAsyncId(fe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Ie,F)=>{F.d(Ie,{v:()=>N});var o=F(6063);class re{constructor(ce,pe=re.now){this.schedulerActionCtor=ce,this.now=pe}schedule(ce,pe=0,ie){return new this.schedulerActionCtor(this,ce).schedule(ie,pe)}}re.now=o.l.now;class N extends re{constructor(ce,pe=re.now){super(ce,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:pe}=this;if(this._active)return void pe.push(ce);let ie;this._active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=pe.shift());if(this._active=!1,ie){for(;ce=pe.shift();)ce.unsubscribe();throw ie}}}},4986:(ht,Ie,F)=>{F.d(Ie,{P:()=>ue,z:()=>N});var o=F(4408);const N=new(F(7565).v)(o.o),ue=N},6063:(ht,Ie,F)=>{F.d(Ie,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ht,Ie,F)=>{F.d(Ie,{z:()=>o});const o={setTimeout(re,N,...ue){const{delegate:ce}=o;return ce?.setTimeout?ce.setTimeout(re,N,...ue):setTimeout(re,N,...ue)},clearTimeout(re){const{delegate:N}=o;return(N?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(ht,Ie,F)=>{F.d(Ie,{h:()=>re});const re=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Ie,F)=>{F.d(Ie,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Ie,F)=>{F.d(Ie,{_6:()=>pe,jO:()=>ue,yG:()=>ce});var o=F(576),re=F(3532);function N(ie){return ie[ie.length-1]}function ue(ie){return(0,o.m)(N(ie))?ie.pop():void 0}function ce(ie){return(0,re.K)(N(ie))?ie.pop():void 0}function pe(ie,fe){return"number"==typeof N(ie)?ie.pop():fe}},8737:(ht,Ie,F)=>{function o(re,N){if(re){const ue=re.indexOf(N);0<=ue&&re.splice(ue,1)}}F.d(Ie,{P:()=>o})},3888:(ht,Ie,F)=>{function o(re){const ue=re(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}F.d(Ie,{d:()=>o})},2806:(ht,Ie,F)=>{F.d(Ie,{O:()=>ue,x:()=>N});var o=F(2416);let re=null;function N(ce){if(o.v.useDeprecatedSynchronousErrorHandling){const pe=!re;if(pe&&(re={errorThrown:!1,error:null}),ce(),pe){const{errorThrown:ie,error:fe}=re;if(re=null,ie)throw fe}}else ce()}function ue(ce){o.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ce)}},9672:(ht,Ie,F)=>{function o(re,N,ue,ce=0,pe=!1){const ie=N.schedule(function(){ue(),pe?re.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(re.add(ie),!pe)return ie}F.d(Ie,{f:()=>o})},4671:(ht,Ie,F)=>{function o(re){return re}F.d(Ie,{y:()=>o})},1144:(ht,Ie,F)=>{F.d(Ie,{z:()=>o});const o=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(ht,Ie,F)=>{F.d(Ie,{D:()=>re});var o=F(576);function re(N){return Symbol.asyncIterator&&(0,o.m)(N?.[Symbol.asyncIterator])}},576:(ht,Ie,F)=>{function o(re){return"function"==typeof re}F.d(Ie,{m:()=>o})},3670:(ht,Ie,F)=>{F.d(Ie,{c:()=>N});var o=F(8822),re=F(576);function N(ue){return(0,re.m)(ue[o.L])}},6495:(ht,Ie,F)=>{F.d(Ie,{T:()=>N});var o=F(2202),re=F(576);function N(ue){return(0,re.m)(ue?.[o.h])}},8239:(ht,Ie,F)=>{F.d(Ie,{t:()=>re});var o=F(576);function re(N){return(0,o.m)(N?.then)}},3260:(ht,Ie,F)=>{F.d(Ie,{L:()=>ue,Q:()=>N});var o=F(655),re=F(576);function N(ce){return(0,o.FC)(this,arguments,function*(){const ie=ce.getReader();try{for(;;){const{value:fe,done:me}=yield(0,o.qq)(ie.read());if(me)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(fe)}}finally{ie.releaseLock()}})}function ue(ce){return(0,re.m)(ce?.getReader)}},3532:(ht,Ie,F)=>{F.d(Ie,{K:()=>re});var o=F(576);function re(N){return N&&(0,o.m)(N.schedule)}},4482:(ht,Ie,F)=>{F.d(Ie,{A:()=>re,e:()=>N});var o=F(576);function re(ue){return(0,o.m)(ue?.lift)}function N(ue){return ce=>{if(re(ce))return ce.lift(function(pe){try{return ue(pe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Ie,F)=>{function o(){}F.d(Ie,{Z:()=>o})},9635:(ht,Ie,F)=>{F.d(Ie,{U:()=>N,z:()=>re});var o=F(4671);function re(...ue){return N(ue)}function N(ue){return 0===ue.length?o.y:1===ue.length?ue[0]:function(pe){return ue.reduce((ie,fe)=>fe(ie),pe)}}},7849:(ht,Ie,F)=>{F.d(Ie,{h:()=>N});var o=F(2416),re=F(3410);function N(ue){re.z.setTimeout(()=>{const{onUnhandledError:ce}=o.v;if(!ce)throw ue;ce(ue)})}},4532:(ht,Ie,F)=>{function o(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>o})},655:(ht,Ie,F)=>{function ue(X,le){var se={};for(var ve in X)Object.prototype.hasOwnProperty.call(X,ve)&&le.indexOf(ve)<0&&(se[ve]=X[ve]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ve=Object.getOwnPropertySymbols(X);he<ve.length;he++)le.indexOf(ve[he])<0&&Object.prototype.propertyIsEnumerable.call(X,ve[he])&&(se[ve[he]]=X[ve[he]])}return se}function fe(X,le,se,ve){return new(se||(se=Promise))(function(Pe,yt){function en(yn){try{et(ve.next(yn))}catch(si){yt(si)}}function Kt(yn){try{et(ve.throw(yn))}catch(si){yt(si)}}function et(yn){yn.done?Pe(yn.value):function he(Pe){return Pe instanceof se?Pe:new se(function(yt){yt(Pe)})}(yn.value).then(en,Kt)}et((ve=ve.apply(X,le||[])).next())})}function ye(X){return this instanceof ye?(this.v=X,this):new ye(X)}function ge(X,le,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ve=se.apply(X,le||[]),Pe=[];return he={},yt("next"),yt("throw"),yt("return"),he[Symbol.asyncIterator]=function(){return this},he;function yt(En){ve[En]&&(he[En]=function(hn){return new Promise(function(ir,an){Pe.push([En,hn,ir,an])>1||en(En,hn)})})}function en(En,hn){try{!function Kt(En){En.value instanceof ye?Promise.resolve(En.value.v).then(et,yn):si(Pe[0][2],En)}(ve[En](hn))}catch(ir){si(Pe[0][3],ir)}}function et(En){en("next",En)}function yn(En){en("throw",En)}function si(En,hn){En(hn),Pe.shift(),Pe.length&&en(Pe[0][0],Pe[0][1])}}function dt(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,le=X[Symbol.asyncIterator];return le?le.call(X):(X=function ee(X){var le="function"==typeof Symbol&&Symbol.iterator,se=le&&X[le],ve=0;if(se)return se.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ve>=X.length&&(X=void 0),{value:X&&X[ve++],done:!X}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),se={},ve("next"),ve("throw"),ve("return"),se[Symbol.asyncIterator]=function(){return this},se);function ve(Pe){se[Pe]=X[Pe]&&function(yt){return new Promise(function(en,Kt){!function he(Pe,yt,en,Kt){Promise.resolve(Kt).then(function(et){Pe({value:et,done:en})},yt)}(en,Kt,(yt=X[Pe](yt)).done,yt.value)})}}}F.d(Ie,{FC:()=>ge,KL:()=>dt,_T:()=>ue,mG:()=>fe,qq:()=>ye})},4650:(ht,Ie,F)=>{F.d(Ie,{$8M:()=>Oa,$Z:()=>fv,AFp:()=>Sg,ALo:()=>pE,AaK:()=>fe,BQk:()=>Kc,CHM:()=>wa,CRH:()=>Cy,CZH:()=>iu,CqO:()=>na,D6c:()=>f0,DdM:()=>rA,EJc:()=>LO,EiD:()=>Bu,EpF:()=>Dh,F$t:()=>HT,F4k:()=>Zc,FYo:()=>Ct,FiY:()=>Se,G48:()=>zy,Gf:()=>Oh,GfV:()=>jf,GkF:()=>od,Gpc:()=>Y,Gre:()=>gI,Hsn:()=>VT,Ikx:()=>Th,JOm:()=>Qs,JVY:()=>If,Jzz:()=>_I,KtG:()=>Fs,L6k:()=>Zi,LAX:()=>Ha,LFG:()=>Cn,LSH:()=>fs,Lbi:()=>HE,Lck:()=>XI,MAs:()=>NT,MMx:()=>ay,NdJ:()=>zl,O4$:()=>Od,OlP:()=>Jt,Oqu:()=>Aw,PXZ:()=>WE,Q6J:()=>bs,QGY:()=>sd,QP$:()=>fd,QbO:()=>Xa,Qsj:()=>Gi,R0b:()=>Io,RDi:()=>mt,Rgc:()=>pg,SBq:()=>Le,Sil:()=>TA,Suo:()=>by,TTD:()=>Pr,TgZ:()=>ng,Udp:()=>Dw,WFA:()=>Cs,X6Q:()=>FA,XFs:()=>wt,Xpm:()=>V,Xts:()=>Zd,Y36:()=>uh,YKP:()=>Xc,YNc:()=>OT,Yjl:()=>Yt,Yz7:()=>hn,ZZ4:()=>Fg,_Bn:()=>eE,_UZ:()=>yw,_Vd:()=>O,_c5:()=>Zy,_uU:()=>lI,aQg:()=>Lg,c2e:()=>NO,cJS:()=>an,cg1:()=>Ht,d8E:()=>ad,dDg:()=>YE,deG:()=>Ic,dqk:()=>qe,eBb:()=>Ks,eFA:()=>ZE,ekj:()=>Tw,eoX:()=>Uy,f3M:()=>Ou,g9A:()=>Rp,h0i:()=>Pi,hGG:()=>h0,hij:()=>Yv,iGM:()=>gA,ifc:()=>tn,ip1:()=>md,kL8:()=>qv,kYT:()=>Sn,kcU:()=>Tu,lG2:()=>Fi,lnq:()=>Mw,lqb:()=>Pt,lri:()=>Nh,mCW:()=>hs,n5z:()=>Ud,n_E:()=>fg,oAB:()=>ft,oxw:()=>bw,pB0:()=>Vo,q3G:()=>In,q4F:()=>ps,qLn:()=>nh,qOj:()=>Bv,qZA:()=>Gv,qzn:()=>Xe,rWj:()=>Fh,s9C:()=>Cw,sBO:()=>BA,sIi:()=>pp,s_b:()=>eu,soG:()=>Tg,tb:()=>xy,tp0:()=>ut,uIk:()=>Uv,vHH:()=>Ce,vpe:()=>ws,wAp:()=>_t,xi3:()=>gy,xp6:()=>ip,ynx:()=>qo,z2F:()=>xg,z3N:()=>_n,zSh:()=>Hf,zs3:()=>Bc});var o=F(7579),re=F(727),N=F(9751),ue=F(6451),ce=F(3099);function pe(a){for(let l in a)if(a[l]===pe)return l;throw Error("Could not find renamed property on target object.")}function ie(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function me(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const z=pe({__forward_ref__:pe});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return fe(this())},a}function ee(a){return He(a)?a():a}function He(a){return"function"==typeof a&&a.hasOwnProperty(z)&&a.__forward_ref__===Y}class Ce extends Error{constructor(l,c){super(function at(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function ye(a){return"string"==typeof a?a:null==a?"":String(a)}function _e(a,l){throw new Ce(-201,!1)}function Kt(a,l){null==a&&function et(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function hn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function an(a){return{providers:a.providers||[],imports:a.imports||[]}}function Zt(a){return po(a,mo)||po(a,vr)}function po(a,l){return a.hasOwnProperty(l)?a[l]:null}function _r(a){return a&&(a.hasOwnProperty(ts)||a.hasOwnProperty(Zr))?a[ts]:null}const mo=pe({\u0275prov:pe}),ts=pe({\u0275inj:pe}),vr=pe({ngInjectableDef:pe}),Zr=pe({ngInjectorDef:pe});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let yr;function Yn(a){const l=yr;return yr=a,l}function go(a,l,c){const d=Zt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&wt.Optional?null:void 0!==l?l:void _e(fe(a))}function Qn(a){return{toString:a}.toString()}var _i=(()=>((_i=_i||{})[_i.OnPush=0]="OnPush",_i[_i.Default=1]="Default",_i))(),tn=(()=>{return(a=tn||(tn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",tn;var a})();const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Di={},xt=[],Rr=pe({\u0275cmp:pe}),Ti=pe({\u0275dir:pe}),Qr=pe({\u0275pipe:pe}),gn=pe({\u0275mod:pe}),br=pe({\u0275fac:pe}),G=pe({__NG_ELEMENT_ID__:pe});let W=0;function V(a){return Qn(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===_i.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||xt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c"+W++,styles:a.styles||xt,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,b=a.features;return f.inputs=ln(a.inputs,d),f.outputs=ln(a.outputs),b&&b.forEach(E=>E(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map($).filter(Me):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(vi).filter(Me):null,f})}function $(a){return Vt(a)||Ln(a)}function Me(a){return null!==a}const Ge={};function ft(a){return Qn(()=>{const l={type:a.type,bootstrap:a.bootstrap||xt,declarations:a.declarations||xt,imports:a.imports||xt,exports:a.exports||xt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Ge[a.id]=a.type),l})}function Sn(a,l){return Qn(()=>{const c=qi(a,!0);c.declarations=l.declarations||xt,c.imports=l.imports||xt,c.exports=l.exports||xt})}function ln(a,l){if(null==a)return Di;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const Fi=V;function Yt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Vt(a){return a[Rr]||null}function Ln(a){return a[Ti]||null}function vi(a){return a[Qr]||null}function qi(a,l){const c=a[gn]||null;if(!c&&!0===l)throw new Error(`Type ${fe(a)} does not have '\u0275mod' property.`);return c}function Mn(a){return Array.isArray(a)&&"object"==typeof a[1]}function Cr(a){return Array.isArray(a)&&!0===a[1]}function hl(a){return 0!=(8&a.flags)}function fl(a){return 2==(2&a.flags)}function vo(a){return 1==(1&a.flags)}function wr(a){return null!==a.template}function ks(a){return 0!=(256&a[2])}function os(a,l){return a.hasOwnProperty(br)?a[br]:null}class vu{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Pr(){return ss}function ss(a){return a.type.prototype.ngOnChanges&&(a.setInput=yu),va}function va(){const a=gl(this),l=a?.current;if(l){const c=a.previous;if(c===Di)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function yu(a,l,c,d){const f=gl(a)||function cf(a,l){return a[ml]=l}(a,{previous:Di,current:null}),g=f.current||(f.current={}),b=f.previous,E=this.declaredInputs[c],S=b[E];g[E]=new vu(S&&S.currentValue,l,b===Di),a[d]=l}Pr.ngInherit=!0;const ml="__ngSimpleChanges__";function gl(a){return a[ml]||null}function Xn(a){for(;Array.isArray(a);)a=a[0];return a}function vl(a,l){return Xn(l[a])}function bi(a,l){return Xn(l[a.index])}function xs(a,l){return a.data[l]}function as(a,l){return a[l]}function Ii(a,l){const c=l[a];return Mn(c)?c:c[0]}function Os(a){return 4==(4&a[2])}function No(a){return 64==(64&a[2])}function Nr(a,l){return null==l?null:a[l]}function ls(a){a[18]=0}function yl(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const rt={lFrame:pc(null),bindingsEnabled:!0};function Ns(){return rt.bindingsEnabled}function Te(){return rt.lFrame.lView}function Gt(){return rt.lFrame.tView}function wa(a){return rt.lFrame.contextLView=a,a[8]}function Fs(a){return rt.lFrame.contextLView=null,a}function $n(){let a=Ea();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ea(){return rt.lFrame.currentTNode}function Fr(a,l){const c=rt.lFrame;c.currentTNode=a,c.isParent=l}function bl(){return rt.lFrame.isParent}function Sa(){rt.lFrame.isParent=!1}function Ai(){const a=rt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Bs(){return rt.lFrame.bindingIndex++}function eo(a){const l=rt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Ta(a,l){const c=rt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Ia(l)}function Ia(a){rt.lFrame.currentDirectiveIndex=a}function Aa(a){const l=rt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function fc(){return rt.lFrame.currentQueryIndex}function Cl(a){rt.lFrame.currentQueryIndex=a}function Eu(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Ma(a,l,c){if(c&wt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&wt.Host||(f=Eu(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=rt.lFrame=Su();return d.currentTNode=l,d.lView=a,!0}function wl(a){const l=Su(),c=a[1];rt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Su(){const a=rt.lFrame,l=null===a?null:a.child;return null===l?pc(a):l}function pc(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function mc(){const a=rt.lFrame;return rt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const gc=mc;function _c(){const a=mc();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ci(){return rt.lFrame.selectedIndex}function Lo(a){rt.lFrame.selectedIndex=a}function bn(){const a=rt.lFrame;return xs(a.tView,a.selectedIndex)}function Od(){rt.lFrame.currentNamespace="svg"}function Tu(){!function ff(){rt.lFrame.currentNamespace=null}()}function Nd(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:A,ngOnDestroy:x}=g;b&&(a.contentHooks||(a.contentHooks=[])).push(-c,b),E&&((a.contentHooks||(a.contentHooks=[])).push(c,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,E)),S&&(a.viewHooks||(a.viewHooks=[])).push(-c,S),A&&((a.viewHooks||(a.viewHooks=[])).push(c,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,A)),null!=x&&(a.destroyHooks||(a.destroyHooks=[])).push(c,x)}}function mf(a,l,c){Us(a,l,3,c)}function bc(a,l,c,d){(3&a[2])===c&&Us(a,l,c,d)}function Fd(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Us(a,l,c,d){const g=d??-1,b=l.length-1;let E=0;for(let S=void 0!==d?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(E=l[S],null!=d&&E>=d)break}else l[S]<0&&(a[18]+=65536),(E<g||-1==g)&&(Iu(a,c,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Iu(a,l,c,d){const f=c[d]<0,g=c[d+1],E=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class ka{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function js(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],b=c[d++],E=c[d++];a.setAttribute(l,b,E,g)}else{const g=f,b=c[++d];Gs(g)?a.setProperty(l,g,b):a.setAttribute(l,g,b),d++}}return d}function _f(a){return 3===a||4===a||6===a}function Gs(a){return 64===a.charCodeAt(0)}function wc(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||vf(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function vf(a,l,c,d,f){let g=0,b=a.length;if(-1===l)b=-1;else for(;g<a.length;){const E=a[g++];if("number"==typeof E){if(E===l){b=-1;break}if(E>l){b=g-1;break}}}for(;g<a.length;){const E=a[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==b&&(a.splice(b,0,l),g=b+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function yf(a){return-1!==a}function El(a){return 32767&a}function cs(a,l){let c=function to(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let Sl=!0;function no(a){const l=Sl;return Sl=a,l}let zt=0;const Ae={};function Hn(a,l){const c=ar(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Ki(d.data,a),Ki(l,null),Ki(d.blueprint,null));const f=Wn(a,l),g=a.injectorIndex;if(yf(f)){const b=El(f),E=cs(f,l),S=E[1].data;for(let A=0;A<8;A++)l[g+A]=E[b+A]|S[b+A]}return l[g+8]=f,g}function Ki(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ar(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Wn(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=ds(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Rn(a,l,c){!function ui(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(G)&&(d=c[G]),null==d&&(d=c[G]=zt++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function ot(a,l,c){if(c&wt.Optional)return a;_e()}function us(a,l,c,d){if(c&wt.Optional&&void 0===d&&(d=null),0==(c&(wt.Self|wt.Host))){const f=a[9],g=Yn(void 0);try{return f?f.get(l,d,c&wt.Optional):go(l,d,c&wt.Optional)}finally{Yn(g)}}return ot(d,0,c)}function Ec(a,l,c,d=wt.Default,f){if(null!==a){if(1024&l[2]){const b=function Hd(a,l,c,d,f){let g=a,b=l;for(;null!==g&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=ki(g,b,c,d|wt.Self,Ae);if(E!==Ae)return E;let S=g.parent;if(!S){const A=b[21];if(A){const x=A.get(c,Ae,d);if(x!==Ae)return x}S=ds(b),b=b[15]}g=S}return f}(a,l,c,d,Ae);if(b!==Ae)return b}const g=ki(a,l,c,d,Ae);if(g!==Ae)return g}return us(l,c,d,f)}function ki(a,l,c,d,f){const g=function Sc(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(G)?a[G]:void 0;return"number"==typeof l?l>=0?255&l:yo:l}(c);if("function"==typeof g){if(!Ma(l,a,d))return d&wt.Host?ot(f,0,d):us(l,c,d,f);try{const b=g(d);if(null!=b||d&wt.Optional)return b;_e()}finally{gc()}}else if("number"==typeof g){let b=null,E=ar(a,l),S=-1,A=d&wt.Host?l[16][6]:null;for((-1===E||d&wt.SkipSelf)&&(S=-1===E?Wn(a,l):l[E+8],-1!==S&&Dl(d,!1)?(b=l[1],E=El(S),l=cs(S,l)):E=-1);-1!==E;){const x=l[1];if(Dc(g,E,x.data)){const L=Au(E,l,c,b,d,A);if(L!==Ae)return L}S=l[E+8],-1!==S&&Dl(d,l[1].data[E+8]===A)&&Dc(g,E,l)?(b=x,E=El(S),l=cs(S,l)):E=-1}}return f}function Au(a,l,c,d,f,g){const b=l[1],E=b.data[a+8],x=xa(E,b,c,null==d?fl(E)&&Sl:d!=b&&0!=(3&E.type),f&wt.Host&&g===E);return null!==x?zs(l,b,x,E):Ae}function xa(a,l,c,d,f){const g=a.providerIndexes,b=l.data,E=1048575&g,S=a.directiveStart,x=g>>20,Z=f?E+x:a.directiveEnd;for(let oe=d?E:E+x;oe<Z;oe++){const we=b[oe];if(oe<S&&c===we||oe>=S&&we.type===c)return oe}if(f){const oe=b[S];if(oe&&wr(oe)&&oe.type===c)return S}return null}function zs(a,l,c,d){let f=a[c];const g=l.data;if(function Cc(a){return a instanceof ka}(f)){const b=f;b.resolving&&function nt(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${a}${c}`)}(function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ye(a)}(g[c]));const E=no(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?Yn(b.injectImpl):null;Ma(a,d,wt.Default);try{f=a[c]=b.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function pf(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const b=ss(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==S&&Yn(S),no(E),b.resolving=!1,gc()}}return f}function Dc(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Dl(a,l){return!(a&wt.Self||a&wt.Host&&l)}class Sr{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Ec(this._tNode,this._lView,l,d,c)}}function yo(){return new Sr($n(),Te())}function Ud(a){return Qn(()=>{const l=a.prototype.constructor,c=l[br]||Mu(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[br]||Mu(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Mu(a){return He(a)?()=>{const l=Mu(ee(a));return l&&l()}:os(a)}function ds(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function Oa(a){return function fn(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(_f(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}($n(),a)}const lr="__parameters__";function bo(a,l,c){return Qn(()=>{const d=function Bo(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const b=new f(...g);return E.annotation=b,E;function E(S,A,x){const L=S.hasOwnProperty(lr)?S[lr]:Object.defineProperty(S,lr,{value:[]})[lr];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(b),S}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Jt{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=hn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ic=new Jt("AnalyzeForEntryComponents");function Bi(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Bi(d,l)):l!==a&&l.push(d)}return l}function io(a,l){a.forEach(c=>Array.isArray(c)?io(c,l):l(c))}function Pa(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Tl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function qs(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function cr(a,l,c){let d=wo(a,l);return d>=0?a[1|d]=c:(d=~d,function y_(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Gd(a,l){const c=wo(a,l);if(c>=0)return a[1|c]}function wo(a,l){return function Tn(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),b=a[g<<c];if(l===b)return g<<c;b>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const bt={},ur="__NG_DI_FLAG__",wi="ngTempTokenPath",Eo=/\n/gm,dr="__source";let hr;function di(a){const l=hr;return hr=a,l}function Bt(a,l=wt.Default){if(void 0===hr)throw new Ce(-203,!1);return null===hr?go(a,void 0,l):hr.get(a,l&wt.Optional?null:void 0,l)}function Cn(a,l=wt.Default){return(function ai(){return yr}()||Bt)(ee(a),l)}function Ou(a,l=wt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Cn(a,l)}function T(a){const l=[];for(let c=0;c<a.length;c++){const d=ee(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,g=wt.Default;for(let b=0;b<d.length;b++){const E=d[b],S=R(E);"number"==typeof S?-1===S?f=E.token:g|=S:f=E}l.push(Cn(f,g))}else l.push(Cn(d))}return l}function I(a,l){return a[ur]=l,a.prototype[ur]=l,a}function R(a){return a[ur]}const Se=I(bo("Optional"),8),ut=I(bo("SkipSelf"),4);let Hi,Ne;function mt(a){Hi=a}function Il(a){return function Nu(){if(void 0===Ne&&(Ne=null,qe.trustedTypes))try{Ne=qe.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ne}()?.createHTML(a)||a}class ze{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qt extends ze{getTypeName(){return"HTML"}}class Fe extends ze{getTypeName(){return"Style"}}class Je extends ze{getTypeName(){return"Script"}}class b_ extends ze{getTypeName(){return"URL"}}class gm extends ze{getTypeName(){return"ResourceURL"}}function _n(a){return a instanceof ze?a.changingThisBreaksApplicationSecurity:a}function Xe(a,l){const c=function C_(a){return a instanceof ze&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function If(a){return new Qt(a)}function Zi(a){return new Fe(a)}function Ks(a){return new Je(a)}function Ha(a){return new b_(a)}function Vo(a){return new gm(a)}class Al{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Il(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class w_{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Il(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Il(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Af=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hs(a){return(a=String(a)).match(Af)||a.match(Mf)?a:"unsafe:"+a}function Do(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Ml(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const kf=Do("area,br,col,hr,img,wbr"),qd=Do("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kl=Do("rp,rt"),Rf=Ml(kf,Ml(qd,Do("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ml(kl,Do("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ml(kl,qd)),Rl=Do("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zs=Do("srcset"),Wd=Ml(Rl,Zs,Do("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Do("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Va=Do("script,style,template");class xi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Rf.hasOwnProperty(c))return this.sanitizedSomething=!0,!Va.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),b=g.name,E=b.toLowerCase();if(!Wd.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let S=g.value;Rl[E]&&(S=hs(S)),Zs[E]&&(a=S,S=(a=String(a)).split(",").map(l=>hs(l.trim())).join(", ")),this.buf.push(" ",b,'="',Zn(S),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Rf.hasOwnProperty(c)&&!kf.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Zn(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const xf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lu=/([^\#-~ |!])/g;function Zn(a){return a.replace(/&/g,"&amp;").replace(xf,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Lu,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vi;function Bu(a,l){let c=null;try{Vi=Vi||function Vn(a){const l=new w_(a);return function E_(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch{return!1}}()?new Al(l):l}(a);let d=l?String(l):"";c=Vi.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=Vi.getInertBodyElement(d)}while(d!==g);return Il((new xi).sanitizeChildren(Uu(c)||c))}finally{if(c){const d=Uu(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Uu(a){return"content"in a&&function T_(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function fs(a){const l=function Ol(){const a=Te();return a&&a[12]}();return l?l.sanitize(In.URL,a)||"":Xe(a,"URL")?_n(a):hs(ye(a))}const Zd=new Jt("ENVIRONMENT_INITIALIZER"),jo=new Jt("INJECTOR",-1),Hu=new Jt("INJECTOR_DEF_TYPES");class Nf{get(l,c=bt){if(c===bt){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return c}}function Br(...a){return{\u0275providers:Vu(0,a)}}function Vu(a,...l){const c=[],d=new Set;let f;return io(l,g=>{const b=g;Go(b,c,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&ji(f,c),c}function ji(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];io(f,g=>{l.push(g)})}}function Go(a,l,c,d){if(!(a=ee(a)))return!1;let f=null,g=_r(a);const b=!g&&Vt(a);if(g||b){if(b&&!b.standalone)return!1;f=a}else{const S=a.ngModule;if(g=_r(S),!g)return!1;f=S}const E=d.has(f);if(b){if(E)return!1;if(d.add(f),b.dependencies){const S="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const A of S)Go(A,l,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;d.add(f);try{io(g.imports,x=>{Go(x,l,c,d)&&(A||(A=[]),A.push(x))})}finally{}void 0!==A&&ji(A,l)}if(!E){const A=os(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:xt},{provide:Hu,useValue:f,multi:!0},{provide:Zd,useValue:()=>Cn(f),multi:!0})}const S=g.providers;null==S||E||io(S,x=>{l.push(x)})}}return f!==a&&void 0!==a.providers}const Ff=pe({provide:String,useValue:pe});function Lf(a){return null!==a&&"object"==typeof a&&Ff in a}function Ur(a){return"function"==typeof a}const Hf=new Jt("Set Injector scope."),ju={},ym={};let Pl;function ni(){return void 0===Pl&&(Pl=new Nf),Pl}class Pt{}class ja extends Pt{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oc(l,b=>this.processProvider(b)),this.records.set(jo,Ga(void 0,this)),f.has("environment")&&this.records.set(Pt,Ga(void 0,this));const g=this.records.get(Hf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Hu.multi,xt,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=di(this),d=Yn(void 0);try{return l()}finally{di(c),Yn(d)}}get(l,c=bt,d=wt.Default){this.assertNotDestroyed();const f=di(this),g=Yn(void 0);try{if(!(d&wt.SkipSelf)){let E=this.records.get(l);if(void 0===E){const S=function zu(a){return"function"==typeof a||"object"==typeof a&&a instanceof Jt}(l)&&Zt(l);E=S&&this.injectableDefInScope(S)?Ga(Vf(l),ju):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(d&wt.Self?ni():this.parent).get(l,c=d&wt.Optional&&c===bt?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[wi]=b[wi]||[]).unshift(fe(l)),f)throw b;return function H(a,l,c,d){const f=a[wi];throw l[dr]&&f.unshift(l[dr]),a.message=function J(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let g=[];for(let b in l)if(l.hasOwnProperty(b)){let E=l[b];g.push(b+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Eo,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[wi]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{Yn(g),di(f)}}resolveInjectorInitializers(){const l=di(this),c=Yn(void 0);try{const d=this.get(Zd.multi,xt,wt.Self);for(const f of d)f()}finally{di(l),Yn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(fe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(l){let c=Ur(l=ee(l))?l:ee(l&&l.provide);const d=function Gu(a){return Lf(a)?Ga(void 0,a.useValue):Ga(Xd(a),ju)}(l);if(Ur(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Ga(void 0,ju,!0),f.factory=()=>T(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===ju&&(c.value=ym,c.value=c.factory()),"object"==typeof c.value&&c.value&&function xc(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ee(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Vf(a){const l=Zt(a),c=null!==l?l.factory:os(a);if(null!==c)return c;if(a instanceof Jt)throw new Ce(204,!1);if(a instanceof Function)return function Tr(a){const l=a.length;if(l>0)throw qs(l,"?"),new Ce(204,!1);const c=function Mr(a){const l=a&&(a[mo]||a[vr]);if(l){const c=function Xi(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Ce(204,!1)}function Xd(a,l,c){let d;if(Ur(a)){const f=ee(a);return os(f)||Vf(f)}if(Lf(a))d=()=>ee(a.useValue);else if(function Bf(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...T(a.deps||[]));else if(function Jd(a){return!(!a||!a.useExisting)}(a))d=()=>Cn(ee(a.useExisting));else{const f=ee(a&&(a.useClass||a.provide));if(!function M_(a){return!!a.deps}(a))return os(f)||Vf(f);d=()=>new f(...T(a.deps))}return d}function Ga(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function bm(a){return!!a.\u0275providers}function Oc(a,l){for(const c of a)Array.isArray(c)?Oc(c,l):bm(c)?Oc(c.\u0275providers,l):l(c)}class y{}class M{resolveComponentFactory(l){throw function m(a){const l=Error(`No component factory found for ${fe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let O=(()=>{class a{}return a.NULL=new M,a})();function Q(){return de($n(),Te())}function de(a,l){return new Le(bi(a,l))}let Le=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Q,a})();function it(a){return a instanceof Le?a.nativeElement:a}class Ct{}let Gi=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function so(){const a=Te(),c=Ii($n().index,a);return(Mn(c)?c:a)[11]}(),a})(),Nl=(()=>{class a{}return a.\u0275prov=hn({token:a,providedIn:"root",factory:()=>null}),a})();class jf{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ps=new jf("14.1.0"),Pc={};function L_(a){return a.ngOriginalError}class nh{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&L_(l);for(;c&&L_(c);)c=L_(c);return c||null}}const U_=new Map;let wD=0;const j_="__ngContext__";function Ir(a,l){Mn(l)?(a[j_]=l[20],function SD(a){U_.set(a[20],a)}(l)):a[j_]=l}function qu(a){const l=a[j_];return"number"==typeof l?function aC(a){return U_.get(a)||null}(l):l||null}function qf(a){const l=qu(a);return l?Mn(l)?l:l.lView:null}const uC=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(qe))();function Bl(a){return a instanceof Function?a():a}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function W_(a,l){return undefined(a,l)}function Zf(a){const l=a[3];return Cr(l)?l[3]:l}function Dm(a){return RD(a[13])}function fC(a){return RD(a[4])}function RD(a){for(;null!==a&&!Cr(a);)a=a[4];return a}function Qf(a,l,c,d,f){if(null!=d){let g,b=!1;Cr(d)?g=d:Mn(d)&&(b=!0,d=d[0]);const E=Xn(d);0===a&&null!==c?null==f?sh(l,c,E):Js(l,c,E,f||null,!0):1===a&&null!==c?Js(l,c,E,f||null,!0):2===a?function SC(a,l,c){const d=Im(a,l);d&&function ND(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,E,b):3===a&&l.destroyNode(E),null!=g&&function TC(a,l,c,d,f){const g=c[7];g!==Xn(c)&&Qf(l,a,d,g,f);for(let E=10;E<c.length;E++){const S=c[E];ep(S[1],S,a,l,d,g)}}(l,a,g,c,f)}}function Q_(a,l,c){return a.createElement(l,c)}function X_(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,yl(f,-1)),c.splice(d,1)}function oh(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&X_(f,d),l>0&&(a[c-1][4]=d[4]);const g=Tl(a,10+l);!function J_(a,l){ep(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const b=g[19];null!==b&&b.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function _C(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&ep(a,l,c,3,null,null),function gC(a){let l=a[13];if(!l)return ev(a[1],a);for(;l;){let c=null;if(Mn(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Mn(l)&&ev(l[1],l),l=l[3];null===l&&(l=a),Mn(l)&&ev(l[1],l),c=l&&l[4]}l=c}}(l)}}function ev(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Xf(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof ka)){const g=c[d+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const E=f[g[b]],S=g[b+1];try{S.call(E)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function Tm(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const b=c[g+1],E="function"==typeof b?b(l):Xn(l[b]),S=d[f=c[g+2]],A=c[g+3];"boolean"==typeof A?E.removeEventListener(c[g],S,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),g+=2}else{const b=d[f=c[g+1]];c[g].call(b)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&Cr(l[3])){c!==l[3]&&X_(c,l);const d=l[19];null!==d&&d.detachView(a)}!function DD(a){U_.delete(a[20])}(l)}}function vC(a,l,c){return function yC(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return bi(d,c)}(a,l.parent,c)}function Js(a,l,c,d,f){a.insertBefore(l,c,d,f)}function sh(a,l,c){a.appendChild(l,c)}function bC(a,l,c,d,f){null!==d?Js(a,l,c,d,f):sh(a,l,c)}function Im(a,l){return a.parentNode(l)}function CC(a,l,c){return wC(a,l,c)}let wC=function LD(a,l,c){return 40&a.type?bi(a,c):null};function Am(a,l,c,d){const f=vC(a,d,l),g=l[11],E=CC(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let S=0;S<c.length;S++)bC(g,f,c[S],E,!1);else bC(g,f,c,E,!1)}function Mm(a,l){if(null!==l){const c=l.type;if(3&c)return bi(l,a);if(4&c)return tv(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Mm(a,d);{const f=a[l.index];return Cr(f)?tv(-1,f):Xn(f)}}if(32&c)return W_(l,a)()||Xn(a[l.index]);{const d=EC(a,l);return null!==d?Array.isArray(d)?d[0]:Mm(Zf(a[16]),d):Mm(a,l.next)}}return null}function EC(a,l){return null!==l?a[16][6].projection[l.projection]:null}function tv(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Mm(d,f)}return l[7]}function nv(a,l,c,d,f,g,b){for(;null!=c;){const E=d[c.index],S=c.type;if(b&&0===l&&(E&&Ir(Xn(E),d),c.flags|=4),64!=(64&c.flags))if(8&S)nv(a,l,c.child,d,f,g,!1),Qf(l,a,f,E,g);else if(32&S){const A=W_(c,d);let x;for(;x=A();)Qf(l,a,f,x,g);Qf(l,a,f,E,g)}else 16&S?DC(a,l,d,c,f,g):Qf(l,a,f,E,g);c=b?c.projectionNext:c.next}}function ep(a,l,c,d,f,g){nv(c,d,a.firstChild,l,f,g,!1)}function DC(a,l,c,d,f,g){const b=c[16],S=b[6].projection[d.projection];if(Array.isArray(S))for(let A=0;A<S.length;A++)Qf(l,a,f,S[A],g);else nv(a,l,S,b[3],f,g,!0)}function km(a,l,c){a.setAttribute(l,"style",c)}function Rm(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function xm(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const IC="ng-template";function HD(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==xm(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function AC(a){return 4===a.type&&a.value!==IC}function VD(a,l,c){return l===(4!==a.type||c?a.value:IC)}function Om(a,l,c){let d=4;const f=a.attrs||[],g=function kC(a){for(let l=0;l<a.length;l++)if(_f(a[l]))return l;return a.length}(f);let b=!1;for(let E=0;E<l.length;E++){const S=l[E];if("number"!=typeof S){if(!b)if(4&d){if(d=2|1&d,""!==S&&!VD(a,S,c)||""===S&&1===l.length){if(gs(d))return!1;b=!0}}else{const A=8&d?S:l[++E];if(8&d&&null!==a.attrs){if(!HD(a.attrs,A,c)){if(gs(d))return!1;b=!0}continue}const L=MC(8&d?"class":S,f,AC(a),c);if(-1===L){if(gs(d))return!1;b=!0;continue}if(""!==A){let Z;Z=L>g?"":f[L+1].toLowerCase();const oe=8&d?Z:null;if(oe&&-1!==xm(oe,A,0)||2&d&&A!==Z){if(gs(d))return!1;b=!0}}}}else{if(!b&&!gs(d)&&!gs(S))return!1;if(b&&gs(S))continue;b=!1,d=S|1&d}}return gs(d)||b}function gs(a){return 0==(1&a)}function MC(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)g=!0;else{if(1===b||2===b){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=g?1:2}return-1}return function np(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function tp(a,l,c=!1){for(let d=0;d<l.length;d++)if(Om(a,l[d],c))return!0;return!1}function RC(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function xC(a,l){return a?":not("+l.trim()+")":l}function jD(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let b=a[c];if("string"==typeof b)if(2&d){const E=a[++c];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!gs(b)&&(l+=xC(g,f),f=""),d=b,g=g||!gs(d);c++}return""!==f&&(l+=xC(g,f)),l}const jt={};function ip(a){OC(Gt(),Te(),Ci()+a,!1)}function OC(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&mf(l,g,c)}else{const g=a.preOrderHooks;null!==g&&bc(l,g,0,c)}Lo(c)}function rv(a,l=null,c=null,d){const f=ov(a,l,c,d);return f.resolveInjectorInitializers(),f}function ov(a,l=null,c=null,d,f=new Set){const g=[c||xt,Br(a)];return d=d||("object"==typeof a?void 0:fe(a)),new ja(g,l||ni(),d||null,f)}let Bc=(()=>{class a{static create(c,d){if(Array.isArray(c))return rv({name:""},d,c,"");{const f=c.name??"";return rv({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=bt,a.NULL=new Nf,a.\u0275prov=hn({token:a,providedIn:"any",factory:()=>Cn(jo)}),a.__NG_ELEMENT_ID__=-1,a})();function uh(a,l=wt.Default){const c=Te();return null===c?Cn(a,l):Ec($n(),c,ee(a),l)}function fv(){throw new Error("invalid")}function pv(a,l){return a<<17|l<<2}function _s(a){return a>>17&32767}function Xs(a){return 2|a}function Uc(a){return(131068&a)>>2}function sp(a,l){return-131069&a|l<<2}function Fm(a){return 1|a}function ew(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const b=a.data[g];Cl(f),b.contentQueries(2,l[g],g)}}}function Vm(a,l,c,d,f,g,b,E,S,A,x){const L=l.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==x||a&&1024&a[2])&&(L[2]|=1024),ls(L),L[3]=L[15]=a,L[8]=c,L[10]=b||a&&a[10],L[11]=E||a&&a[11],L[12]=S||a&&a[12]||null,L[9]=A||a&&a[9]||null,L[6]=g,L[20]=function ED(){return wD++}(),L[21]=x,L[16]=2==l.type?a[16]:L,L}function zc(a,l,c,d,f){let g=a.data[l];if(null===g)g=function Ev(a,l,c,d,f){const g=Ea(),b=bl(),S=a.data[l]=function bT(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=S),null!==g&&(b?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}(a,l,c,d,f),function Rd(){return rt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const b=function Ls(){const a=rt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Fr(g,!0),g}function fh(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Wu(a,l,c){wl(l);try{const d=a.viewQuery;null!==d&&Nv(1,d,c);const f=a.template;null!==f&&Dv(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&ew(a,l),a.staticViewQueries&&Nv(2,a.viewQuery,c);const g=a.components;null!==g&&function vT(a,l){for(let c=0;c<l.length;c++)iw(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,_c()}}function ap(a,l,c,d){const f=l[2];if(128!=(128&f)){wl(l);try{ls(l),function wu(a){return rt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&Dv(a,l,c,2,d);const b=3==(3&f);if(b){const A=a.preOrderCheckHooks;null!==A&&mf(l,A,null)}else{const A=a.preOrderHooks;null!==A&&bc(l,A,0,null),Fd(l,0)}if(function wT(a){for(let l=Dm(a);null!==l;l=fC(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(512&f[2])&&yl(g,1),f[2]|=512}}}(l),function vh(a){for(let l=Dm(a);null!==l;l=fC(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];No(d)&&ap(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&ew(a,l),b){const A=a.contentCheckHooks;null!==A&&mf(l,A)}else{const A=a.contentHooks;null!==A&&bc(l,A,1),Fd(l,1)}!function XC(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Lo(~f);else{const g=f,b=c[++d],E=c[++d];Ta(b,g),E(2,l[g])}}}finally{Lo(-1)}}(a,l);const E=a.components;null!==E&&function _T(a,l){for(let c=0;c<l.length;c++)nw(a,l[c])}(l,E);const S=a.viewQuery;if(null!==S&&Nv(2,S,d),b){const A=a.viewCheckHooks;null!==A&&mf(l,A)}else{const A=a.viewHooks;null!==A&&bc(l,A,2),Fd(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,yl(l[3],-1))}finally{_c()}}}function Sv(a,l,c,d){const f=l[10],b=Os(l);try{!b&&f.begin&&f.begin(),b&&Wu(a,l,d),ap(a,l,c,d)}finally{!b&&f.end&&f.end()}}function Dv(a,l,c,d,f){const g=Ci(),b=2&d;try{Lo(-1),b&&l.length>22&&OC(a,l,22,!1),c(d,f)}finally{Lo(g)}}function ph(a,l,c){if(hl(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const b=a.data[g];b.contentQueries&&b.contentQueries(1,c[g],g)}}}function Tv(a,l,c){!Ns()||(function CT(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||Hn(c,l),Ir(d,l);const b=c.initialInputs;for(let E=f;E<g;E++){const S=a.data[E],A=wr(S);A&&Hl(l,c,S);const x=zs(l,a,E,c);Ir(x,l),null!==b&&tw(0,E-f,x,S,0,b),A&&(Ii(c.index,l)[8]=x)}}(a,l,c,bi(c,l)),128==(128&c.flags)&&function cp(a,l,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,b=function hf(){return rt.lFrame.currentDirectiveIndex}();try{Lo(g);for(let E=d;E<f;E++){const S=a.data[E],A=l[E];Ia(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&zo(S,A)}}finally{Lo(-1),Ia(b)}}(a,l,c))}function Qi(a,l,c=bi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const b=d[g+1],E=-1===b?c(l,a):a[b];a[f++]=E}}}function Iv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=jm(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function jm(a,l,c,d,f,g,b,E,S,A){const x=22+d,L=x+f,Z=function yT(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:jt);return c}(x,L),oe="function"==typeof A?A():A;return Z[1]={type:a,blueprint:Z,template:c,queries:null,viewQuery:E,declTNode:l,data:Z.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:oe,incompleteFirstPass:!1}}function Av(a,l,c,d){const f=sw(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&aw(a).push(d,f.length-1))}function mh(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function vs(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,b=[];let E=null,S=null;for(let A=l.directiveStart;A<d;A++){const x=f[A],L=x.inputs,Z=null===g||AC(l)?null:Rv(L,g);b.push(Z),E=mh(L,A,E),S=mh(x.outputs,A,S)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=E,l.outputs=S}function Hr(a,l,c,d,f,g,b,E){const S=bi(l,c);let x,A=l.inputs;!E&&null!=A&&(x=A[d])?(Zu(a,c,x,d,f),fl(l)&&gh(c,l.index)):3&l.type&&(d=function Ku(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=b?b(f,l.value||"",d):f,g.setProperty(S,d,f))}function gh(a,l){const c=Ii(l,a);16&c[2]||(c[2]|=32)}function Vr(a,l,c,d){let f=!1;if(Ns()){const g=function up(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const b=d[g];tp(c,b.selectors,!1)&&(f||(f=[]),Rn(Hn(c,l),a,b.type),wr(b)?(zm(a,c),f.unshift(b)):f.push(b))}return f}(a,l,c),b=null===d?null:{"":-1};if(null!==g){f=!0,qm(c,a.data.length,g.length);for(let x=0;x<g.length;x++){const L=g[x];L.providersResolver&&L.providersResolver(L)}let E=!1,S=!1,A=fh(a,l,g.length,null);for(let x=0;x<g.length;x++){const L=g[x];c.mergedAttrs=wc(c.mergedAttrs,L.hostAttrs),kv(a,c,l,A,L),Ym(A,L,b),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const Z=L.type.prototype;!E&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),E=!0),!S&&(Z.ngOnChanges||Z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),S=!0),A++}vs(a,c)}b&&function Mv(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new Ce(-301,!1);d.push(l[f],g)}}}(c,d,b)}return c.mergedAttrs=wc(c.mergedAttrs,c.attrs),f}function Ul(a,l,c,d,f,g){const b=g.hostBindings;if(b){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const S=~l.index;(function ea(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(E)!=S&&E.push(S),E.push(d,f,b)}}function zo(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function zm(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Ym(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;wr(l)&&(c[""]=a)}}function qm(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function kv(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=os(f.type)),b=new ka(g,wr(f),uh);a.blueprint[d]=b,c[d]=b,Ul(a,l,0,d,fh(a,c,f.hostVars,jt),f)}function Hl(a,l,c){const d=bi(l,a),f=Iv(c),g=a[10],b=Wm(a,Vm(a,f,null,c.onPush?32:16,d,l,g,g.createRenderer(d,c),null,null,null));a[l.index]=b}function Ei(a,l,c,d,f,g){const b=bi(a,l);!function $m(a,l,c,d,f,g,b){if(null==g)a.removeAttribute(l,f,c);else{const E=null==b?ye(g):b(g,d||"",f);a.setAttribute(l,f,E,c)}}(l[11],b,g,a.value,c,d,f)}function tw(a,l,c,d,f,g){const b=g[l];if(null!==b){const E=d.setInput;for(let S=0;S<b.length;){const A=b[S++],x=b[S++],L=b[S++];null!==E?d.setInput(c,L,A,x):c[x]=L}}}function Rv(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function _h(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function nw(a,l){const c=Ii(l,a);if(No(c)){const d=c[1];48&c[2]?ap(d,c,d.template,c[8]):c[5]>0&&xv(c)}}function xv(a){for(let d=Dm(a);null!==d;d=fC(d))for(let f=10;f<d.length;f++){const g=d[f];if(512&g[2]){const b=g[1];ap(b,g,b.template,g[8])}else g[5]>0&&xv(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Ii(c[d],a);No(f)&&f[5]>0&&xv(f)}}function iw(a,l){const c=Ii(l,a),d=c[1];(function ET(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Wu(d,c,c[8])}function Wm(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Ov(a){for(;a;){a[2]|=32;const l=Zf(a);if(ks(a)&&!l)return a;a=l}return null}function ow(a){!function rw(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=qf(c);if(null!==d){const f=d[1];Sv(f,d,f.template,c)}}}(a[8])}function Nv(a,l,c){Cl(0),l(a,c)}const Fv=(()=>Promise.resolve(null))();function sw(a){return a[7]||(a[7]=[])}function aw(a){return a.cleanup||(a.cleanup=[])}function lw(a,l,c){return(null===a||wr(a))&&(c=function Md(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Km(a,l){const c=a[9],d=c?c.get(nh,null):null;d&&d.handleError(l)}function Zu(a,l,c,d,f){for(let g=0;g<c.length;){const b=c[g++],E=c[g++],S=l[b],A=a.data[b];null!==A.setInput?A.setInput(S,f,d,E):S[E]=f}}function Vl(a,l,c){const d=vl(l,a);!function pC(a,l,c){a.setValue(l,c)}(a[11],d,c)}function Qu(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let b=0;b<l.length;b++){const E=l[b];"number"==typeof E?g=E:1==g?f=me(f,E):2==g&&(d=me(d,E+": "+l[++b]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function Zm(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(Xn(g)),Cr(g))for(let E=10;E<g.length;E++){const S=g[E],A=S[1].firstChild;null!==A&&Zm(S[1],S,A,d)}const b=c.type;if(8&b)Zm(a,l,c.child,d);else if(32&b){const E=W_(c,l);let S;for(;S=E();)d.push(S)}else if(16&b){const E=EC(l,c);if(Array.isArray(E))d.push(...E);else{const S=Zf(l[16]);Zm(S[1],S,E,d,!0)}}c=f?c.projectionNext:c.next}return d}class Ju{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Zm(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Cr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(oh(l,d),Tl(c,d))}this._attachedToViewContainer=!1}_C(this._lView[1],this._lView)}onDestroy(l){Av(this._lView[1],this._lView,null,l)}markForCheck(){Ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Pv(a,l,c){const d=l[10];d.begin&&d.begin();try{ap(a,l,a.template,c)}catch(f){throw Km(l,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mC(a,l){ep(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=l}}class Xu extends Ju{constructor(l){super(l),this._view=l}detectChanges(){ow(this._view)}checkNoChanges(){}get context(){return null}}class Yc extends O{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Vt(l);return new dp(c,this.ngModule)}}function cw(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class yh{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Pc,d);return f!==Pc||c===Pc?f:this.parentInjector.get(l,c,d)}}class dp extends y{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function GD(a){return a.map(jD).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return cw(this.componentDef.inputs)}get outputs(){return cw(this.componentDef.outputs)}create(l,c,d,f){let g=(f=f||this.ngModule)instanceof Pt?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const b=g?new yh(l,g):l,E=b.get(Ct,null);if(null===E)throw new Ce(407,!1);const S=b.get(Nl,null),A=E.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",L=d?function Gm(a,l,c){return a.selectRootElement(l,c===tn.ShadowDom)}(A,d,this.componentDef.encapsulation):Q_(E.createRenderer(null,this.componentDef),x,function Qm(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(x)),Z=this.componentDef.onPush?288:272,oe=function AT(a,l){return{components:[],scheduler:a||uC,clean:Fv,playerHandler:l||null,flags:0}}(),we=jm(0,null,null,1,0,null,null,null,null,null),Oe=Vm(null,we,oe,Z,null,null,E,A,S,b,null);let We,st;wl(Oe);try{const Mt=function uw(a,l,c,d,f,g){const b=c[1];c[22]=a;const S=zc(b,22,2,"#host",null),A=S.mergedAttrs=l.hostAttrs;null!==A&&(Qu(S,A,!0),null!==a&&(js(f,a,A),null!==S.classes&&Rm(f,a,S.classes),null!==S.styles&&km(f,a,S.styles)));const x=d.createRenderer(a,l),L=Vm(c,Iv(l),null,l.onPush?32:16,c[22],S,d,x,g||null,null,null);return b.firstCreatePass&&(Rn(Hn(S,c),b,l.type),zm(b,S),qm(S,c.length,1)),Wm(c,L),c[22]=L}(L,this.componentDef,Oe,E,A);if(L)if(d)js(A,L,["ng-version",ps.full]);else{const{attrs:xe,classes:St}=function zD(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!gs(f))break;f=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);xe&&js(A,L,xe),St&&St.length>0&&Rm(A,L,St.join(" "))}if(st=xs(we,22),void 0!==c){const xe=st.projection=[];for(let St=0;St<this.ngContentSelectors.length;St++){const rn=c[St];xe.push(null!=rn?Array.from(rn):null)}}We=function dw(a,l,c,d,f){const g=c[1],b=function lp(a,l,c){const d=$n();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),kv(a,d,l,fh(a,l,1,null),c),vs(a,d));const f=zs(l,a,d.directiveStart,d);Ir(f,l);const g=bi(d,l);return g&&Ir(g,l),f}(g,c,l);if(d.components.push(b),a[8]=b,null!==f)for(const S of f)S(b,l);if(l.contentQueries){const S=$n();l.contentQueries(1,b,S.directiveStart)}const E=$n();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Lo(E.index),Ul(c[1],E,0,E.directiveStart,E.directiveEnd,l),zo(l,b)),b}(Mt,this.componentDef,Oe,oe,[MT]),Wu(we,Oe,null)}finally{_c()}return new TT(this.componentType,We,de(st,Oe),Oe,st)}}class TT extends class k_{}{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Xu(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const g=this._rootLView;Zu(g[1],g,f,l,c),gh(g,this._tNode.index)}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function MT(){const a=$n();Nd(Te()[1],a)}function Bv(a){let l=function hp(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(wr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ce(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const b=a;b.inputs=qc(a.inputs),b.declaredInputs=qc(a.declaredInputs),b.outputs=qc(a.outputs);const E=f.hostBindings;E&&qa(a,E);const S=f.viewQuery,A=f.contentQueries;if(S&&jl(a,S),A&&fp(a,A),ie(a.inputs,f.inputs),ie(a.declaredInputs,f.declaredInputs),ie(a.outputs,f.outputs),wr(f)&&f.data.animation){const x=a.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let b=0;b<g.length;b++){const E=g[b];E&&E.ngInherit&&E(a),E===Bv&&(c=!1)}}l=Object.getPrototypeOf(l)}!function hw(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=wc(f.hostAttrs,c=wc(c,f.hostAttrs))}}(d)}function qc(a){return a===Di?{}:a===xt?[]:a}function jl(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function fp(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function qa(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Gl=null;function Yo(){if(!Gl){const a=qe.Symbol;if(a&&a.iterator)Gl=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Gl=d)}}}return Gl}function pp(a){return!!Xm(a)&&(Array.isArray(a)||!(a instanceof Map)&&Yo()in a)}function Xm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function $a(a,l,c){return a[l]=c}function jr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function ed(a,l,c,d){const f=jr(a,l,c);return jr(a,l+1,d)||f}function Uv(a,l,c,d){const f=Te();return jr(f,Bs(),l)&&(Gt(),Ei(bn(),f,a,l,c,d)),Uv}function $c(a,l,c,d){return jr(a,Bs(),c)?l+ye(c)+d:jt}function gp(a,l,c,d,f,g,b,E){const A=function eg(a,l,c,d,f){const g=ed(a,l,c,d);return jr(a,l+2,f)||g}(a,function Xr(){return rt.lFrame.bindingIndex}(),c,f,b);return eo(3),A?l+ye(c)+d+ye(f)+g+ye(b)+E:jt}function OT(a,l,c,d,f,g,b,E){const S=Te(),A=Gt(),x=a+22,L=A.firstCreatePass?function mx(a,l,c,d,f,g,b,E,S){const A=l.consts,x=zc(l,a,4,b||null,Nr(A,E));Vr(l,c,x,Nr(A,S)),Nd(l,x);const L=x.tViews=jm(2,x,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,x),L.queries=l.queries.embeddedTView(x)),x}(x,A,S,l,c,d,f,g,b):A.data[x];Fr(L,!1);const Z=S[11].createComment("");Am(A,S,Z,L),Ir(Z,S),Wm(S,S[x]=_h(Z,S,Z,L)),vo(L)&&Tv(A,S,L),null!=b&&Qi(S,L,E)}function NT(a){return as(function hc(){return rt.lFrame.contextLView}(),22+a)}function bs(a,l,c){const d=Te();return jr(d,Bs(),l)&&Hr(Gt(),bn(),d,a,l,d[11],c,!1),bs}function jv(a,l,c,d,f){const b=f?"class":"style";Zu(a,c,l.inputs[b],b,d)}function ng(a,l,c,d){const f=Te(),g=Gt(),b=22+a,E=f[11],S=f[b]=Q_(E,l,function yc(){return rt.lFrame.currentNamespace}()),A=g.firstCreatePass?function FT(a,l,c,d,f,g,b){const E=l.consts,A=zc(l,a,2,f,Nr(E,g));return Vr(l,c,A,Nr(E,b)),null!==A.attrs&&Qu(A,A.attrs,!1),null!==A.mergedAttrs&&Qu(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(b,g,f,0,l,c,d):g.data[b];Fr(A,!0);const x=A.mergedAttrs;null!==x&&js(E,S,x);const L=A.classes;null!==L&&Rm(E,S,L);const Z=A.styles;return null!==Z&&km(E,S,Z),64!=(64&A.flags)&&Am(g,f,S,A),0===function Cu(){return rt.lFrame.elementDepthCount}()&&Ir(S,f),function uc(){rt.lFrame.elementDepthCount++}(),vo(A)&&(Tv(g,f,A),ph(g,A,f)),null!==d&&Qi(f,A),ng}function Gv(){let a=$n();bl()?Sa():(a=a.parent,Fr(a,!1));const l=a;!function Ps(){rt.lFrame.elementDepthCount--}();const c=Gt();return c.firstCreatePass&&(Nd(c,a),hl(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ld(a){return 0!=(16&a.flags)}(l)&&jv(c,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function cm(a){return 0!=(32&a.flags)}(l)&&jv(c,l,Te(),l.stylesWithoutHost,!1),Gv}function yw(a,l,c,d){return ng(a,l,c,d),Gv(),yw}function qo(a,l,c){const d=Te(),f=Gt(),g=a+22,b=f.firstCreatePass?function Sh(a,l,c,d,f){const g=l.consts,b=Nr(g,d),E=zc(l,a,8,"ng-container",b);return null!==b&&Qu(E,b,!0),Vr(l,c,E,Nr(g,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(g,f,d,l,c):f.data[g];Fr(b,!0);const E=d[g]=d[11].createComment("");return Am(f,d,E,b),Ir(E,d),vo(b)&&(Tv(f,d,b),ph(f,b,d)),null!=c&&Qi(d,b),qo}function Kc(){let a=$n();const l=Gt();return bl()?Sa():(a=a.parent,Fr(a,!1)),l.firstCreatePass&&(Nd(l,a),hl(a)&&l.queries.elementEnd(a)),Kc}function od(a,l,c){return qo(a,l,c),Kc(),od}function Dh(){return Te()}function sd(a){return!!a&&"function"==typeof a.then}function Zc(a){return!!a&&"function"==typeof a.subscribe}const na=Zc;function zl(a,l,c,d){const f=Te(),g=Gt(),b=$n();return LT(g,f,f[11],b,a,l,0,d),zl}function Cs(a,l){const c=$n(),d=Te(),f=Gt();return LT(f,d,lw(Aa(f.data),c,d),c,a,l),Cs}function LT(a,l,c,d,f,g,b,E){const S=vo(d),x=a.firstCreatePass&&aw(a),L=l[8],Z=sw(l);let oe=!0;if(3&d.type||E){const We=bi(d,l),st=E?E(We):We,Mt=Z.length,xe=E?rn=>E(Xn(rn[d.index])):d.index;let St=null;if(!E&&S&&(St=function gx(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const b=f[g];if(b===c&&f[g+1]===d){const E=l[7],S=f[g+2];return E.length>S?E[S]:null}"string"==typeof b&&(g+=2)}return null}(a,l,f,d.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=g,St.__ngLastListenerFn__=g,oe=!1;else{g=UT(d,l,L,g,!1);const rn=c.listen(st,f,g);Z.push(g,rn),x&&x.push(f,xe,Mt,Mt+1)}}else g=UT(d,l,L,g,!1);const we=d.outputs;let Oe;if(oe&&null!==we&&(Oe=we[f])){const We=Oe.length;if(We)for(let st=0;st<We;st+=2){const On=l[Oe[st]][Oe[st+1]].subscribe(g),_d=Z.length;Z.push(g,On),x&&x.push(f,d.index,_d,-(_d+1))}}}function BT(a,l,c,d){try{return!1!==c(d)}catch(f){return Km(a,f),!1}}function UT(a,l,c,d,f){return function g(b){if(b===Function)return d;Ov(2&a.flags?Ii(a.index,l):l);let S=BT(l,0,d,b),A=g.__ngNextListenerFn__;for(;A;)S=BT(l,0,A,b)&&S,A=A.__ngNextListenerFn__;return f&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function bw(a=1){return function Du(a){return(rt.lFrame.contextLView=function vc(a,l){for(;a>0;)l=l[15],a--;return l}(a,rt.lFrame.contextLView))[8]}(a)}function _x(a,l){let c=null;const d=function Pm(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?tp(a,g,!0):RC(d,g))return f}else c=f}return c}function HT(a){const l=Te()[16][6];if(!l.projection){const d=l.projection=qs(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const b=a?_x(g,a):0;null!==b&&(f[b]?f[b].projectionNext=g:d[b]=g,f[b]=g),g=g.next}}}function VT(a,l=0,c){const d=Te(),f=Gt(),g=zc(f,22+a,16,null,c||null);null===g.projection&&(g.projection=l),Sa(),64!=(64&g.flags)&&function BD(a,l,c){DC(l[11],0,l,c,vC(a,c,l),CC(c.parent||l[6],c,l))}(f,d,g)}function Cw(a,l,c){return ww(a,"",l,"",c),Cw}function ww(a,l,c,d,f){const g=Te(),b=$c(g,l,c,d);return b!==jt&&Hr(Gt(),bn(),g,a,b,g[11],f,!1),ww}function KT(a,l,c,d,f){const g=a[c+1],b=null===l;let E=d?_s(g):Uc(g),S=!1;for(;0!==E&&(!1===S||b);){const x=a[E+1];bx(a[E],l)&&(S=!0,a[E+1]=d?Fm(x):Xs(x)),E=d?_s(x):Uc(x)}S&&(a[c+1]=d?Xs(g):Fm(g))}function bx(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&wo(a,l)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZT(a){return a.substring(mr.key,mr.keyEnd)}function Cx(a){return a.substring(mr.value,mr.valueEnd)}function QT(a,l){const c=mr.textEnd;return c===l?-1:(l=mr.keyEnd=function Sx(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,mr.key=l,c),vp(a,l,c))}function JT(a,l){const c=mr.textEnd;let d=mr.key=vp(a,l,c);return c===d?-1:(d=mr.keyEnd=function Dx(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=eI(a,d,c),d=mr.value=vp(a,d,c),d=mr.valueEnd=function Tx(a,l,c){let d=-1,f=-1,g=-1,b=l,E=b;for(;b<c;){const S=a.charCodeAt(b++);if(59===S)return E;34===S||39===S?E=b=tI(a,S,b,c):l===b-4&&85===g&&82===f&&76===d&&40===S?E=b=tI(a,41,b,c):S>32&&(E=b),g=f,f=d,d=-33&S}return E}(a,d,c),eI(a,d,c))}function XT(a){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=a.length}function vp(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function eI(a,l,c,d){return(l=vp(a,l,c))<c&&l++,l}function tI(a,l,c,d){let f=-1,g=c;for(;g<d;){const b=a.charCodeAt(g++);if(b==l&&92!==f)return g;f=92==b&&92===f?0:b}throw new Error}function Dw(a,l,c){return ia(a,l,c,!1),Dw}function Tw(a,l){return ia(a,l,null,!0),Tw}function Ix(a,l){for(let c=function Ex(a){return XT(a),JT(a,vp(a,0,mr.textEnd))}(l);c>=0;c=JT(l,c))rI(a,ZT(l),Cx(l))}function Ka(a,l){for(let c=function wx(a){return XT(a),QT(a,vp(a,0,mr.textEnd))}(l);c>=0;c=QT(l,c))cr(a,ZT(l),!0)}function ia(a,l,c,d){const f=Te(),g=Gt(),b=eo(2);g.firstUpdatePass&&iI(g,a,b,d),l!==jt&&jr(f,b,l)&&oI(g,g.data[Ci()],f,f[11],a,f[b+1]=function Nx(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=fe(_n(a)))),a}(l,c),d,b)}function Za(a,l,c,d){const f=Gt(),g=eo(2);f.firstUpdatePass&&iI(f,null,g,d);const b=Te();if(c!==jt&&jr(b,g,c)){const E=f.data[Ci()];if(aI(E,d)&&!nI(f,g)){let S=d?E.classesWithoutHost:E.stylesWithoutHost;null!==S&&(c=me(S,c||"")),jv(f,E,b,c,d)}else!function Px(a,l,c,d,f,g,b,E){f===jt&&(f=xt);let S=0,A=0,x=0<f.length?f[0]:null,L=0<g.length?g[0]:null;for(;null!==x||null!==L;){const Z=S<f.length?f[S+1]:void 0,oe=A<g.length?g[A+1]:void 0;let Oe,we=null;x===L?(S+=2,A+=2,Z!==oe&&(we=L,Oe=oe)):null===L||null!==x&&x<L?(S+=2,we=x):(A+=2,we=L,Oe=oe),null!==we&&oI(a,l,c,d,we,Oe,b,E),x=S<f.length?f[S]:null,L=A<g.length?g[A]:null}}(f,E,b,b[11],b[g+1],b[g+1]=function Ox(a,l,c){if(null==c||""===c)return xt;const d=[],f=_n(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,g)}}function nI(a,l){return l>=a.expandoStartIndex}function iI(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[Ci()],b=nI(a,c);aI(g,d)&&null===l&&!b&&(l=!1),l=function Mx(a,l,c,d){const f=Aa(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=ig(c=Iw(null,a,l,c,d),l.attrs,d),g=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(c=Iw(f,a,l,c,d),null===g){let S=function kx(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Uc(d))return a[_s(d)]}(a,l,d);void 0!==S&&Array.isArray(S)&&(S=Iw(null,a,l,S[1],d),S=ig(S,l.attrs,d),function Rx(a,l,c,d){a[_s(c?l.classBindings:l.styleBindings)]=d}(a,l,d,S))}else g=function xx(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=ig(d,a[g].hostAttrs,c);return ig(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function vx(a,l,c,d,f,g){let b=g?l.classBindings:l.styleBindings,E=_s(b),S=Uc(b);a[d]=c;let x,A=!1;if(Array.isArray(c)){const L=c;x=L[1],(null===x||wo(L,x)>0)&&(A=!0)}else x=c;if(f)if(0!==S){const Z=_s(a[E+1]);a[d+1]=pv(Z,E),0!==Z&&(a[Z+1]=sp(a[Z+1],d)),a[E+1]=function aT(a,l){return 131071&a|l<<17}(a[E+1],d)}else a[d+1]=pv(E,0),0!==E&&(a[E+1]=sp(a[E+1],d)),E=d;else a[d+1]=pv(S,0),0===E?E=d:a[S+1]=sp(a[S+1],d),S=d;A&&(a[d+1]=Xs(a[d+1])),KT(a,x,d,!0),KT(a,x,d,!1),function yx(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&wo(g,l)>=0&&(c[d+1]=Fm(c[d+1]))}(l,x,a,d,g),b=pv(E,S),g?l.classBindings=b:l.styleBindings=b}(f,g,l,c,b,d)}}function Iw(a,l,c,d,f){let g=null;const b=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<b&&(g=l[E],d=ig(d,g.hostAttrs,f),g!==a);)E++;return null!==a&&(c.directiveStylingLast=E),d}function ig(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const b=l[g];"number"==typeof b?f=b:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),cr(a,b,!!c||l[++g]))}return void 0===a?null:a}function rI(a,l,c){cr(a,l,_n(c))}function oI(a,l,c,d,f,g,b,E){if(!(3&l.type))return;const S=a.data,A=S[E+1];zv(function gv(a){return 1==(1&a)}(A)?sI(S,l,c,f,Uc(A),b):void 0)||(zv(g)||function mv(a){return 2==(2&a)}(A)&&(g=sI(S,null,c,f,E,b)),function UD(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Qs.DashCase;null==f?a.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Qs.Important),a.setStyle(c,d,f,g))}}(d,b,vl(Ci(),c),f,g))}function sI(a,l,c,d,f,g){const b=null===l;let E;for(;f>0;){const S=a[f],A=Array.isArray(S),x=A?S[1]:S,L=null===x;let Z=c[f+1];Z===jt&&(Z=L?xt:void 0);let oe=L?Gd(Z,d):x===d?Z:void 0;if(A&&!zv(oe)&&(oe=Gd(S,d)),zv(oe)&&(E=oe,b))return E;const we=a[f+1];f=b?_s(we):Uc(we)}if(null!==l){let S=g?l.residualClasses:l.residualStyles;null!=S&&(E=Gd(S,d))}return E}function zv(a){return void 0!==a}function aI(a,l){return 0!=(a.flags&(l?16:32))}function lI(a,l=""){const c=Te(),d=Gt(),f=a+22,g=d.firstCreatePass?zc(d,f,1,l,null):d.data[f],b=c[f]=function Jf(a,l){return a.createText(l)}(c[11],l);Am(d,c,b,g),Fr(g,!1)}function Aw(a){return Yv("",a,""),Aw}function Yv(a,l,c){const d=Te(),f=$c(d,a,l,c);return f!==jt&&Vl(d,Ci(),f),Yv}function Mw(a,l,c,d,f,g,b){const E=Te(),S=gp(E,a,l,c,d,f,g,b);return S!==jt&&Vl(E,Ci(),S),Mw}function gI(a,l,c){Za(cr,Ka,$c(Te(),a,l,c),!0)}function _I(a,l,c){!function Yl(a){Za(rI,Ix,a,!1)}($c(Te(),a,l,c))}function Th(a,l,c){const d=Te();return jr(d,Bs(),l)&&Hr(Gt(),bn(),d,a,l,d[11],c,!0),Th}function ad(a,l,c){const d=Te();if(jr(d,Bs(),l)){const g=Gt(),b=bn();Hr(g,b,d,a,l,lw(Aa(g.data),b,d),c,!0)}return ad}const Qc=void 0;var DI=["en",[["a","p"],["AM","PM"],Qc],[["AM","PM"],Qc,Qc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qc,"{1} 'at' {0}",Qc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rg(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ld={};function Ht(a){const l=function TI(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=yp(l);if(c)return c;const d=l.split("-")[0];if(c=yp(d),c)return c;if("en"===d)return DI;throw new Ce(701,!1)}function qv(a){return Ht(a)[_t.PluralCase]}function yp(a){return a in ld||(ld[a]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[a]),ld[a]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const Ih="en-US";let xw=Ih;function Zw(a,l,c,d,f){if(a=ee(a),Array.isArray(a))for(let g=0;g<a.length;g++)Zw(a[g],l,c,d,f);else{const g=Gt(),b=Te();let E=Ur(a)?a:ee(a.provide),S=Xd(a);const A=$n(),x=1048575&A.providerIndexes,L=A.directiveStart,Z=A.providerIndexes>>20;if(Ur(a)||!a.multi){const oe=new ka(S,f,uh),we=Jc(E,l,f?x:x+Z,L);-1===we?(Rn(Hn(A,b),g,E),Mh(g,a,l.length),l.push(E),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(oe),b.push(oe)):(c[we]=oe,b[we]=oe)}else{const oe=Jc(E,l,x+Z,L),we=Jc(E,l,x,x+Z),Oe=oe>=0&&c[oe],We=we>=0&&c[we];if(f&&!We||!f&&!Oe){Rn(Hn(A,b),g,E);const st=function JI(a,l,c,d,f){const g=new ka(a,c,uh);return g.multi=[],g.index=l,g.componentProviders=0,kh(g,f,d&&!c),g}(f?Jw:Qw,c.length,f,d,S);!f&&We&&(c[we].providerFactory=st),Mh(g,a,l.length,0),l.push(E),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(st),b.push(st)}else Mh(g,a,oe>-1?oe:we,kh(c[f?we:oe],S,!f&&d));!f&&d&&We&&c[we].componentProviders++}}}function Mh(a,l,c,d){const f=Ur(l),g=function Uf(a){return!!a.useClass}(l);if(f||g){const S=(g?ee(l.useClass):l).prototype.ngOnDestroy;if(S){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const x=A.indexOf(c);-1===x?A.push(c,[d,S]):A[x+1].push(d,S)}else A.push(c,S)}}}function kh(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function Jc(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function Qw(a,l,c,d){return Xw(this.multi,[])}function Jw(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=zs(c,c[1],this.providerFactory.index,d);g=E.slice(0,b),Xw(f,g);for(let S=b;S<E.length;S++)g.push(E[S])}else g=[],Xw(f,g);return g}function Xw(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function eE(a,l=[]){return c=>{c.providersResolver=(d,f)=>function fO(a,l,c){const d=Gt();if(d.firstCreatePass){const f=wr(a);Zw(c,d.data,d.blueprint,f,!0),Zw(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Pi{}class Xc{}function XI(a,l){return new nE(a,l??null)}class nE extends Pi{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);const d=qi(l);this._bootstrapComponents=Bl(d.bootstrap),this._r3Injector=ov(l,c,[{provide:Pi,useValue:this},{provide:O,useValue:this.componentFactoryResolver}],fe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class sy extends Xc{constructor(l){super(),this.moduleType=l}create(l){return new nE(this.moduleType,l)}}class eA extends Pi{constructor(l,c,d){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;const f=new ja([...l,{provide:Pi,useValue:this},{provide:O,useValue:this.componentFactoryResolver}],c||ni(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function ay(a,l,c=null){return new eA(a,l,c).injector}function rA(a,l,c){const d=Ai()+a,f=Te();return f[d]===jt?$a(f,d,c?l.call(c):l()):function mp(a,l){return a[l]}(f,d)}function uE(a,l,c,d,f,g,b){const E=l+c;return ed(a,E,f,g)?$a(a,E+2,b?d.call(b,f,g):d(f,g)):function Sp(a,l){const c=a[l];return c===jt?void 0:c}(a,E+2)}function pE(a,l){const c=Gt();let d;const f=a+22;c.firstCreatePass?(d=function yO(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=os(d.type)),b=Yn(uh);try{const E=no(!1),S=g();return no(E),function PT(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Te(),f,S),S}finally{Yn(b)}}function gy(a,l,c,d){const f=a+22,g=Te(),b=as(g,f);return function Dp(a,l){return a[1].data[l].pure}(g,f)?uE(g,Ai(),l,b.transform,c,d,b):b.transform(c,d)}function _y(a){return l=>{setTimeout(a,void 0,l)}}const ws=class Tp extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,g=c||(()=>null),b=d;if(l&&"object"==typeof l){const S=l;f=S.next?.bind(S),g=S.error?.bind(S),b=S.complete?.bind(S)}this.__isAsync&&(g=_y(g),f&&(f=_y(f)),b&&(b=_y(b)));const E=super.subscribe({next:f,error:g,complete:b});return l instanceof re.w0&&l.add(E),E}};function hA(){return this._results[Yo()]()}class fg{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Yo(),d=fg.prototype;d[c]||(d[c]=hA)}get changes(){return this._changes||(this._changes=new ws)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Bi(l);(this._changesDetected=!function jd(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pg=(()=>{class a{}return a.__NG_ELEMENT_ID__=wO,a})();const bO=pg,CO=class extends bO{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=Vm(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(d)),Wu(d,f,l),new Ju(f)}};function wO(){return mg($n(),Te())}function mg(a,l){return 4&a.type?new CO(l,a,de(a,l)):null}let eu=(()=>{class a{}return a.__NG_ELEMENT_ID__=EO,a})();function EO(){return pA($n(),Te())}const SO=eu,fA=class extends SO{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return de(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){const l=Wn(this._hostTNode,this._hostLView);if(yf(l)){const c=cs(l,this._hostLView),d=El(l);return new Sr(c[1].data[d+8],c)}return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=gE(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const b=l.createEmbeddedView(c||{},g);return this.insert(b,f),b}createComponent(l,c,d,f,g){const b=l&&!function Ac(a){return"function"==typeof a}(l);let E;if(b)E=c;else{const L=c||{};E=L.index,d=L.injector,f=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const S=b?l:new dp(Vt(l)),A=d||this.parentInjector;if(!g&&null==S.ngModule){const Z=(b?A:this.parentInjector).get(Pt,null);Z&&(g=Z)}const x=S.create(A,f,void 0,g);return this.insert(x.hostView,E),x}insert(l,c){const d=l._lView,f=d[1];if(function ba(a){return Cr(a[3])}(d)){const x=this.indexOf(l);if(-1!==x)this.detach(x);else{const L=d[3],Z=new fA(L,L[6],L[3]);Z.detach(Z.indexOf(l))}}const g=this._adjustIndex(c),b=this._lContainer;!function OD(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],Pa(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const b=l[17];null!==b&&c!==b&&function PD(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(b,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=64}(f,d,b,g);const E=tv(g,b),S=d[11],A=Im(S,b[7]);return null!==A&&function ms(a,l,c,d,f,g){d[0]=f,d[6]=l,ep(a,d,c,1,f,g)}(f,b[6],S,d,A,E),l.attachToViewContainerRef(),Pa(_E(b),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=gE(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=oh(this._lContainer,c);d&&(Tl(_E(this._lContainer),c),_C(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=oh(this._lContainer,c);return d&&null!=Tl(_E(this._lContainer),c)?new Ju(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function gE(a){return a[8]}function _E(a){return a[8]||(a[8]=[])}function pA(a,l){let c;const d=l[a.index];if(Cr(d))c=d;else{let f;if(8&a.type)f=Xn(d);else{const g=l[11];f=g.createComment("");const b=bi(a,l);Js(g,Im(g,b),f,function FD(a,l){return a.nextSibling(l)}(g,b),!1)}l[a.index]=c=_h(d,l,f,a),Wm(l,c)}return new fA(c,a,l)}class dd{constructor(l){this.queryList=l,this.matches=null}clone(){return new dd(this.queryList)}setDirty(){this.queryList.setDirty()}}class vE{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const b=c.getByIndex(g);f.push(this.queries[b.indexInDeclarationView].clone())}return new vE(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==SE(l,c).matches&&this.queries[c].setDirty()}}class mA{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Ip{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Ip(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class vy{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new vy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,yy(c,g)),this.matchTNodeWithReadOption(l,c,xa(c,l,g,!1,!1))}else d===pg?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,xa(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Le||f===eu||f===pg&&4&c.type)this.addMatch(c.index,-2);else{const g=xa(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function yy(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function yE(a,l,c,d){return-1===c?function IO(a,l){return 11&a.type?de(a,l):4&a.type?mg(a,l):null}(l,a):-2===c?function bE(a,l,c){return c===Le?de(l,a):c===pg?mg(l,a):c===eu?pA(l,a):void 0}(a,l,d):zs(a,a[1],c,l)}function gg(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,b=c.matches,E=[];for(let S=0;S<b.length;S+=2){const A=b[S];E.push(A<0?null:yE(l,g[A],b[S+1],c.metadata.read))}f.matches=E}return f.matches}function CE(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const b=gg(a,l,f,c);for(let E=0;E<g.length;E+=2){const S=g[E];if(S>0)d.push(b[E/2]);else{const A=g[E+1],x=l[-S];for(let L=10;L<x.length;L++){const Z=x[L];Z[17]===Z[3]&&CE(Z[1],Z,A,d)}if(null!==x[9]){const L=x[9];for(let Z=0;Z<L.length;Z++){const oe=L[Z];CE(oe[1],oe,A,d)}}}}}return d}function gA(a){const l=Te(),c=Gt(),d=fc();Cl(d+1);const f=SE(c,d);if(a.dirty&&Os(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?CE(c,l,d,[]):gg(c,l,f,d);a.reset(g,it),a.notifyOnChanges()}return!0}return!1}function Oh(a,l,c){const d=Gt();d.firstCreatePass&&(wE(d,new mA(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),To(d,Te(),l)}function by(a,l,c,d){const f=Gt();if(f.firstCreatePass){const g=$n();wE(f,new mA(l,c,d),g.index),function EE(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}To(f,Te(),c)}function Cy(){return function hd(a,l){return a[19].queries[l].queryList}(Te(),fc())}function To(a,l,c){const d=new fg(4==(4&c));Av(a,l,d,d.destroy),null===l[19]&&(l[19]=new vE),l[19].queries.push(new dd(d))}function wE(a,l,c){null===a.queries&&(a.queries=new Ip),a.queries.track(new vy(l,c))}function SE(a,l){return a.queries.getByIndex(l)}function fd(a){const l=Vt(a)||Ln(a)||vi(a);return null!==l&&l.standalone}function nu(...a){}const md=new Jt("Application Initializer");let iu=(()=>{class a{constructor(c){this.appInits=c,this.resolve=nu,this.reject=nu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(sd(g))c.push(g);else if(na(g)){const b=new Promise((E,S)=>{g.subscribe({complete:E,error:S})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Cn(md,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Sg=new Jt("AppId",{providedIn:"root",factory:function Ry(){return`${Dg()}${Dg()}${Dg()}`}});function Dg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rp=new Jt("Platform Initializer"),HE=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xy=new Jt("appBootstrapListener"),Xa=new Jt("AnimationModuleType");let NO=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Tg=new Jt("LocaleId",{providedIn:"root",factory:()=>Ou(Tg,wt.Optional|wt.SkipSelf)||function FO(){return typeof $localize<"u"&&$localize.locale||Ih}()}),LO=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ag{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let TA=(()=>{class a{compileModuleSync(c){return new sy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Bl(qi(c).declarations).reduce((b,E)=>{const S=Vt(E);return S&&b.push(new dp(S)),b},[]);return new Ag(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const AA=(()=>Promise.resolve(0))();function jE(a){typeof Zone>"u"?AA.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Io{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function MA(){let a=qe.requestAnimationFrame,l=qe.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function GE(a){const l=()=>{!function kA(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(qe,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Op(a),a.isCheckStableRunning=!0,xp(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Op(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,b,E)=>{try{return zE(a),c.invokeTask(f,g,b,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),RA(a)}},onInvoke:(c,d,f,g,b,E,S)=>{try{return zE(a),c.invoke(f,g,b,E,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),RA(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Op(a),xp(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Ce(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+f,l,UO,nu,nu);try{return g.runTask(b,c,d)}finally{g.cancelTask(b)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const UO={};function xp(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Op(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function zE(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function RA(a){a._nesting--,xp(a)}class xA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const Nh=new Jt(""),Fh=new Jt("");let qE,YE=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qE||(function vn(a){qE=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),jE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Cn(Io),Cn(Uy),Cn(Fh))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})(),Uy=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return qE?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),ru=null;const Hy=new Jt("AllowMultipleToken"),$E=new Jt("PlatformDestroyListeners");class WE{constructor(l,c){this.name=l,this.token=c}}function ZE(a,l,c=[]){const d=`Platform: ${l}`,f=new Jt(d);return(g=[])=>{let b=kg();if(!b||b.injector.get(Hy,!1)){const E=[...c,...g,{provide:f,useValue:!0}];a?a(E):function PA(a){if(ru&&!ru.get(Hy,!1))throw new Ce(400,!1);ru=a;const l=a.get(XE);(function Vy(a){const l=a.get(Rp,null);l&&l.forEach(c=>c())})(a)}(function JE(a=[],l){return Bc.create({name:l,providers:[{provide:Hf,useValue:"platform"},{provide:$E,useValue:new Set([()=>ru=null])},...a]})}(E,d))}return function QE(a){const l=kg();if(!l)throw new Ce(401,!1);return l}()}}function kg(){return ru?.get(XE)??null}let XE=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function NA(a,l){let c;return c="noop"===a?new xA:("zone.js"===a?void 0:a)||new Io(l),c}(d?.ngZone,function jy(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Io,useValue:f}];return f.run(()=>{const b=Bc.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(b),S=E.injector.get(nh,null);if(!S)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:x=>{S.handleError(x)}});E.onDestroy(()=>{Pp(this._modules,E),A.unsubscribe()})}),function Gy(a,l,c){try{const d=c();return sd(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(S,f,()=>{const A=E.injector.get(iu);return A.runInitializers(),A.donePromise.then(()=>(function Ow(a){Kt(a,"Expected localeId to be defined"),"string"==typeof a&&(xw=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Tg,Ih)||Ih),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const f=Rg({},d);return function HO(a,l,c){const d=new sy(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(xg);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ce(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get($E,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Cn(Bc))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Rg(a,l){return Array.isArray(l)?l.reduce(Rg,a):{...a,...l}}let xg=(()=>{class a{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new N.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),jE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ue.T)(g,b.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof y;if(!this._injector.get(iu).done)throw!f&&fd(c),new Ce(405,false);let b;b=f?c:this._injector.get(O).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const E=function OA(a){return a.isBoundToModule}(b)?void 0:this._injector.get(Pi),A=b.create(Bc.NULL,[],d||b.selector,E),x=A.location.nativeElement,L=A.injector.get(Nh,null);return L?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),Pp(this.components,A),L?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Pp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(xy,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Pp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ce(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(Cn(Io),Cn(Pt),Cn(nh))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Pp(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let t0=!0,Og=!1;function FA(){return Og=!0,t0}function zy(){if(Og)throw new Error("Cannot enable prod mode after platform setup.");t0=!1}let BA=(()=>{class a{}return a.__NG_ELEMENT_ID__=n0,a})();function n0(a){return function UA(a,l,c){if(fl(a)&&!c){const d=Ii(a.index,l);return new Ju(d,d)}return 47&a.type?new Ju(l[16],l):null}($n(),Te(),16==(16&a))}class Ky{constructor(){}supports(l){return pp(l)}create(l){return new l0(l)}}const zA=(a,l)=>l;class l0{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||zA}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const b=!d||c&&c.currentIndex<$A(d,f,g)?c:d,E=$A(b,f,g),S=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{g||(g=[]);const A=E-f,x=S-f;if(A!=x){for(let Z=0;Z<A;Z++){const oe=Z<g.length?g[Z]:g[Z]=0,we=oe+Z;x<=we&&we<A&&(g[Z]=oe+1)}g[b.previousIndex]=x-A}}E!==S&&l(b,E,S)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!pp(l))throw new Ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,b,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)g=l[E],b=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,g,b,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,b,E),d=!0),c=c._next}else f=0,function RT(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Yo()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,E=>{b=this._trackByFn(f,E),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,E,b,f)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,b,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new YA(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new qA),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qA),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class YA{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class c0{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class qA{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new c0,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $A(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class WA{constructor(){}supports(l){return l instanceof Map||Xm(l)}create(){return new u0}}class u0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Xm(l)))throw new Ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,b=f._next;return g&&(g._next=b),b&&(b._prev=g),f._next=null,f._prev=null,f}const d=new d0(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class d0{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ng(){return new Fg([new Ky])}let Fg=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Ng()),deps:[[a,new ut,new Se]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ce(901,!1)}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:Ng}),a})();function KA(){return new Lg([new WA])}let Lg=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||KA()),deps:[[a,new ut,new Se]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ce(901,!1)}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:KA}),a})();const Zy=ZE(null,"core",[]);let h0=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Cn(xg))},a.\u0275mod=ft({type:a}),a.\u0275inj=an({}),a})();function f0(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ht,Ie,F)=>{F.d(Ie,{Z:()=>Ce});var o=F(2090),re=F(4859),N=F(9681),ue=F(1877);class ce{constructor(ye,ge){this._delegate=ye,this.firebase=ge,(0,N._addComponent)(ye,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,ge=N._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(ye);return!dt.isInitialized()&&"EXPLICIT"===(null===(nt=dt.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:ge})}_removeServiceInstance(ye,ge=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ge)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function me(){const at=function fe(at){const ye={},ge={__esModule:!0,initializeApp:function Re(Ye,q={}){const be=N.initializeApp(Ye,q);if((0,o.r3)(ye,be.name))return ye[be.name];const X=new at(be,ge);return ye[be.name]=X,X},app:dt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(Ye){const q=Ye.name,be=q.replace("-compat","");if(N._registerComponent(Ye)&&"PUBLIC"===Ye.type){const X=(le=dt())=>{if("function"!=typeof le[be])throw ie.create("invalid-app-argument",{appName:q});return le[be]()};void 0!==Ye.serviceProps&&(0,o.ZB)(X,Ye.serviceProps),ge[be]=X,at.prototype[be]=function(...le){return this._getService.bind(this,q).apply(this,Ye.multipleInstances?le:[])}}return"PUBLIC"===Ye.type?ge[be]:null},removeApp:function nt(Ye){delete ye[Ye]},useAsService:function je(Ye,q){return"serverAuth"===q?null:q},modularAPIs:N}};function dt(Ye){if(!(0,o.r3)(ye,Ye=Ye||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ye});return ye[Ye]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function _e(){return Object.keys(ye).map(Ye=>ye[Ye])}}),dt.App=at,ge}(ce);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(ge){(0,o.ZB)(at,ge)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),at}(),Y=new ue.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=z;!function ke(at){(0,N.registerVersion)("@firebase/app-compat","0.1.32",at)}()},9681:(ht,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>mo,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>En,_addOrOverwriteComponent:()=>hn,_apps:()=>yn,_clearComponents:()=>po,_components:()=>si,_getProvider:()=>an,_registerComponent:()=>ir,_removeServiceInstance:()=>Zt,deleteApp:()=>wt,getApp:()=>vr,getApps:()=>Zr,initializeApp:()=>ts,onLog:()=>Yn,registerVersion:()=>ai,setLogLevel:()=>go});var o=F(5861),re=F(4859),N=F(1877),ue=F(2090),ce=F(8766);class pe{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map($=>{if(function ie(V){return"VERSION"===V.getComponent()?.type}($)){const Me=$.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter($=>$).join(" ")}}const fe="@firebase/app",z=new N.Yd("@firebase/app"),Kt="[DEFAULT]",et={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,si=new Map;function En(V,K){try{V.container.addComponent(K)}catch($){z.debug(`Component ${K.name} failed to register with FirebaseApp ${V.name}`,$)}}function hn(V,K){V.container.addOrOverwriteComponent(K)}function ir(V){const K=V.name;if(si.has(K))return z.debug(`There were multiple attempts to register component ${K}.`),!1;si.set(K,V);for(const $ of yn.values())En($,V);return!0}function an(V,K){const $=V.container.getProvider("heartbeat").getImmediate({optional:!0});return $&&$.triggerHeartbeat(),V.container.getProvider(K)}function Zt(V,K,$=Kt){an(V,K).clearInstance($)}function po(){si.clear()}const Xi=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _r{constructor(K,$,Me){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const mo="9.9.3";function ts(V,K={}){"object"!=typeof K&&(K={name:K});const $=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},K),Me=$.name;if("string"!=typeof Me||!Me)throw Xi.create("bad-app-name",{appName:String(Me)});const Ge=yn.get(Me);if(Ge){if((0,ue.vZ)(V,Ge.options)&&(0,ue.vZ)($,Ge.config))return Ge;throw Xi.create("duplicate-app",{appName:Me})}const ft=new re.H0(Me);for(const ln of si.values())ft.addComponent(ln);const Sn=new _r(V,$,ft);return yn.set(Me,Sn),Sn}function vr(V=Kt){const K=yn.get(V);if(!K)throw Xi.create("no-app",{appName:V});return K}function Zr(){return Array.from(yn.values())}function wt(V){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.Z)(function*(V){const K=V.name;yn.has(K)&&(yn.delete(K),yield Promise.all(V.container.getProviders().map($=>$.delete())),V.isDeleted=!0)})).apply(this,arguments)}function ai(V,K,$){var Me;let Ge=null!==(Me=et[V])&&void 0!==Me?Me:V;$&&(Ge+=`-${$}`);const ft=Ge.match(/\s|\//),Sn=K.match(/\s|\//);if(ft||Sn){const ln=[`Unable to register library "${Ge}" with version "${K}":`];return ft&&ln.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),ft&&Sn&&ln.push("and"),Sn&&ln.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void z.warn(ln.join(" "))}ir(new re.wA(`${Ge}-version`,()=>({library:Ge,version:K}),"VERSION"))}function Yn(V,K){if(null!==V&&"function"!=typeof V)throw Xi.create("invalid-log-argument");(0,N.Am)(V,K)}function go(V){(0,N.Ub)(V)}const _i="firebase-heartbeat-store";let kr=null;function As(){return kr||(kr=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(V,K)=>{0===K&&V.createObjectStore(_i)}}).catch(V=>{throw Xi.create("idb-open",{originalErrorMessage:V.message})})),kr}function qe(){return(qe=(0,o.Z)(function*(V){var K;try{return(yield As()).transaction(_i).objectStore(_i).get(Di(V))}catch($){if($ instanceof ue.ZR)z.warn($.message);else{const Me=Xi.create("idb-get",{originalErrorMessage:null===(K=$)||void 0===K?void 0:K.message});z.warn(Me.message)}}})).apply(this,arguments)}function Rt(V,K){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(V,K){var $;try{const Ge=(yield As()).transaction(_i,"readwrite");return yield Ge.objectStore(_i).put(K,Di(V)),Ge.done}catch(Me){if(Me instanceof ue.ZR)z.warn(Me.message);else{const Ge=Xi.create("idb-set",{originalErrorMessage:null===($=Me)||void 0===$?void 0:$.message});z.warn(Ge.message)}}})).apply(this,arguments)}function Di(V){return`${V.name}!${V.options.appId}`}class Ti{constructor(K){this.container=K,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new br($),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var K=this;return(0,o.Z)(function*(){const Me=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Qr();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!K._heartbeatsCache.heartbeats.some(ft=>ft.date===Ge))return K._heartbeatsCache.heartbeats.push({date:Ge,agent:Me}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(ft=>{const Sn=new Date(ft.date).valueOf();return Date.now()-Sn<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,o.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const $=Qr(),{heartbeatsToSend:Me,unsentEntries:Ge}=function gn(V,K=1024){const $=[];let Me=V.slice();for(const Ge of V){const ft=$.find(Sn=>Sn.agent===Ge.agent);if(ft){if(ft.dates.push(Ge.date),G($)>K){ft.dates.pop();break}}else if($.push({agent:Ge.agent,dates:[Ge.date]}),G($)>K){$.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:$,unsentEntries:Me}}(K._heartbeatsCache.heartbeats),ft=(0,ue.L)(JSON.stringify({version:2,heartbeats:Me}));return K._heartbeatsCache.lastSentHeartbeatDate=$,Ge.length>0?(K._heartbeatsCache.heartbeats=Ge,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),ft})()}}function Qr(){return(new Date).toISOString().substring(0,10)}class br{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,o.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function tn(V){return qe.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var $=this;return(0,o.Z)(function*(){var Me;if(yield $._canUseIndexedDBPromise){const ft=yield $.read();return Rt($.app,{lastSentHeartbeatDate:null!==(Me=K.lastSentHeartbeatDate)&&void 0!==Me?Me:ft.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var $=this;return(0,o.Z)(function*(){var Me;if(yield $._canUseIndexedDBPromise){const ft=yield $.read();return Rt($.app,{lastSentHeartbeatDate:null!==(Me=K.lastSentHeartbeatDate)&&void 0!==Me?Me:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...K.heartbeats]})}})()}}function G(V){return(0,ue.L)(JSON.stringify({version:2,heartbeats:V})).length}!function W(V){ir(new re.wA("platform-logger",K=>new pe(K),"PRIVATE")),ir(new re.wA("heartbeat",K=>new Ti(K),"PRIVATE")),ai(fe,"0.7.31",V),ai(fe,"0.7.31","esm2017"),ai("fire-js","")}("")},4859:(ht,Ie,F)=>{F.d(Ie,{H0:()=>fe,wA:()=>N,zt:()=>ce});var o=F(5861),re=F(2090);class N{constructor(z,Y,ee){this.name=z,this.instanceFactory=Y,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ue="[DEFAULT]";class ce{constructor(z,Y){this.name=z,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Y=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Y)){const ee=new re.BH;if(this.instancesDeferred.set(Y,ee),this.isInitialized(Y)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:Y});He&&ee.resolve(He)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(z){var Y;const ee=this.normalizeInstanceIdentifier(z?.identifier),He=null!==(Y=z?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ke){if(He)return null;throw ke}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ie(me){return"EAGER"===me.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[Y,ee]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(Y);try{const ke=this.getOrInitializeService({instanceIdentifier:He});ee.resolve(ke)}catch{}}}}clearInstance(z=ue){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,o.Z)(function*(){const Y=Array.from(z.instances.values());yield Promise.all([...Y.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...Y.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ue){return this.instances.has(z)}getOptions(z=ue){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Y={}}=z,ee=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:ee,options:Y});for(const[ke,Ce]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ke)&&Ce.resolve(He);return He}onInit(z,Y){var ee;const He=this.normalizeInstanceIdentifier(Y),ke=null!==(ee=this.onInitCallbacks.get(He))&&void 0!==ee?ee:new Set;ke.add(z),this.onInitCallbacks.set(He,ke);const Ce=this.instances.get(He);return Ce&&z(Ce,He),()=>{ke.delete(z)}}invokeOnInitCallbacks(z,Y){const ee=this.onInitCallbacks.get(Y);if(ee)for(const He of ee)try{He(z,Y)}catch{}}getOrInitializeService({instanceIdentifier:z,options:Y={}}){let ee=this.instances.get(z);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(me=z,me===ue?void 0:me),options:Y}),this.instances.set(z,ee),this.instancesOptions.set(z,Y),this.invokeOnInitCallbacks(ee,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ee)}catch{}var me;return ee||null}normalizeInstanceIdentifier(z=ue){return this.component?this.component.multipleInstances?z:ue:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Y=this.getProvider(z.name);if(Y.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Y.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Y=new ce(z,this);return this.providers.set(z,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Ie,F)=>{F.d(Ie,{Am:()=>me,Ub:()=>fe,Yd:()=>ie,in:()=>re});const o=[];var re=(()=>{return(z=re||(re={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",re;var z})();const N={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},ue=re.INFO,ce={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},pe=(z,Y,...ee)=>{if(Y<z.logLevel)return;const He=(new Date).toISOString(),ke=ce[Y];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[ke](`[${He}]  ${z.name}:`,...ee)};class ie{constructor(Y){this.name=Y,this._logLevel=ue,this._logHandler=pe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in re))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...Y),this._logHandler(this,re.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...Y),this._logHandler(this,re.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,re.INFO,...Y),this._logHandler(this,re.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,re.WARN,...Y),this._logHandler(this,re.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...Y),this._logHandler(this,re.ERROR,...Y)}}function fe(z){o.forEach(Y=>{Y.setLogLevel(z)})}function me(z,Y){for(const ee of o){let He=null;Y&&Y.level&&(He=N[Y.level]),ee.userLogHandler=null===z?null:(ke,Ce,...at)=>{const ye=at.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(He??ke.logLevel)&&z({level:re[Ce].toLowerCase(),message:ye,args:at,type:ke.name})}}}},8766:(ht,Ie,F)=>{F.d(Ie,{Lj:()=>Re,X3:()=>dt});var o=F(5861);let N,ue;const ie=new WeakMap,fe=new WeakMap,me=new WeakMap,z=new WeakMap,Y=new WeakMap;let ke={get(q,be,X){if(q instanceof IDBTransaction){if("done"===be)return fe.get(q);if("objectStoreNames"===be)return q.objectStoreNames||me.get(q);if("store"===be)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ge(q[be])},set:(q,be,X)=>(q[be]=X,!0),has:(q,be)=>q instanceof IDBTransaction&&("done"===be||"store"===be)||be in q};function ye(q){return"function"==typeof q?function at(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...be){return q.apply(nt(this),be),ge(ie.get(this))}:function(...be){return ge(q.apply(nt(this),be))}:function(be,...X){const le=q.call(nt(this),be,...X);return me.set(le,be.sort?be.sort():[be]),ge(le)}}(q):(q instanceof IDBTransaction&&function He(q){if(fe.has(q))return;const be=new Promise((X,le)=>{const se=()=>{q.removeEventListener("complete",ve),q.removeEventListener("error",he),q.removeEventListener("abort",he)},ve=()=>{X(),se()},he=()=>{le(q.error||new DOMException("AbortError","AbortError")),se()};q.addEventListener("complete",ve),q.addEventListener("error",he),q.addEventListener("abort",he)});fe.set(q,be)}(q),((q,be)=>be.some(X=>q instanceof X))(q,function ce(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,ke):q)}function ge(q){if(q instanceof IDBRequest)return function ee(q){const be=new Promise((X,le)=>{const se=()=>{q.removeEventListener("success",ve),q.removeEventListener("error",he)},ve=()=>{X(ge(q.result)),se()},he=()=>{le(q.error),se()};q.addEventListener("success",ve),q.addEventListener("error",he)});return be.then(X=>{X instanceof IDBCursor&&ie.set(X,q)}).catch(()=>{}),Y.set(be,q),be}(q);if(z.has(q))return z.get(q);const be=ye(q);return be!==q&&(z.set(q,be),Y.set(be,q)),be}const nt=q=>Y.get(q);function dt(q,be,{blocked:X,upgrade:le,blocking:se,terminated:ve}={}){const he=indexedDB.open(q,be),Pe=ge(he);return le&&he.addEventListener("upgradeneeded",yt=>{le(ge(he.result),yt.oldVersion,yt.newVersion,ge(he.transaction))}),X&&he.addEventListener("blocked",()=>X()),Pe.then(yt=>{ve&&yt.addEventListener("close",()=>ve()),se&&yt.addEventListener("versionchange",()=>se())}).catch(()=>{}),Pe}function Re(q,{blocked:be}={}){const X=indexedDB.deleteDatabase(q);return be&&X.addEventListener("blocked",()=>be()),ge(X).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],je=new Map;function Ye(q,be){if(!(q instanceof IDBDatabase)||be in q||"string"!=typeof be)return;if(je.get(be))return je.get(be);const X=be.replace(/FromIndex$/,""),le=be!==X,se=De.includes(X);if(!(X in(le?IDBIndex:IDBObjectStore).prototype)||!se&&!_e.includes(X))return;const ve=function(){var he=(0,o.Z)(function*(Pe,...yt){const en=this.transaction(Pe,se?"readwrite":"readonly");let Kt=en.store;return le&&(Kt=Kt.index(yt.shift())),(yield Promise.all([Kt[X](...yt),se&&en.done]))[0]});return function(yt){return he.apply(this,arguments)}}();return je.set(be,ve),ve}!function Ce(q){ke=q(ke)}(q=>({...q,get:(be,X,le)=>Ye(be,X)||q.get(be,X,le),has:(be,X)=>!!Ye(be,X)||q.has(be,X)}))},5861:(ht,Ie,F)=>{function o(N,ue,ce,pe,ie,fe,me){try{var z=N[fe](me),Y=z.value}catch(ee){return void ce(ee)}z.done?ue(Y):Promise.resolve(Y).then(pe,ie)}function re(N){return function(){var ue=this,ce=arguments;return new Promise(function(pe,ie){var fe=N.apply(ue,ce);function me(Y){o(fe,pe,ie,me,z,"next",Y)}function z(Y){o(fe,pe,ie,me,z,"throw",Y)}me(void 0)})}}F.d(Ie,{Z:()=>re})}},ht=>{ht(ht.s=4430)}]);